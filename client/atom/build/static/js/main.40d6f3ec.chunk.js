(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{121:function(e,t){e.exports={makeid:function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t},validIdHelper:function(e){return e.replace(/[^a-zA-Z0-9-.#]/g,"")},prettifyString:function(e){var t,a=e.split("_");for(t=0;t<a.length;t++)a[t]=a[t].charAt(0).toUpperCase()+a[t].slice(1);return a.join(" ")},getUrlVars:function(e){for(var t,a={},n=e.slice(e.indexOf("?")+1).split("&"),r=0;r<n.length;r++)a[(t=n[r].split("="))[0]]=t[1];return a},decodeHtml:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}}},1288:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo_text.fdcf1447.svg"},1289:function(e,t,a){var n={"./background1.jpg":1290,"./background2.jpg":1291,"./background3.jpg":1292,"./background4.jpg":1293};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=1289},1290:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/background1.29b503d4.jpg"},1291:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/background2.1229c8ed.jpg"},1292:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/background3.fab43a80.jpg"},1293:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/background4.e2be32a1.jpg"},1294:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/logo.c18adbdf.svg"},1295:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SplashPageContent",(function(){return va})),a.d(n,"InventoryOverivewContent",(function(){return Ra})),a.d(n,"QueryBuilderContent",(function(){return Nn})),a.d(n,"ReportBuilderContent",(function(){return zn})),a.d(n,"SalesCalendarContent",(function(){return sr})),a.d(n,"SalesOverviewContent",(function(){return lr})),a.d(n,"WebAnalyticsContent",(function(){return ur}));var r=a(0),o=a.n(r),i=a(37),s=a.n(i),c=(a(661),a(8)),l=a(125),d=a(9),u=a.n(d),b=a(23),m=a(7),h=a(69),p=a.n(h),j=a(74),f=a(51),g=a(66),O=a(156),x=a(76),v=a(77),y=a(371),_=a(387),k=function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).accessToken=e.accessToken,n}return Object(v.a)(a,[{key:"fetchToken",value:function(){return this.accessToken}},{key:"getToken",value:function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isAuthenticated()||this.activeToken.setToken(this.fetchToken()),e.abrupt("return",this.activeToken);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(function(e){Object(y.a)(a,e);var t=Object(_.a)(a);function a(e,n){var r;return Object(x.a)(this,a),(r=t.call(this,e,n||new O.BrowserTransport(e))).activeToken=new O.AuthToken,r}return Object(v.a)(a,[{key:"fetchToken",value:function(){return fetch("")}},{key:"isAuthenticated",value:function(){var e=this.activeToken;return!(!e||!e.access_token)&&e.isActive()}},{key:"getToken",value:function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAuthenticated()){e.next=9;break}return e.next=3,this.fetchToken();case 3:return t=e.sent,e.t0=this.activeToken,e.next=7,t.json();case 7:e.t1=e.sent,e.t0.setToken.call(e.t0,e.t1);case 9:return e.abrupt("return",this.activeToken);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:return(a=e.sent)&&a.access_token&&(t.mode="cors",delete t.credentials,t.headers=Object(c.a)(Object(c.a)({},t.headers),{},{Authorization:"Bearer ".concat(this.activeToken.access_token)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(O.AuthSession)),C=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/readsession",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",{session:a.session});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/writesession",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Object(c.a)({},t))});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",{session:n.session});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/endsession",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.sent,e.abrupt("return",{message:t});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){var t=e.accessToken,a=e.lookerBaseUrl;if(t&&a){var n=new k(Object(c.a)(Object(c.a)({},Object(O.DefaultSettings)()),{},{base_url:a,accessToken:t}));return new O.Looker40SDK(n)}},I=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Date.now()>t)){e.next=4;break}return e.abrupt("return",{status:"expired"});case 4:return e.abrupt("return",{status:"ok"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=a(10),H=a(39),A=a(98),P=a(1377),F=a(1418),L=a(4),D=(a(341),a(594)),M=a(282),B=Object(D.a)({palette:{primary:{main:M.a[900]},secondary:{main:M.a[400]},fill:{main:"#343D4E"}}}),U=a(1352),E=Object(U.a)((function(e){return{root:{display:"flex",backgroundColor:"rgb(229, 229, 229)"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),zIndex:1201,backgroundColor:B.palette.fill.main},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawerHeader:Object(c.a)(Object(c.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),leftDrawer:{width:240,flexShrink:0},leftDrawerPaper:{width:240,borderRight:"none",backgroundColor:"transparent"},leftContent:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},leftContentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},topDrawer:{height:50,flexShrink:0},topDrawerPaper:{width:"100%",backgroundColor:"transparent"},topContent:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginTop:0},topContentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginTop:50},title:{flexGrow:1},tabs:{borderRight:"1px solid ".concat(e.palette.divider)},dNone:{display:"none"},dBlock:{display:"block"},relative:{position:"relative"},absolute:{position:"absolute"},right0:{right:0},top0:{top:0},right24:{right:24},top24:{top:24},ml12:{marginLeft:12},mr12:{marginRight:12},mt12:{marginTop:12},highlightLegend:{position:"fixed",bottom:e.spacing(2),left:e.spacing(2),zIndex:1200},tree:{height:240,flexGrow:1,maxWidth:400},parentHoverVisibility:{"&:hover $childHoverVisibility":{visibility:"visible"}},childHoverVisibility:{visibility:"hidden"},fontSize1em:{fontSize:"1em"},padding10:{padding:10},mt5:{marginTop:5},mb5:{marginBottom:5},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},list:{width:"100%",maxWidth:360,backgroundColor:"transparent"},nested:{paddingLeft:e.spacing(4)},mlAuto:{marginLeft:"auto"},mrAuto:{marginRight:"auto"},appBarBottom:{top:"auto",bottom:0,backgroundColor:"rgb(229, 229, 229)"},hidden:{visibility:"hidden"},rightRoundedTab:{borderRadius:"0 100px 100px 0"},roundedTab:{borderRadius:"100px"},paddingBottom30:{paddingBottom:30},mtAuto:{marginTop:"auto"},mb10:{marginBottom:10},modalPopover:{position:"absolute",width:1e3,height:604,overflow:"scroll",backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3)},modalCard:{display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"scroll",cursor:"pointer","&:hover":{transform:"scale(1.05)",transition:"transform .2s"}},inlineList:{display:"flex",flexDirection:"row",padding:0},noWrap:{whiteSpace:"nowrap"}}}),{index:1}),R=a(585),z=a.n(R),W=a(185),V=a(1355),q=a(1428),Q=a(16),$=a(2);function K(e){var t=e.children,a=e.color,n=e.height,o=e.width,i=e.margin,s=e.id,d=e.backgroundColor,u=(Object(l.a)(e,["children","color","height","width","margin","id","backgroundColor"]),{});return u=Object(r.useContext)(Q.appContextMap.atom).highlightShow?Object(c.a)(Object(c.a)({},u),{},{border:"3px solid ".concat(a),backgroundColor:"".concat(d),borderRadius:"4px",position:"relative"}):{border:"3px solid transparent",backgroundColor:"transparent"},n&&(u.height=n),o&&(u.width=o),i&&(u.margin=i),Object($.jsx)("div",{id:s,style:u,children:t})}function G(e){var t=Object.assign({},e),a=Object(r.useContext)(Q.appContextMap.atom).highlightShow,n=t.classes,o=t.children;return Object($.jsxs)(K,Object(c.a)(Object(c.a)({},t),{},{color:"#A142F4",backgroundColor:"rgba(161, 66, 244, 0.1)",children:[Object($.jsx)(q.a,{size:"small",label:"API",className:a?"test":"".concat(n.hidden),display:"inline",align:"right",style:{backgroundColor:"#A142F4",color:"#fff",top:"-10px",right:"10px",position:"absolute"}}),o]}))}function Y(e){var t=Object.assign({},e),a=Object(r.useContext)(Q.appContextMap.atom).highlightShow,n=t.classes,o=t.children;return Object($.jsxs)(K,Object(c.a)(Object(c.a)({},t),{},{color:"#12B5CB",backgroundColor:"rgba(18, 181, 203, 0.1)",children:[Object($.jsx)(q.a,{size:"small",label:"Embed",className:a?"test":"".concat(n.hidden),display:"inline",align:"right",style:{backgroundColor:"#12B5CB",color:"#fff",top:"-10px",right:"10px",position:"absolute"}}),o]}))}function J(e){var t=Object.assign({},e),a=Object(r.useContext)(Q.appContextMap.atom).highlightShow,n=t.classes,o=t.children;return Object($.jsxs)(K,Object(c.a)(Object(c.a)({},t),{},{color:"#297AF4",backgroundColor:"rgba(41, 122, 244, 0.1)",children:[Object($.jsx)(q.a,{size:"small",label:"Embed Method",className:a?"test":"".concat(n.hidden),display:"inline",align:"right",style:{backgroundColor:"#297AF4",color:"#fff",top:"-10px",right:"10px",position:"absolute"}}),o]}))}var X=a(16),Z=(X.validIdHelper,X.decodeHtml),ee=X.appContextMap;function te(e){var t=e.lookerContentItem,a=e.inlineQuery,n=e.index,i=e.classes,s=Object(r.useState)(void 0),c=Object(m.a)(s,2),l=c[0],d=c[1],h=Object(r.useContext)(ee.atom),p=h.clientSession,j=h.sdk,f=h.corsApiCall,g=h.isReady,O=(p.userProfile,p.lookerUser);Object(r.useEffect)((function(){if(g){var e=!0;return f(x).then((function(t){e&&d(t)})),function(){return e=!1}}}),[O,g]);var x=function(){var e=Object(b.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.ok(j.run_inline_query({result_format:t.resultFormat||"json",body:a}));case 2:return n=e.sent,e.abrupt("return",n[0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=l?l.change>0?"&uarr;":"&darr;":"";return Object($.jsx)(V.a,{item:!0,sm:12,children:l?Object($.jsx)(o.a.Fragment,{children:Object($.jsxs)(G,{classes:i,children:[Object($.jsxs)(W.a,{variant:"subtitle1",display:"inline",children:["Your ",t.inlineQueriesMap[n]," category, ",Object($.jsx)("b",{children:l["products.category"]}),", is ",l.change>0?"up ":"down "]}),Object($.jsx)(q.a,{size:"small",label:"".concat(Z(v)," ").concat(parseInt(100*l.change).toFixed(0),"% "),className:l.change>0?i.greenPos:i.redNeg,display:"inline"}),Object($.jsx)(W.a,{variant:"subtitle1",display:"inline",children:"\xa0over the past week."})]})}):Object($.jsx)("div",{style:{height:"56px"}})})}var ae=a(1357),ne=a(1356);function re(e){e.lookerContentItem;var t=e.classes,a=e.vectorItem,n=e.index,o=Object(r.useState)(void 0),i=Object(m.a)(o,2),s=i[0],c=i[1],l=Object(r.useContext)(Q.appContextMap.atom),d=l.clientSession,h=l.sdk,p=l.corsApiCall,f=l.isReady,g=(d.userProfile,d.lookerUser);Object(r.useEffect)((function(){var e=!0;return f&&p(O).then((function(t){e&&c(t)})),function(){return e=!1}}),[g,f]);var O=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.ok(h.content_thumbnail({type:a.resourceType,resource_id:a.id}));case 2:return t=e.sent,n=new Blob([t],{type:"image/svg+xml"}),r=URL.createObjectURL(n),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsx)(V.a,{container:!0,className:"".concat(t.cursorPointer),spacing:3,component:j.b,to:a.url,children:s?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(V.a,{item:!0,sm:1}),Object($.jsx)(V.a,{item:!0,sm:6,children:Object($.jsx)(G,{classes:t,children:Object($.jsx)("div",{className:" ".concat(t.maxHeight60," ").concat(t.textCenter," ").concat(t.cursorPointer," ").concat(t.overflowHidden),children:Object($.jsx)("img",{src:s,style:{width:"100%"}})})})}),Object($.jsx)(V.a,{item:!0,sm:4,children:Object($.jsx)(W.a,{variant:"subtitle1",children:a.label})}),n<2?Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsx)(ne.a,{className:"".concat(t.divider," ").concat(t.mb12," ").concat(t.mt12)})}):""]}):""})}var oe=a(16).validIdHelper;var ie=a(59),se=a.n(ie),ce=a(82),le=a(1358);function de(e){var t=e.classes,a=e.height;return e.hide?"":Object($.jsx)(V.a,{item:!0,sm:12,style:{height:a},children:Object($.jsx)(ae.a,{className:"".concat(t.card," ").concat(t.flexCentered),elevation:0,mt:2,style:{height:"".concat(a,"px")},children:Object($.jsx)(le.a,{className:t.circularProgress})})})}var ue=a(1359),be=a(1297),me=a(568),he=a.n(me),pe=a(1426),je=a(1360),fe=function(e){var t=Object(r.useContext)(Q.appContextMap.atom),a=t.codeShow,n=t.setCodeShow,o=e.classes,i=e.lookerUser,s=e.height;return a?Object($.jsx)(V.a,{item:!0,sm:6,className:"".concat(o.positionFixedTopRight),children:Object($.jsx)(ue.a,{onClickAway:function(){return n()},children:Object($.jsx)(be.a,{in:!0,children:Object.keys(i).length?Object($.jsxs)(V.a,{container:!0,spacing:3,className:"".concat(o.padding20," ").concat(o.codeFlyoutContainer),style:{height:s},children:[Object($.jsx)(V.a,{item:!0,sm:11,children:Object($.jsx)(W.a,{variant:"h6",className:" ".concat(o.mrAuto),style:{color:"white"},children:"Looker User Object"})}),Object($.jsx)(V.a,{item:!0,sm:1,style:{textAlign:"right"},children:Object($.jsx)(he.a,{style:{color:"white",cursor:"pointer"},onClick:function(){return n()}})}),Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsx)(ge,{code:i})})]}):""})})}):""};function ge(e){var t=e.code;return Object($.jsx)(pe.a,{language:"json",style:je.a,showLineNumbers:!0,children:"object"===typeof t?JSON.stringify(t,!0,4):t})}var Oe=a(26),xe=a.n(Oe),ve=a(1427),ye=a(1362),_e=a(1363),ke=a(1298),Ce=a(1366),we=a(1367),Se=a(1368),Ne=a(1441),Ie=a(1364),Te=a(1365);function He(){return{top:"".concat(10,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(10,"%)")}}var Ae=function(e){var t=e.content,a=e.classes,n=Object(r.useContext)(Q.appContextMap.atom),i=n.clientSession,s=n.payWallModal,c=n.setPaywallModal,l=n.handleSwitchLookerUser,d=o.a.useState(He),u=Object(m.a)(d,1)[0],b=t.permissionLevels,h=t.modalPermissionsMap;return Object($.jsx)(ve.a,{className:"".concat(a.modal," "),open:s.show||!1,onClose:function(){return c({})},children:Object($.jsx)(be.a,{in:s.show||!1,children:Object($.jsx)("div",{style:u,className:"".concat(a.modalPopover," ").concat(a.padding30),children:Object($.jsx)(V.a,{container:!0,spacing:3,children:Object.keys(b).map((function(e,t){return Object($.jsx)(V.a,{item:!0,sm:12/Object.keys(b).length,children:Object($.jsxs)(ae.a,{className:"".concat(a.modalCard," ").concat(a[e]),elevation:1,style:e===i.lookerUser.user_attributes.permission_level?{backgroundColor:"#5F6BD8",color:"#ffffff",height:519}:{height:519},onClick:function(){l(e,"permission"),c({})},children:[Object($.jsxs)(ye.a,{children:[Object($.jsx)(W.a,{variant:"h6",children:xe.a.capitalize(e)}),Object($.jsx)(W.a,{children:Object($.jsx)(Ne.a,{name:"read-only",value:5-Object.keys(b).length+t+1,readOnly:!0})}),Object($.jsx)(W.a,{variant:"subtitle1",style:{fontStyle:"italic"},children:h[e].title}),Object($.jsx)(ne.a,{className:"".concat(a.divider," ")}),Object($.jsx)(_e.a,{children:h[e].list.map((function(t,a){return Object($.jsxs)(ke.a,{dense:!0,children:[Object($.jsx)(Ie.a,{children:Object($.jsx)(Te.a,{fontSize:"small"})}),Object($.jsx)(Ce.a,{primary:t})]},"monetizationModal-ListItem-".concat(e,"-").concat(a))}))})]}),Object($.jsx)(we.a,{disableSpacing:!1,children:Object($.jsx)(Se.a,{color:"primary",variant:"outlined",fullWidth:!0,onClick:function(){l(e,"permission"),c({})},style:e===i.lookerUser.user_attributes.permission_level?{color:"#ffffff",borderColor:"#ffffff"}:{},children:e===i.lookerUser.user_attributes.permission_level?"Active":Object.keys(h).indexOf(i.lookerUser.user_attributes.permission_level)<Object.keys(h).indexOf(e)?"Upgrade":"Switch"})})]})},Object(Q.validIdHelper)("monetizationModal-gridItem-".concat(e)))}))})})})})};var Pe=a(1420),Fe=a(283),Le=a(284),De=Fe.a[500],Me=Le.a[500],Be=Fe.a[100],Ue=Le.a[100],Ee=M.a[200],Re=140,ze=Object(U.a)((function(e){var t;return t={root:{flexGrow:1,overflow:"scroll",borderRadius:8},flexCentered:{display:"flex",justifyContent:"center",alignItems:"center"},hidden:{visibility:"hidden",position:"absolute",zIndex:-1},tabs:{backgroundColor:"white",color:"#6c757d"},dNone:{display:"none"},dBlock:{display:"block"},tree:{height:240,flexGrow:1,maxWidth:400},icon:{marginRight:12,fontSize:"1rem",overflow:"visible"},mt12:{marginTop:12},w100:{width:"100%"},mlAuto:{marginLeft:"auto"},mrAuto:{marginRight:"auto"},skeleton:{minWidth:275,minHeight:600},card:{minWidth:275},padding30:{padding:30},minHeight680:{minHeight:680},maxHeight200:{maxHeight:200,height:200,overflow:"hidden"},mt30:{marginTop:30},mb30:{marginBottom:30},textCenter:{textAlign:"center"},cursorPointer:{cursor:"pointer"},border:{border:"1px solid black"},height800:{height:800},maxHeight100:{maxHeight:100,height:100},maxHeight400:{maxHeight:400,height:400},minHeight200:{minHeight:200,overflow:"scroll"},redNeg:{backgroundColor:Be,color:De,fontWeight:800},greenPos:{backgroundColor:Ue,color:Me,fontWeight:800}},Object(T.a)(t,"padding30",{padding:30}),Object(T.a)(t,"mb12",{marginBottom:12}),Object(T.a)(t,"overflowScroll",{overflow:"scroll"}),Object(T.a)(t,"overflowHidden",{overflow:"hidden"}),Object(T.a)(t,"overflowVisible",{overflow:"visible"}),Object(T.a)(t,"maxHeight150",{maxHeight:150,height:150}),Object(T.a)(t,"minHeight150",{minHeight:150,overflow:"scroll"}),Object(T.a)(t,"positionRelative",{position:"relative"}),Object(T.a)(t,"padding15",{padding:15}),Object(T.a)(t,"maxHeight75",{maxHeight:75,height:75}),Object(T.a)(t,"overflowYScroll",{overflowY:"scroll",overflowX:"hidden"}),Object(T.a)(t,"drawerHeader",Object(c.a)(Object(c.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})),Object(T.a)(t,"padding20",{padding:20}),Object(T.a)(t,"positionFixedTopRight",{position:"fixed",top:88,right:24,bottom:0,zIndex:100}),Object(T.a)(t,"codeFlyoutContainer",{backgroundColor:"rgb(40, 42, 54)",overflow:"scroll",borderRadius:"0 8px 8px 0"}),Object(T.a)(t,"height100Percent",{height:"100%"}),Object(T.a)(t,"noContainerScroll",{width:"100%",margin:0}),Object(T.a)(t,"lookerCardShadow",{border:"none",borderRadius:"6px",boxShadow:"rgba(0, 0, 0, 0.11) 0px 2px 12px, rgba(0, 0, 0, 0.04) 0px 1px 4px"}),Object(T.a)(t,"maxHeight60",{maxHeight:60,height:60}),Object(T.a)(t,"maxHeight350",{maxHeight:350,height:350}),Object(T.a)(t,"maxHeight80Percent",{maxHeight:"80%",height:"80%"}),Object(T.a)(t,"faSm",{fontSize:".75em"}),Object(T.a)(t,"mr12",{marginRight:12}),Object(T.a)(t,"ml12",{marginLeft:12}),Object(T.a)(t,"dot",{height:"25px",width:"25px",borderRadius:"50%",display:"inline-block"}),Object(T.a)(t,"borderRadius0",{borderRadius:0}),Object(T.a)(t,"w33",{width:"33%"}),Object(T.a)(t,"verticalAlignTop",{verticalAlign:"top"}),Object(T.a)(t,"padding10",{padding:10}),Object(T.a)(t,"heading",{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}),Object(T.a)(t,"visuallyHidden",{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}),Object(T.a)(t,"formControl",{margin:e.spacing(1),minWidth:120}),Object(T.a)(t,"bluePrimary",{backgroundColor:"rgba(69, 149, 236, 1)"}),Object(T.a)(t,"blueSecondary",{backgroundColor:"rgba(69, 149, 236, .5)"}),Object(T.a)(t,"orangePrimary",{backgroundColor:"rgba(243, 167, 89, 1)"}),Object(T.a)(t,"orangeSecondary",{backgroundColor:"rgba(243, 167, 89, .5)"}),Object(T.a)(t,"positionTopRight",{position:"absolute",top:-30,right:-50,bottom:0,zIndex:100}),Object(T.a)(t,"bottomBarSpacer",Object(c.a)(Object(c.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})),Object(T.a)(t,"maxHeight600",{maxHeight:600,overflow:"scroll"}),Object(T.a)(t,"m12",{margin:12}),Object(T.a)(t,"m6",{margin:6}),Object(T.a)(t,"small",{width:e.spacing(3),height:e.spacing(3)}),Object(T.a)(t,"signInCard",{minWidth:350,minHeight:500,left:"75%",top:"50%",transform:"translate(-75%, -50%)",position:"absolute",textAlign:"center",backgroundColor:Ee}),Object(T.a)(t,"signInCardCopy",{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",margin:"0",width:"80%"}),Object(T.a)(t,"paddingTB15",{padding:"15px 0"}),t})),We=a(263),Ve=a.n(We),qe=a(16),Qe=(qe.validIdHelper,qe.appContextMap,qe.validateContent,a(16)),$e=(Qe.validIdHelper,Qe.appContextMap,Qe.validateContent,a(571)),Ke=a(1378),Ge=a(1379),Ye=a(600),Je=a(1429),Xe=a(1383),Ze=a(1380),et=a(1381),tt=a(1382),at=a(1384),nt=a(596),rt=a(1369),ot=a(1431),it=a(1423),st=function(e){var t=e.classes,a=e.content,n=Object(f.g)(),o=Object(r.useContext)(Q.appContextMap.atom),i=o.setPaywallModal,s=o.clientSession,l=o.setClientSession,d=o.handleSwitchLookerUser,u=o.setIsReady,b=Object(r.useState)(null),h=Object(m.a)(b,2),p=h[0],j=h[1],g=Object(r.useState)(s.lookerUser.user_attributes.brand||""),O=Object(m.a)(g,2),x=O[0],v=O[1],y=a.permissionLevels,_=a.rowLevelAttribute,k=function(e,t){j(null),null==e?(u(!1),S(),l({}),n.push("/")):"modal"===e?i({show:!0,permissionNeeded:"explore"}):"string"===typeof e&&d(e,t)};return Object(r.useEffect)((function(){v(s.lookerUser.user_attributes.brand||"")}),[s.lookerUser]),Object($.jsxs)("div",{className:"".concat(t.zIndex1500),children:[Object($.jsxs)(Ye.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:[Object($.jsx)(Je.a,{alt:s.userProfile.name,src:s.userProfile.imageUrl,className:t.mr12}),Object($.jsx)(W.a,{children:"string"===typeof s.lookerUser.user_attributes.permission_level?s.lookerUser.user_attributes.permission_level.charAt(0).toUpperCase()+s.lookerUser.user_attributes.permission_level.substring(1):""})]}),Object($.jsxs)(nt.a,{id:"simple-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:k,children:[Object($.jsx)(rt.a,{autoFocus:!1,children:"Select User Level"}),Object.keys(y).map((function(e){return Object($.jsx)(rt.a,{autoFocus:!1,onClick:function(){return k(e,"permission")},children:xe.a.capitalize(e)},Object(Q.validIdHelper)("$lookerUserPermission-MenuItem-".concat(e)))})),Object($.jsx)(ne.a,{className:t.divider}),Object($.jsx)(rt.a,{onClick:function(){return k(null)},children:"Sign Out"}),Object($.jsx)(ne.a,{className:t.divider}),a.allowModal?Object($.jsx)(rt.a,{onClick:function(){return k("modal")},children:"Show Monetization Modal"}):"",Object.keys(_).length?Object($.jsxs)("div",{children:[Object($.jsx)(ne.a,{className:t.divider}),Object($.jsxs)(rt.a,{children:[_.menuItemLabel,": ",x]}),Object($.jsx)(rt.a,{children:Object($.jsx)(it.a,{id:"combo-box-usermenu",options:_.options||[],getOptionLabel:function(e){return e.label},style:{width:300},onChange:function(e){return k(e.target.innerText||"","brand")},renderInput:function(e){return Object($.jsx)(ot.a,Object(c.a)(Object(c.a)({},e),{},{label:_.autoCompleteLabel,variant:"outlined"}))},loadingText:"Loading...",disableautofocus:"true",onKeyDown:function(e){return e.stopPropagation()}})})]}):""]})]})};function ct(e){var t=e.val,a=e.positive_good,n=(e.abs_val,{up:a?"green":"red",down:a?"red":"green"}),r=t<0?n.down:t>0?n.up:"black",o=Math.abs(t).toLocaleString("en",{style:"percent",minimumFractionDigits:2}),i=t<0?"\u25bc":t>0?"\u25b2":"\u2014";return Object($.jsx)($.Fragment,{children:Object($.jsx)("font",{color:r,children:"".concat(i," ").concat(o)})})}var lt=a(264),dt=a.n(lt),ut=a(573),bt=a.n(ut),mt=a(574),ht=a.n(mt),pt=a(16).validIdHelper,jt=function(e){var t=e.filterItem,a=e.apiContent,n=e.classes,o=e.action,i=e.setDynamicSearch,s=t.style,l=Object(r.useState)(!1),d=Object(m.a)(l,2),u=d[0],b=d[1],h=Object(r.useState)(null),p=Object(m.a)(h,2),j=p[0],f=p[1];return t?Object($.jsxs)(G,{classes:n,children:[Object($.jsx)(W.a,{children:t.label?t.label:""}),Object($.jsx)(it.a,{id:"combo-box-dashboard-".concat(t.label||t.alternateName),options:Array.isArray(a)?a:[],renderOption:ft,getOptionLabel:function(e){return"string"===typeof e?e:e.label},onChange:function(e,a){var n="";a&&a.value?n=a.value:a&&a.label&&(n=a.label),o(t.filterName,n),f(a&&a.label?a.label:null)},renderInput:function(e){return Object($.jsx)(ot.a,Object(c.a)(Object(c.a)({},e),{},{label:u||j?"":t.alternateName?Object($.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[Object($.jsx)(dt.a,{}),t.alternateName]}):t.filterName,InputLabelProps:t.disableShrink?{shrink:!1}:"",variant:"outlined"}))},loadingText:"Loading...",style:s?Object(c.a)({},s):{},onInputChange:xe.a.debounce((function(e){t.apiDrivenSearch&&e.target.value&&i(e.target.value)}),1e3),size:t.size?t.size:"",onOpen:function(){b(!0)},onClose:function(){b(!1)},value:j})]},pt("dashEmbed-".concat(t.label))):""},ft=function(e,t){var a=t.inputValue,n=ht()(e.label,a),r=bt()(e.label,n),o={fontWeight:700,backgroundColor:"lightyellow",padding:"5px 2px"};return Object($.jsxs)("div",{children:[r.map((function(e,t){return Object($.jsx)("span",{style:e.highlight?o:{},children:e.text},t)})),e.trend&&Object($.jsx)(ct,{val:e.trend,positive_good:!0,abs_val:Math.abs(e.trend)})]})},gt=a(1442),Ot=a(1373),xt=a(16).validIdHelper,vt=function(e){var t=e.classes,a=e.filterItem,n=e.helperFunctionMapper,o=e.lightThemeToggleValue,i=e.fontThemeSelectValue,s=Object(r.useState)(a?a.options[0]:""),c=Object(m.a)(s,2),l=c[0],d=c[1];return Object(r.useEffect)((function(){d(a?a.options[0]:"")}),[i,o]),Object($.jsxs)(J,{classes:t,children:[Object($.jsx)(W.a,{children:a.label}),Object($.jsx)(gt.a,{value:l,exclusive:!0,onChange:function(e,t){d(t),n(e,t,a)},"aria-label":"text alignment",children:Object.keys(a.tileLookUp).map((function(e){return Object($.jsx)(Ot.a,{value:e,"aria-label":"left aligned",children:e},xt("dynamicDashTileToggle-".concat(e)))}))})]})},yt=a(16).validIdHelper,_t=function(e){var t=e.classes,a=e.filterItem,n=e.helperFunctionMapper,o=e.lightThemeToggleValue,i=e.fontThemeSelectValue,s=Object(r.useState)(a?a.options[0]:""),c=Object(m.a)(s,2),l=c[0],d=c[1];return Object(r.useEffect)((function(){d(a?a.options[0]:"")}),[i,o]),Object($.jsxs)(J,{classes:t,children:[Object($.jsx)(W.a,{children:a.label}),Object($.jsx)(gt.a,{value:l,exclusive:!0,onChange:function(e,t){d(t),n(e,t,a)},"aria-label":"text alignment",children:Object.keys(a.colors).map((function(e){return Object($.jsx)(Ot.a,{value:e,"aria-label":"left aligned",children:Object($.jsx)("span",{className:"".concat(t.dot),style:{backgroundColor:a.colors[e][a.colors[e].length-2]||e}})},yt("dynamicDashVisConfigToggle-".concat(e)))}))})]})},kt=a(1434),Ct=function(e){var t=e.classes,a=e.filterItem,n=e.helperFunctionMapper,o=Object(r.useState)(!0),i=Object(m.a)(o,2),s=i[0],c=i[1];return Object($.jsxs)(Y,{classes:t,children:[Object($.jsx)(W.a,{children:s?"Light mode":"Dark mode"}),Object($.jsx)(kt.a,{checked:!s,onChange:function(e,t){c(!e.target.checked),n(e,!e.target.checked,a)},color:"primary",name:"light theme toggle",inputProps:{"aria-label":"primary checkbox"}})]})},wt=a(265);a(1153);wt.CheckboxSVGMap.prototype.toggleLocation=function(e){var t=this,a=e.target;this.setState((function(e){for(var n=Object(H.a)(e.selectedLocations),r=xe.a.find(t.props.map.locations,{id:a.id}),o=xe.a.filter(t.props.map.locations,{region:r.region}),i=[],s=0;s<t.props.map.locations.length;s++)-1==i.indexOf(t.props.map.locations[s].region)&&i.push(t.props.map.locations[s].region);for(var c=[],l=0;l<n.length;l++)-1==c.indexOf(n[l].region)&&c.push(n[l].region);var d,u=xe.a.differenceBy(i,c),b=[].concat(Object(H.a)(u),[r.region]),m=xe.a.filter(t.props.map.locations,(function(e){return-1==b.indexOf(e.region)}));"true"===a.attributes["aria-checked"].value?n=m:(d=n).push.apply(d,Object(H.a)(o));return t.props.onChange&&t.props.onChange(n),{selectedLocations:n}}))},wt.CheckboxSVGMap.prototype.componentDidMount=function(){this.setState({selectedLocations:this.props.map.locations})};var St=a(375),Nt=a(1374),It=a(1375),Tt=a(1376),Ht=Object(c.a)(Object(c.a)({},St.a),{},{label:"Custom map label",locations:St.a.locations.map((function(e){switch(e.name){case"Connecticut":case"Maine":case"Massachusetts":case"New Hampshire":case"Rhode Island":case"Vermont":case"New Jersey":case"New York":case"Pennsylvania":case"Delaware":return Object(c.a)(Object(c.a)({},e),{},{region:"Northeast"});case"Illinois":case"Indiana":case"Michigan":case"Ohio":case"Wisconsin":case"Iowa":case"Kansas":case"Minnesota":case"Missouri":case"Nebraska":case"North Dakota":case"South Dakota":return Object(c.a)(Object(c.a)({},e),{},{region:"Midwest"});case"Florida":case"Georgia":case"Maryland":case"North Carolina":case"South Carolina":case"Virginia":case"District of Columbia":case"Washington, DC":case"West Virginia":case"Alabama":case"Kentucky":case"Mississippi":case"Tennessee":case"Arkansas":case"Louisiana":case"Oklahoma":case"Texas":return Object(c.a)(Object(c.a)({},e),{},{region:"South"});case"Arizona":case"Colorado":case"Idaho":case"Montana":case"Nevada":case"New Mexico":case"Utah":case"Wyoming":return Object(c.a)(Object(c.a)({},e),{},{region:"Mountain"});case"Alaska":case"California":case"Hawaii":case"Oregon":case"Washington":return Object(c.a)(Object(c.a)({},e),{},{region:"Pacific"})}}))}),At={"0 to 99":"low","100 to 499":"medium","500 or Above":"high"},Pt={"0 to 99":Nt.a,"100 to 499":It.a,"500 or Above":Tt.a},Ft=a(16).validIdHelper;function Lt(e){var t=e.classes,a=e.action,n=e.filterItem,o=Object(r.useState)("Pacific, South, Mountain, Midwest, Northeast"),i=Object(m.a)(o,2),s=i[0],c=i[1];return Object($.jsxs)(J,{classes:t,children:[Object($.jsxs)(W.a,{className:"".concat(t.heading," ").concat(t.ml12,"  ").concat(t.verticalAlignTop),children:[n.label,": ",Object($.jsx)("b",{children:s||"Outside US"})]}),Object($.jsx)(wt.CheckboxSVGMap,{map:Ht,onChange:function(e){for(var t=[],r=0;r<e.length;r++)-1==t.indexOf(e[r].region)&&t.push(e[r].region);var o=t.join(",");c(o),a(n.filterName,s||"")}})]},Ft("dashEmbed-".concat(n.label)))}var Dt=a(1435),Mt=a(16).validIdHelper,Bt=function(e){var t=e.apiContent,a=e.classes,n=e.action,o=e.filterItem,i=Object(r.useState)([]),s=Object(m.a)(i,2),c=s[0],l=s[1];return Object($.jsxs)(J,{classes:a,children:[Object($.jsxs)(W.a,{className:"".concat(a.heading," ").concat(a.ml12,"  ").concat(a.verticalAlignTop),children:[o.label,":"]}),Object($.jsx)(Dt.a,{value:c.length?c:Array.isArray(t)?[t[0].label,t[t.length-1].label]:[],onChange:function(e,t){l(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",onChangeCommitted:function(e,t){n(o.filterName,t?"[".concat(t,"]"):"[]")},min:Array.isArray(t)&&t.length?t[0].label:0,max:Array.isArray(t)&&t.length?t[t.length-1].label:0,disabled:!Array.isArray(t)||!t.length})]},Mt("dashEmbed-".concat(o.label)))},Ut=a(16).validIdHelper,Et=function(e){var t=e.apiContent,a=e.classes,n=e.action,o=e.filterItem,i=Object(r.useState)("0-24"),s=Object(m.a)(i,2),c=s[0],l=s[1];return Object($.jsxs)(J,{classes:a,children:[Object($.jsxs)(W.a,{className:"".concat(a.heading," ").concat(a.ml12,"  ").concat(a.verticalAlignTop),children:[o.label,":"]}),Object($.jsx)(gt.a,{value:c,exclusive:!0,onChange:function(e,t){l(t),n(o.filterName,t||"")},"aria-label":"ageTier",className:a.w100,children:Array.isArray(t)?t.map((function(e,t){if("Undefined"!==e.label){var n=Pt[e.label];return Object($.jsxs)(Ot.a,{value:e.label,"aria-label":e.label,className:a.w33,children:[Object($.jsx)(n,{className:a.mr12}),xe.a.capitalize(At[e.label])||e.label]},Ut("$FilterBar-ToggleButton-".concat(o.label,"-").concat(t)))}})):""})]},Ut("dashEmbed-".concat(o.label)))},Rt=a(1372),zt=a(1433),Wt=a(1425),Vt=a(16).validIdHelper,qt=function(e){var t=e.classes,a=e.filterItem,n=e.helperFunctionMapper,o=Object(r.useState)(a?a.options[0].value:""),i=Object(m.a)(o,2),s=i[0],c=i[1],l=Object(r.useState)(!1),d=Object(m.a)(l,2),h=d[0],p=d[1],j=Object(r.useState)(null),f=Object(m.a)(j,2),g=f[0],O=f[1];return Object($.jsx)(Y,{classes:t,children:Object($.jsxs)(Rt.a,{className:t.formControl,children:[Object($.jsx)(zt.a,{id:"demo-simple-select-label",children:a.label}),Object($.jsx)(Wt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s,onChange:function(e){c(e.target.value),a.method&&!a.secondaryComponent&&n(e,e.target.value,a)},children:a.options.map((function(e){return Object($.jsxs)(rt.a,{value:e.value,children:[" ",e.label]},Vt("filter-select".concat(e.value)))}))}),a.secondaryComponent?Object($.jsx)(Se.a,{variant:"contained",onClick:Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,n(null,s,a);case 3:"success"===(t=e.sent).status&&(p(!1),O(t.message),setTimeout((function(){return O(null)}),1e4)),setTimeout((function(){h&&p(!1)}),1e4);case 6:case"end":return e.stop()}}),e)}))),className:"".concat(t.mt12),disabled:h,children:a.secondaryComponent.label}):"",g?Object($.jsx)(W.a,{variant:"subtitle1",gutterBottom:!0,children:g}):""]})})},Qt=function(e){var t=e.content,a=e.theme,n=e.classes,o=Object(f.g)(),i=Object(r.useContext)(Q.appContextMap.atom),s=i.clientSession,c=i.clientSession.packageName,l=(i.setClientSession,i.drawerOpen),d=i.setDrawerOpen,h=i.sdk,p=i.corsApiCall,j=i.isReady,g=(s.userProfile,s.lookerUser),O=Object(r.useState)(void 0),x=Object(m.a)(O,2),v=x[0],y=x[1],_=Object(r.useState)(void 0),k=Object(m.a)(_,2),C=k[0],w=k[1];Object(r.useEffect)((function(){if(j&&t&&t.hasOwnProperty("autocomplete")){var e=!0;return p(S,[C]).then((function(t){e&&y(t)})),function(){return e=!1}}}),[g,j,C]);var S=function(){var e=Object(b.a)(u.a.mark((function e(a){var n,r,o,i,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.autocomplete,r=n.inlineQuery,a&&(r.filters["person._search"]="%".concat(a,"%")),e.next=5,h.ok(h.run_inline_query({result_format:n.resultFormat||"json",body:r}));case 5:for(o=e.sent,i={},s=[],c=function(e){var t=n.formattedLabel.map((function(t){return o[e][t]})).join(", "),a=n.value.map((function(t){return o[e][t]})).toString();s.push({value:a,label:t,trend:o[e].trend?o[e].trend:void 0})},l=0;l<o.length;l++)c(l);return i.autocomplete=s,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N={"Person ID":"beneficiary"};return Object($.jsx)(P.a,{theme:a,children:Object($.jsx)(Ke.a,{position:"fixed",className:Object($e.a)(n.appBar),children:Object($.jsxs)(Ge.a,{children:[Object($.jsx)(Ye.a,{color:"inherit","aria-label":"open drawer",onClick:function(e){d(!l)},edge:"start",children:l?"vision"===c?Object($.jsx)(Ze.a,{}):Object($.jsx)(et.a,{}):Object($.jsx)(tt.a,{})}),t.avatar?Object($.jsx)(Je.a,{alt:"Icon",src:t.avatar,style:t.avatarStyle?t.avatarStyle:"",variant:"square"}):"",t.label?Object($.jsx)(W.a,{className:n.ml12,variant:"h6",children:t.label}):"",v&&v.autocomplete?Object($.jsx)(V.a,{item:!0,sm:6,className:"".concat(n.mlAuto," ").concat(n.mr12," ").concat(n.p30),children:Object($.jsx)(jt,{filterItem:t.autocomplete,apiContent:v.autocomplete,action:function(e,t){e&&t&&o.push({pathname:N[e],search:"".concat(encodeURIComponent(e),"=").concat(t)})},classes:n,bgColor:"white",setDynamicSearch:w})}):"",Object($.jsx)(Xe.a,{badgeContent:3,color:"error",className:v&&v.autocomplete?"".concat(n.mr12):"".concat(n.mlAuto," ").concat(n.mr12),children:Object($.jsx)(at.a,{})}),Object($.jsx)(st,{classes:n,content:t.usermenu})]})})})},$t=a(1385),Kt=a(1386),Gt=function(e){var t=e.classes,a=Object(r.useContext)(Q.appContextMap.atom),n=a.highlightShow,o=a.setHighlightShow,i=a.codeShow,s=a.setCodeShow;return Object($.jsx)(Ke.a,{position:"fixed",color:"transparent",className:t.appBarBottom,children:Object($.jsxs)(Ge.a,{variant:"dense",children:[Object($.jsx)(Se.a,{className:"".concat(t.mlAuto," ").concat(t.mr12),display:"inline",startIcon:Object($.jsx)($t.a,{}),onClick:function(){i&&s(!i),o(!n)},children:"Source"}),Object($.jsx)(Se.a,{display:"inline",startIcon:Object($.jsx)(Kt.a,{}),onClick:function(){n&&o(!n),s(!i)},children:"Code"})]})})},Yt=a(370);function Jt(e){var t=e.lookerContentItem,a=e.classes,n=Object(r.useState)(void 0),i=Object(m.a)(n,2),s=i[0],c=i[1],l=Object(r.useContext)(Q.appContextMap.atom),d=l.clientSession,h=l.sdk,p=l.corsApiCall,j=l.isReady,f=(d.userProfile,d.lookerUser),g={};Object(r.useEffect)((function(){if(j){var e=!0;return p(O).then((function(t){e&&c(t)})),function(){return e=!1}}}),[f,j]);var O=function(){var e=Object(b.a)(u.a.mark((function e(){var a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.inlineQuery,e.next=3,h.ok(h.run_inline_query({result_format:t.resultFormat||"json",body:a}));case 3:return n=e.sent,g.id=Object(Q.validIdHelper)("singleVisValue-".concat(t.id)),g.data=[],r=[],n.map((function(e){if(e[t.inlineQuery.fields[0]]){var a={x:e[t.inlineQuery.fields[0]].toString(),y:e[t.inlineQuery.fields[1]]||0,change:e.change};a&&"null"!==a.y&&r.push(a)}})),g.data=[].concat(r),e.abrupt("return",[g]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=s&&s.length?isNaN((100*s[0].data[0].change).toFixed(2))?"":parseInt((100*s[0].data[0].change).toFixed(0))>=0?"&uarr;":"&darr;":"",v=s?"revenue"===t.chipFormat?"$".concat((s[0].data&&s[0].data[0]?s[0].data[0].y.toFixed(2):"").replace(/\d(?=(\d{3})+\.)/g,"$&,")):"integer"===t.chipFormat?parseInt(s[0].data&&s[0].data[0]?s[0].data[0].y.toFixed(2):""):"percent"===t.chipFormat?"".concat(100*(s[0].data&&s[0].data[0]?s[0].data[0].y.toFixed(2):""),"% "):"":"";return Object($.jsx)(ae.a,{className:"".concat(a.padding15," \n    ").concat(a.overflowHidden," \n    ").concat(a.lookerCardShadow,"\n    "),children:Object($.jsx)("div",{style:{height:t.height},children:s?Object($.jsx)(o.a.Fragment,{children:Object($.jsxs)(G,{height:130,classes:a,children:[Object($.jsxs)(V.a,{container:!0,className:"".concat(a.textCenter," "),children:[Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsx)(W.a,{variant:"body2",align:"left",color:"secondary",children:t.label})}),Object($.jsx)(V.a,{item:!0,sm:6,children:Object($.jsx)(W.a,{variant:"subtitle1",align:"left",children:Object($.jsx)("b",{children:v})})}),Object($.jsx)(V.a,{item:!0,sm:6,children:Object($.jsx)(q.a,{size:"small",label:"".concat(Object(Q.decodeHtml)(x)," ").concat(parseInt(100*s[0].data[0].change).toFixed(0),"% "),className:isNaN((100*s[0].data[0].change).toFixed(2))?"":parseInt((100*s[0].data[0].change).toFixed(0))>=0?a.greenPos:a.redNeg,display:"inline",align:"right"})})]}),Object($.jsx)(Yt.a,{data:s,margin:{top:10,right:25,bottom:50,left:25},xScale:{type:"time",format:"%Y-%m-%d",precision:"day"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},axisLeft:{orient:"left",tickSize:0,tickPadding:5,tickRotation:0,format:function(){return null}},axisBottom:{orient:"bottom",tickSize:0,tickPadding:5,tickRotation:0,format:function(){return null}},enablePoints:!1,enableGridX:!1,enableGridY:!1,height:100,colors:t.visColor,animate:!0})]})}):Object($.jsx)(V.a,{item:!0,sm:12,className:"".concat(a.flexCentered," "),style:{height:t.height},children:Object($.jsx)(le.a,{className:a.circularProgress,style:{color:"".concat(t.visColor," ")}})})})})}var Xt=a(584),Zt=a(16),ea=Zt.validIdHelper,ta=Zt.appContextMap,aa=(Zt.validateContent,function(e){var t=e.content,a=e.initialUser,n=Object(r.useContext)(ta.atom),o=n.clientSession,i=n.setClientSession,s=(n.sdk,n.setSdk),l=(n.initialHref,n.setInitialHref,o.packageName,t.backgroundImage,t.logo),d=t.logoStyle,m=t.backgroundImageStyle,h=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.error){e.next=3;break}e.next=11;break;case 3:return e.next=5,w(Object(c.a)(Object(c.a)({},o),{},{userProfile:t.profileObj,lookerUser:a}));case 5:n=e.sent,r=n.session.lookerBaseUrl?n.session.lookerBaseUrl:"",l=n.session.lookerApiToken?n.session.lookerApiToken.api_user_token:"",d=N({lookerBaseUrl:r,accessToken:l}),i(n.session),s(d);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p="".concat("610722499102-hqo4cena1n453n11mqk88jj5arv4p3ft",".apps.googleusercontent.com"),j=ze();return Object($.jsx)("div",{className:"".concat(j.root," demoComponent ").concat(j.height100Percent),children:Object($.jsx)(V.a,{container:!0,className:"".concat(j.height100Percent),children:Object($.jsx)(V.a,{item:!0,sm:12,className:"sign-in-background-img",style:m||"",children:Object($.jsx)(ae.a,{className:j.signInCard,children:Object($.jsxs)("div",{className:j.signInCardCopy,children:[Object($.jsx)("img",{src:l,style:d||""}),Object($.jsxs)(ye.a,{children:[Object($.jsx)(W.a,{variant:"h5",component:"h2",children:t.cardHeader}),Object($.jsx)(W.a,{variant:"body2",component:"p",children:t.cardBody})]}),Object($.jsx)(we.a,{className:"".concat(j.flexCentered),children:Object($.jsx)(Xt.GoogleLogin,{clientId:p,buttonText:"Login",onSuccess:h,onFailure:h,cookiePolicy:"single_host_origin"})})]})})})},ea("sign in page"))})}),na=a(1436),ra=a(16),oa=ra.validIdHelper,ia=ra.appContextMap,sa=function(e){var t=e.DemoComponentsContentArr,a=e.classes;console.log("TopDrawer");var n=Object(r.useContext)(ia.atom),o=n.drawerOpen,i=n.setDrawerOpen;return Object($.jsxs)(na.a,{className:a.topDrawer,variant:"persistent",anchor:"top",open:o,classes:{paper:a.topDrawerPaper},children:[Object($.jsx)("div",{className:a.drawerHeader,children:Object($.jsx)(Ye.a,{onClick:function(){return i(!1)},children:Object($.jsx)(et.a,{"aria-label":"close drawer"})})}),Object($.jsx)(ca,{classes:a,DemoComponentsContentArr:t})]})};function ca(e){var t=e.classes,a=e.DemoComponentsContentArr,n=Object(r.useContext)(ia.atom),i=n.clientSession,s=n.selectedMenuItem,c=i.packageName,l=c?xe.a.orderBy(a,["menuCategory"],["asc"]):[],d={},u=[],b=0;return l.map((function(e,t){d.hasOwnProperty(e.menuCategory)?d[e.menuCategory]=[].concat(Object(H.a)(d[e.menuCategory]),[e]):(d[e.menuCategory]=[e],b+=1,u.push(""+(t+b)))})),Object($.jsx)(_e.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:t.list,children:c?Object.keys(d).map((function(e,a){return Object($.jsx)(o.a.Fragment,{children:Object($.jsx)(_e.a,{className:t.inlineList,component:"div",disablePadding:!0,children:d[e].map((function(a,n){var r=a.icon;return Object($.jsxs)(ke.a,{button:!0,className:"".concat(t.nested," ").concat(t.roundedTab," ").concat(t.ml12),selected:oa(xe.a.lowerCase(a.label))===s,component:j.b,to:oa(xe.a.lowerCase(a.label)),children:[Object($.jsx)(Ie.a,{children:r?Object($.jsx)(r,{}):Object($.jsx)($.Fragment,{})}),Object($.jsx)(Ce.a,{className:"pppp ".concat(t.noWrap),primary:xe.a.capitalize(a.label)})]},"".concat(oa(e+"-innerListItem-"+n)))}))},"".concat(oa(e+"-innerList-"+a)))},"".concat(oa(e+"-menuList-"+a)))})):""})}var la=a(16),da=la.validIdHelper,ua=la.appContextMap,ba=function(e){var t=e.DemoComponentsContentArr,a=e.classes,n=Object(r.useContext)(ua.atom),o=n.drawerOpen,i=n.setDrawerOpen;return Object($.jsxs)(na.a,{className:a.leftDrawer,variant:"persistent",anchor:"left",open:o,classes:{paper:a.leftDrawerPaper},children:[Object($.jsx)("div",{className:a.drawerHeader,children:Object($.jsx)(Ye.a,{onClick:function(){return i(!1)},children:Object($.jsx)(et.a,{"aria-label":"close drawer"})})}),Object($.jsx)(ma,{classes:a,DemoComponentsContentArr:t})]})};function ma(e){var t=e.classes,a=e.DemoComponentsContentArr,n=Object(r.useContext)(ua.atom),i=n.clientSession,s=n.selectedMenuItem,c=i.packageName,l=c?xe.a.orderBy(a,["menuCategory"],["asc"]):[],d={},u=[],b=0;return l.map((function(e,t){d.hasOwnProperty(e.menuCategory)?d[e.menuCategory]=[].concat(Object(H.a)(d[e.menuCategory]),[e]):(d[e.menuCategory]=[e],b+=1,u.push(""+(t+b)))})),Object($.jsx)(_e.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:t.list,children:c?Object.keys(d).map((function(e,a){return Object($.jsxs)(o.a.Fragment,{children:[Object($.jsx)(ke.a,{children:Object($.jsx)(Ce.a,{primary:"home"===e?"":xe.a.capitalize(e)})},"".concat(da(e+"-outerListItem-"+a))),Object($.jsx)(_e.a,{component:"div",disablePadding:!0,children:d[e].map((function(a,n){var r=a.icon;return Object($.jsxs)(ke.a,{button:!0,className:"".concat(t.nested," ").concat(t.rightRoundedTab),selected:da(xe.a.lowerCase(a.label))===s,component:j.b,to:da(xe.a.lowerCase(a.label)),children:[Object($.jsx)(Ie.a,{children:r?Object($.jsx)(r,{}):Object($.jsx)($.Fragment,{})}),Object($.jsx)(Ce.a,{primary:xe.a.capitalize(a.label)})]},"".concat(da(e+"-innerListItem-"+n)))}))},"".concat(da(e+"-innerList-"+a)))]},"".concat(da(e+"-menuList-"+a)))})):""})}var ha={id:"19",gridWidth:12,height:160,type:"welcome",inlineQueries:[{model:"atom_fashion",view:"order_items",fields:["order_items.total_sale_price","order_items.created_week","products.category"],pivots:["order_items.created_week"],fill_fields:["order_items.created_week"],filters:{"order_items.created_date":"2 weeks ago for 2 weeks"},filter_expression:null,sorts:["order_items.total_sale_price desc 1","order_items.created_week 0"],limit:"1",dynamic_fields:'[{"table_calculation":"change","label":"%25 Change","expression":"(pivot_index(${order_items.total_sale_price},2)-pivot_index(${order_items.total_sale_price},1))/pivot_index(${order_items.total_sale_price},1\\n  )","value_format":null,"value_format_name":"percent_2","_kind_hint":"supermeasure","_type_hint":"number"}]'},{model:"atom_fashion",view:"order_items",fields:["order_items.total_sale_price","order_items.created_week","products.category"],pivots:["order_items.created_week"],fill_fields:["order_items.created_week"],filters:{"order_items.created_date":"2 weeks ago for 2 weeks"},filter_expression:null,sorts:["order_items.total_sale_price 1","order_items.created_week 0"],limit:"1",dynamic_fields:'[{"table_calculation":"change","label":"%25 Change","expression":"(pivot_index(${order_items.total_sale_price},2)-pivot_index(${order_items.total_sale_price},1))/pivot_index(${order_items.total_sale_price},1\\n  )","value_format":null,"value_format_name":"percent_2","_kind_hint":"supermeasure","_type_hint":"number"}]'}],inlineQueriesMap:["best","worst"],resultFormat:"json",component:function(e){var t=e.lookerContentItem,a=e.classes,n=Object(r.useContext)(Q.appContextMap.atom).clientSession.userProfile;return Object($.jsxs)("div",{className:"".concat(a.overflowScroll," ").concat(a.padding15),style:{maxHeight:t.height},children:[Object($.jsxs)(W.a,{variant:"h4",children:["Welcome back, ",n.givenName,"!"]}),Object($.jsx)("br",{}),Object($.jsx)($.Fragment,{children:t.inlineQueries.map((function(e,n){return Object($.jsx)(te,{lookerContentItem:t,inlineQuery:e,index:n,classes:a},"".concat(Object(Q.validIdHelper)("naturalLanguage-splashPage-"+n)))}))})]})}},pa={id:"18",gridWidth:3,type:"spark line",height:120,inlineQuery:{model:"atom_fashion",view:"order_items",fields:["order_items.created_week","order_items.total_gross_margin"],fill_fields:["order_items.created_week"],filters:{"order_items.created_date":"12 weeks ago for 12 weeks"},sorts:["order_items.created_week desc"],limit:"500",dynamic_fields:'[{"table_calculation":"change","label":"Week over Week %25 Change","expression":"(${order_items.total_gross_margin}-offset(${order_items.total_gross_margin},1))/offset(${order_items.total_gross_margin},1)","value_format":null,"value_format_name":"percent_2","_kind_hint":"measure","_type_hint":"number"}]'},resultFormat:"json",label:"Revenue by Week",visColor:"#4595EC",chipFormat:"revenue",component:Jt},ja={id:"20",gridWidth:3,type:"spark line",height:120,inlineQuery:{model:"atom_fashion",view:"web_events",fields:["events.event_week","events.sessions_count"],fill_fields:["events.event_week"],filters:{"events.event_date":"12 weeks ago for 12 weeks"},sorts:["events.event_week desc"],limit:"500",dynamic_fields:'[{"table_calculation":"change","label":"%25 Change","expression":"(${events.sessions_count}-offset(${events.sessions_count},1))/offset(${events.sessions_count},1)","value_format":null,"value_format_name":"percent_2","_kind_hint":"measure","_type_hint":"number"}]'},resultFormat:"json",label:"Visits by Week",visColor:"#F3A759",chipFormat:"integer",component:Jt},fa={id:"21",gridWidth:3,type:"spark line",height:120,inlineQuery:{model:"atom_fashion",view:"web_events",fields:["events.event_week","events.bounce_rate"],fill_fields:["events.event_week"],filters:{"events.event_date":"12 weeks ago for 12 weeks"},filter_expression:null,sorts:["events.event_week desc"],limit:"500",dynamic_fields:'[{"table_calculation":"change","label":"%25 Change","expression":"(${events.bounce_rate}-offset(${events.bounce_rate},1))/offset(${events.bounce_rate},1)","value_format":null,"value_format_name":"percent_2","_kind_hint":"measure","_type_hint":"number"}]'},resultFormat:"json",label:"Bounce Rate by Week",visColor:"#E24E3A",chipFormat:"percent",component:Jt},ga={id:"22",gridWidth:3,type:"spark line",height:120,inlineQuery:{model:"atom_fashion",view:"web_events",fields:["events.event_week","sessions.average_duration"],pivots:null,fill_fields:["events.event_week"],filters:{"events.event_date":"12 weeks ago for 12 weeks"},filter_expression:null,sorts:["events.event_week desc"],limit:"500",dynamic_fields:'[{"table_calculation":"change","label":"%25 Change","expression":"(${sessions.average_duration}-offset(${sessions.average_duration},1))/offset(${sessions.average_duration},1)","value_format":null,"value_format_name":"percent_2","_kind_hint":"measure","_type_hint":"number"}]'},resultFormat:"json",label:"Average Time on Site by Week",visColor:"#65AB5A",chipFormat:"integer",component:Jt},Oa={gridWidth:8,height:350,type:"embeddedquery",id:"12",queryUrl:"embed/query/atom_fashion/order_items?fields=order_items.created_time,users.name,order_items.total_sale_price,users.approx_location,users.city&f[users.country]=USA&sorts=order_items.created_time+desc&limit=100&query_timezone=America%2FLos_Angeles&vis=%7B%22map_plot_mode%22%3A%22points%22%2C%22heatmap_gridlines%22%3Afalse%2C%22heatmap_gridlines_empty%22%3Afalse%2C%22heatmap_opacity%22%3A0.5%2C%22show_region_field%22%3Atrue%2C%22draw_map_labels_above_data%22%3Atrue%2C%22map_tile_provider%22%3A%22traffic_day%22%2C%22map_position%22%3A%22custom%22%2C%22map_scale_indicator%22%3A%22off%22%2C%22map_pannable%22%3Atrue%2C%22map_zoomable%22%3Atrue%2C%22map_marker_type%22%3A%22circle%22%2C%22map_marker_icon_name%22%3A%22shopping_cart%22%2C%22map_marker_radius_mode%22%3A%22proportional_value%22%2C%22map_marker_units%22%3A%22pixels%22%2C%22map_marker_proportional_scale_type%22%3A%22linear%22%2C%22map_marker_color_mode%22%3A%22fixed%22%2C%22show_view_names%22%3Afalse%2C%22show_legend%22%3Atrue%2C%22quantize_map_value_colors%22%3Afalse%2C%22reverse_map_value_colors%22%3Afalse%2C%22map_latitude%22%3A40.267214274019075%2C%22map_longitude%22%3A-94.70352172851564%2C%22map_zoom%22%3A4%2C%22map_marker_color%22%3A%5B%22%234595EC%22%5D%2C%22series_types%22%3A%7B%7D%2C%22type%22%3A%22looker_map%22%2C%22defaults_version%22%3A1%2C%22hidden_fields%22%3A%5B%22users.name%22%2C%22order_items.created_time%22%5D%7D&filter_config={}&origin=share-expanded&sdk=2&embed_domain=",title:"Most Recent Orders",component:function(e){var t=e.lookerContentItem,a=e.classes,n=(e.id,Object(r.useState)(0)),o=Object(m.a)(n,2),i=o[0],s=o[1],c=Object(r.useContext)(Q.appContextMap.atom),l=c.clientSession,d=c.isReady,h=l.lookerUser;Object(r.useEffect)((function(){console.log("useEffect outer"),console.log({lookerUser:h}),console.log({isReady:d}),d&&(console.log("useEffect inner"),j())}),[h,d]);var p=Object(Q.validIdHelper)("embedContainer-".concat(t.type,"-").concat(t.id)),j=function(){var e=Object(b.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se()("#".concat(p)).html(""),s(0),a=encodeURIComponent("".concat(t.queryUrl).concat(document.location.origin)),e.next=5,fetch("/auth?src=".concat(a)).then((function(e){return e.json()})).then((function(e){ce.LookerEmbedSDK.createExploreWithUrl(e.url).appendTo(document.getElementById(p)).withClassName("explore").withClassName("splashPage").withClassName(t.id).withTheme("atom_fashion").build().connect().then((function(e){s(1);var t=l.lookerBaseUrl.substring(0,l.lookerBaseUrl.lastIndexOf(":"));console.log({modifiedBaseUrl:t}),ce.LookerEmbedSDK.init(t)})).catch((function(e){}))})).then((function(){s(1)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object($.jsxs)(ae.a,{className:"".concat(a.padding15," ").concat(a.overflowHidden," ").concat(a.lookerCardShadow),children:[Object($.jsx)(de,{hide:i,classes:a,height:t}),Object($.jsx)("div",{className:"".concat(a.overflowYScroll),style:{height:t.height},children:Object($.jsxs)(V.a,{container:!0,spacing:0,children:[Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsx)(W.a,{variant:"h6",align:"center",color:"secondary",children:t.title})}),Object($.jsx)(V.a,{container:!0,spacing:0,alignItems:"center",alignContent:"center",justify:"center",children:Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsx)(Y,{classes:a,children:Object($.jsx)("div",{className:"embedContainer embedContainerNoHeader splashPage \n                 ".concat(a.overflowHidden," ").concat(a.maxHeight80Percent),id:p},p)})})})]})})]})}},xa={gridWidth:4,height:350,type:"popular analysis",vectors:[{id:"9",type:"thumbnail",resourceType:"dashboard",lookerMethod:"vector_thumbnail",label:"Analytics",gridWidth:"4",url:"webanalytics"},{id:"5",type:"thumbnail",resourceType:"dashboard",lookerMethod:"vector_thumbnail",label:"Sales",gridWidth:"4",url:"inventoryoverview"},{id:"1",type:"thumbnail",resourceType:"dashboard",lookerMethod:"vector_thumbnail",label:"Inventory",gridWidth:"4",url:"salesoverview"}],label:"Popular analysis",component:function(e){var t=e.lookerContentItem,a=e.classes,n=Object(r.useState)([]),o=Object(m.a)(n,2);return o[0],o[1],Object($.jsx)(ae.a,{className:"".concat(a.padding15," ").concat(a.overflowHidden," ").concat(a.lookerCardShadow),children:Object($.jsx)("div",{className:"".concat(a.overflowYScroll),style:{height:t.height},children:Object($.jsxs)(V.a,{container:!0,spacing:3,children:[Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsx)(W.a,{variant:"h6",align:"center",color:"secondary",children:"Helpful Dashboards"})}),t.vectors.map((function(e,n){return Object($.jsx)(re,{lookerContentItem:t,vectorItem:e,classes:a,index:n},"".concat(oe("vectorThumbnail-splashPage-"+n)))}))]})})})}},va={type:"splash page",label:"Home",description:"We're thrilled to have you on Atom Fashion - the premiere third party fashion marketplace for today's leading brands. Throughout this portal you will find a series of analytic content designed to help you maximize your performance.",menuCategory:"home",icon:z.a,component:function(e){var t=Object(r.useState)(1),a=Object(m.a)(t,1)[0],n=Object(r.useState)(window.innerHeight-Re),o=Object(m.a)(n,2),i=o[0],s=o[1],l=Object(r.useContext)(Q.appContextMap.atom).clientSession,d=l.lookerUser,u=l.lookerHost,b=e.staticContent.lookerContent,h=e.staticContent.type,p=ze(),j=h||"code flyout";return Object(r.useEffect)((function(){window.addEventListener("resize",(function(){return s(window.innerHeight-Re)}))}),[b]),Object($.jsx)("div",{className:"".concat(p.root),style:{height:i},children:Object($.jsx)(ae.a,{elevation:1,className:"".concat(p.padding15," ").concat(p.height100Percent," ").concat(p.overflowScroll),children:Object($.jsx)(V.a,{container:!0,children:Object($.jsxs)("div",{className:p.root,children:[Object($.jsx)(de,{hide:a,classes:p,height:i}),Object($.jsx)(Pe.a,{className:a?"":"".concat(p.hidden),children:Object($.jsxs)(V.a,{container:!0,spacing:3,className:"".concat(p.noContainerScroll),children:[Object($.jsx)(fe,Object(c.a)(Object(c.a)({},e),{},{classes:p,lookerUser:d,height:i-15})),b.map((function(e,t){var a=e.component;return Object($.jsx)(V.a,{item:!0,sm:parseInt(e.gridWidth),children:a?Object($.jsx)(a,{lookerContentItem:e,classes:p,demoComponentType:j,lookerHost:u}):""},"".concat(Object(Q.validIdHelper)(j+"-innerFragment-"+t)))}))]},"".concat(Object(Q.validIdHelper)(j+"-outerFragment")))})]})},Object(Q.validIdHelper)(h))})})},lookerContent:[ha,pa,ja,fa,ga,Oa,xa],requiredPermissionLevel:0},ya=a(586),_a=a.n(ya),ka=a(1392),Ca=a(1393),wa=a(1397),Sa=a(1394),Na=a(1395),Ia=a(1396),Ta=function(e){var t=e.classes,a=e.apiContent,n=e.customFilterAction,r=e.horizontalLayout,o=e.lookerContent,i=e.type,s=e.helperFunctionMapper,c=e.lightThemeToggleValue,l=e.fontThemeSelectValue;return Object($.jsx)(V.a,{container:!0,spacing:3,children:o[0].filters.map((function(e,o){return"autocomplete"===e.component?Object($.jsx)(V.a,{item:!0,sm:r?3:12,children:Object($.jsx)(jt,{apiContent:a[e.component],index:o,classes:t,action:n,filterItem:e})},Object(Q.validIdHelper)("".concat(i,"-").concat(e.component,"-").concat(o))):"togglebutton"===e.component?Object($.jsx)(V.a,{item:!0,sm:r?3:12,children:"Dynamic Tiles"===e.label?Object($.jsx)(vt,{classes:t,filterItem:e,helperFunctionMapper:s,lightThemeToggleValue:c,fontThemeSelectValue:l}):Object($.jsx)(_t,{classes:t,filterItem:e,helperFunctionMapper:s,lightThemeToggleValue:c,fontThemeSelectValue:l})},Object(Q.validIdHelper)("".concat(i,"-").concat(e.label))):"switch"===e.component?Object($.jsx)(V.a,{item:!0,sm:r?1:12,children:Object($.jsx)(Ct,{classes:t,filterItem:e,helperFunctionMapper:s})},Object(Q.validIdHelper)("".concat(i,"-dynamicThemeMode"))):"dropdown"===e.component?Object($.jsx)(V.a,{item:!0,sm:r?2:12,children:Object($.jsx)(qt,{classes:t,filterItem:e,helperFunctionMapper:s})},Object(Q.validIdHelper)("".concat(i,"-dynamicThemeFont"))):"mapfilter"===e.component?Object($.jsx)(V.a,{item:!0,sm:r?3:12,children:Object($.jsx)(Lt,{classes:t,action:n,filterItem:e})},Object(Q.validIdHelper)("".concat(i,"-").concat(e.component,"-").concat(o))):"rangeslider"===e.component?Object($.jsx)(V.a,{item:!0,sm:r?3:12,children:Object($.jsx)(Bt,{apiContent:a[e.component],classes:t,action:n,filterItem:e})},Object(Q.validIdHelper)("".concat(i,"-").concat(e.component,"-").concat(o))):"togglebuttonapi"===e.component?Object($.jsx)(V.a,{item:!0,sm:r?3:12,children:Object($.jsx)(Et,{apiContent:a[e.component],classes:t,action:n,filterItem:e})},Object(Q.validIdHelper)("".concat(i,"-").concat(e.component,"-").concat(o))):""}))})};function Ha(e){var t=e.staticContent.lookerContent,a=e.staticContent.type,n=e.classes,o=e.apiContent,i=e.customFilterAction,s=e.horizontalLayout,l=e.setHorizontalLayout,d=e.drawerOpen,u=e.setDrawerOpen,b=e.helperFunctionMapper,h=e.lightThemeToggleValue,p=e.fontThemeSelectValue,j=Object(r.useState)(!0),f=Object(m.a)(j,2),g=f[0],O=f[1];return Object(r.useEffect)((function(){g||O(!0)}),[s]),Object($.jsx)(V.a,{item:!0,sm:s?12:d?3:"auto",children:o?Object($.jsxs)(ka.a,{onChange:s?function(){return O(!g)}:function(){},expanded:g,className:"".concat(n.w100," MuiExpansionPanel-root"),elevation:0,children:[Object($.jsx)(Ca.a,{expandIcon:s?Object($.jsx)(Sa.a,{}):"","aria-controls":"panel1a-content",id:"panel1a-header",children:s?Object($.jsx)(Na.a,{onClick:function(e){l(!s)},"aria-label":"vertical view"}):Object($.jsx)($.Fragment,{children:d?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(et.a,{onClick:function(){return u(!d)},"aria-label":"close menu"}),Object($.jsx)(Ia.a,{onClick:function(e){O(!0),l(!s)},"aria-label":"horizontal view"})]}):Object($.jsx)(tt.a,{onClick:function(){return u(!d)},"aria-label":"open menu"})})}),Object($.jsx)(Pe.a,{display:d?"block":"none",children:Object($.jsx)(wa.a,{children:Object($.jsx)(Ta,Object(c.a)(Object(c.a)({},e),{},{classes:n,apiContent:o,customFilterAction:i,horizontalLayout:s,setHorizontalLayout:l,lookerContent:t,type:a,helperFunctionMapper:b,lightThemeToggleValue:h,fontThemeSelectValue:p}))})})]}):""},Object(Q.validIdHelper)("".concat(a,"-FilterBar-").concat(t[0].id)))}function Aa(e){var t=e.classes,a=e.lookerContent,n=e.type,r=e.width;return Object($.jsx)(V.a,{item:!0,sm:r,children:Object($.jsx)(Pe.a,{className:"".concat(t.w100," ").concat(t.padding10),mt:a[0].filter||a[0].dynamicFieldLookUp?2:0,children:Object($.jsx)(Y,{classes:t,children:Object($.jsx)("div",{className:"embedContainer ".concat(Object(Q.validIdHelper)(n)),id:Object(Q.validIdHelper)("embedContainer-".concat(n,"-").concat(a[0].id))},Object(Q.validIdHelper)("embedContainer-".concat(n,"-").concat(a[0].id)))})})})}var Pa=function(e){var t=e.newValue,a=e.filterItem,n=e.dashboardOptions;if(a){var r=xe.a.filter(n.layouts[0].dashboard_layout_components,(function(e){return a.tileLookUp[t].indexOf(n.elements[e.dashboard_element_id].title)>-1})),o=Object(c.a)(Object(c.a)({},n.layouts[0]),{},{dashboard_layout_components:r});return{methodName:a.methodName,response:{layouts:[o]}}}},Fa=function(e){var t=e.newValue,a=e.filterItem,n=e.dashboardOptions,r=e.isThemeableDashboard,o=e.lightThemeToggleValue;if(a){var i=a.colors[t],s=Object(c.a)({},n.elements);return Object.keys(s).map((function(e){s[e].vis_config.series_colors&&Object.keys(s[e].vis_config.series_colors).map((function(t,a){s[e].vis_config.series_colors[t]=i[a]||i[0]})),s[e].vis_config.custom_color&&(s[e].vis_config.custom_color=i[i.length-2]),s[e].vis_config.map_value_colors&&s[e].vis_config.map_value_colors.map((function(t,a){s[e].vis_config.map_value_colors[a]=i[a]||i[0]})),s[e].vis_config.series_cell_visualizations&&Object.keys(s[e].vis_config.series_cell_visualizations).map((function(n,r){s[e].vis_config.series_cell_visualizations[n].hasOwnProperty("palette")&&(s[e].vis_config.series_cell_visualizations[n].palette=Object(c.a)({},a.series_cell_visualizations[t]))})),s[e].vis_config.header_font_color&&(s[e].vis_config.header_font_color=i[i.length-2]),r&&s[e].vis_config.map_tile_provider&&(s[e].vis_config.map_tile_provider=o?"light":"dark")})),{methodName:a.methodName,response:{elements:Object(c.a)({},s)}}}},La=function(e){var t=e.newValue,a=e.filterItem,n=e.lightThemeToggleValue,r=e.fontThemeSelectValue,o="";return o="boolean"===typeof t?t?"light_".concat(r):"dark_".concat(r):n?"light_".concat(t):"dark_".concat(t),{methodName:a.methodName,response:{themeName:o}}};function Da(e){var t=Object(r.useContext)(Q.appContextMap.atom),a=t.clientSession,n=t.clientSession.lookerUser,i=t.sdk,s=t.corsApiCall,l=t.theme,d=t.isReady,h=t.selectedMenuItem,p=e.staticContent.lookerContent,j=e.staticContent.type||"code flyout",g=Object(r.useState)(0),O=Object(m.a)(g,2),x=O[0],v=O[1],y=Object(r.useState)(void 0),_=Object(m.a)(y,2),k=_[0],C=_[1],w=Object(r.useState)({}),S=Object(m.a)(w,2),N=S[0],I=S[1],A=Object(r.useState)({}),F=Object(m.a)(A,2),L=F[0],M=F[1],B=Object(r.useState)(window.innerHeight-Re),U=Object(m.a)(B,2),E=U[0],R=U[1],z=Object(r.useState)(!0),W=Object(m.a)(z,2),q=W[0],K=W[1],G=Object(r.useState)("arial"),Y=Object(m.a)(G,2),J=Y[0],X=Y[1],Z=Object(r.useState)(0),ee=Object(m.a)(Z,2),te=ee[0],ne=ee[1],re=Object(r.useState)(!1),oe=Object(m.a)(re,2),ie=oe[0],le=oe[1],ue=Object(r.useState)(!0),be=Object(m.a)(ue,2),me=be[0],he=be[1],pe=Object(r.useState)(null),je=Object(m.a)(pe,2),ge=je[0],Oe=je[1],ve=xe.a.find(p[0].filters,{label:"Dynamic Vis Config"}),ye=!(!ve||!Object.keys(ve).length),_e=l.palette.fill.main,ke=ze(),Ce=Object(f.h)(),we=Object(f.g)(),Se=!q&&ye?{palette:{type:"dark",background:{paper:_e,default:_e}}}:{palette:Object(c.a)({},l.palette)},Ne=o.a.useMemo((function(){return Object(D.a)(Se)}),[q,p]),Ie=function(){var e=Object(b.a)(u.a.mark((function e(t,a,n){var r,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.method({newValue:a,filterItem:n,dashboardOptions:L,isThemeableDashboard:ye,lightThemeToggleValue:q,fontThemeSelectValue:J,hiddenFilterValue:ge});case 2:if(r=e.sent,o=r.methodName,i=r.response,"handleTileToggle"!==o&&"handleVisColorToggle"!==o){e.next=8;break}N.setOptions(i),e.next=16;break;case 8:if("handleThemeChange"!==o){e.next=13;break}"boolean"===typeof a?K(a):X(a),s(Te,[p,i]),e.next=16;break;case 13:if("createCase"!==o){e.next=16;break}return s(Te,[p]),e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(console.log("useEffect outer"),console.log({lookerUser:n}),console.log({isReady:d}),d){console.log("useEffect inner");var e=q?"light":"dark";e+="_".concat(J),s(Te,[Object(H.a)(p),e]),C(void 0),le(!1),he(!0)}}),[n,d,h]),Object(r.useEffect)((function(){if(Object.keys(L).length&&Object.keys(N).length){var e,t,a=xe.a.find(p[0].filters,{label:"Dynamic Tiles"}),n=xe.a.find(p[0].filters,{label:"Dynamic Vis Config"});a&&(e=Pa({newValue:a.options[0],filterItem:a,dashboardOptions:L})),n&&(t=Fa({newValue:n.options[0],filterItem:n,dashboardOptions:L,isThemeableDashboard:ye,lightThemeToggleValue:q})),N.setOptions(Object(c.a)(Object(c.a)({},e),t))}}),[L]),Object(r.useEffect)((function(){window.addEventListener("resize",(function(){return R(window.innerHeight-Re)})),ne(ie&&se()(".MuiExpansionPanel-root:visible").innerHeight()||0)})),Object(r.useEffect)((function(){R(window.innerHeight-Re),ne(ie&&se()(".MuiExpansionPanel-root:visible").innerHeight()||0)}),[ie]),Object(r.useEffect)((function(){C(void 0);var e=a.lookerBaseUrl.substring(0,a.lookerBaseUrl.lastIndexOf(":"));ce.LookerEmbedSDK.init(e,"/auth")}),[]);var Te=function(e,t){v(0),se()(".embedContainer.".concat(Object(Q.validIdHelper)(j),":visible")).html(""),e.map(function(){var e=Object(b.a)(u.a.mark((function e(r){var o,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=r.id,s=t&&ye?t:r.theme?r.theme:"atom_fashion",ce.LookerEmbedSDK.createDashboardWithId(o).appendTo(Object(Q.validIdHelper)("#embedContainer-".concat(j,"-").concat(o))).withClassName("iframe").withNext().withTheme(s).withParams({schedule_modal:"true"}).on("dashboard:loaded",(function(e){M(e.dashboard.options);var t=Object.keys(e.dashboard.dashboard_filters)[0],a=e.dashboard.dashboard_filters[t];Oe(a)})).on("drillmenu:click",Ae).on("dashboard:filters:changed",(function(e){var t=Object.keys(e.dashboard.dashboard_filters)[0],a=e.dashboard.dashboard_filters[t];Oe(a)})).build().connect().then((function(e){v(1),I(e);var t=a.lookerBaseUrl.substring(0,a.lookerBaseUrl.lastIndexOf(":"));ce.LookerEmbedSDK.init(t)})).catch((function(e){console.log({error:e})})),r.hasOwnProperty("filters")&&(l={},r.filters.map(function(){var e=Object(b.a)(u.a.mark((function e(t,a){var r,o,s,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.inlineQuery){e.next=10;break}return(r=t.inlineQuery).filters=Object(c.a)(Object(c.a)({},r.filters),{},Object(T.a)({},t.desiredFilterName,n.user_attributes.brand)),e.next=5,i.ok(i.run_inline_query({result_format:t.resultFormat||"json",body:r}));case 5:for(o=e.sent,s=[],d=Object.keys(o[0])[0],b=0;b<o.length;b++)s.push({label:o[b][d],trend:o[b].trend?o[b].trend:void 0});l[t.component]=s;case 10:C(l);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},He=Object(r.useCallback)((function(e,t){Object.keys(N).length&&(N.updateFilters(Object(T.a)({},e,t)),N.run())})),Ae=function(e){return xe.a.includes(xe.a.lowerCase(e.label),"w2")||xe.a.includes(xe.a.lowerCase(e.label),"1099")?(we.push({pathname:"eligibilitydocs",search:"pdf_url=".concat(e.url)}),{cancel:!0}):xe.a.includes(xe.a.lowerCase(e.label),"application")?(we.push({pathname:"application",search:"Application ID=".concat(e.url)}),{cancel:!0}):xe.a.includes(xe.a.lowerCase(e.label),"beneficiary")?(we.push({pathname:"beneficiary",search:"Person ID=".concat(e.url)}),{cancel:!0}):void 0};return Object(r.useEffect)((function(){var e=Ve.a.parse(Ce.search);p[0].filterName&&(e[p[0].filterName]>0&&He(p[0].filterName,e[p[0].filterName]))}),[He,Ce.search,p]),Object($.jsx)("div",{className:"".concat(ke.root," demoComponent"),style:{height:E},children:Object($.jsx)(P.a,{theme:Ne,children:Object($.jsx)(ae.a,{elevation:1,className:"".concat(ke.paddingTB15," ").concat(ke.height100Percent),children:Object($.jsx)("div",{className:"".concat(ke.root," ").concat(ke.height100Percent),children:Object($.jsxs)(V.a,{container:!0,spacing:3,children:[Object($.jsx)(de,{hide:x,classes:ke,height:E-te}),p[0].hasOwnProperty("filters")?Object($.jsx)(Ha,Object(c.a)(Object(c.a)({},e),{},{classes:ke,apiContent:k,customFilterAction:He,lightThemeToggleValue:q,fontThemeSelectValue:J,horizontalLayout:ie,setHorizontalLayout:le,drawerOpen:me,setDrawerOpen:he,helperFunctionMapper:Ie})):"",Object($.jsx)(Aa,{classes:ke,lookerContent:p,type:j,width:p[0].hasOwnProperty("filters")?ie?12:me?9:12:12}),Object($.jsx)(fe,Object(c.a)(Object(c.a)({},e),{},{classes:ke,lookerUser:n,height:E-te-15}))]})})})})})}var Ma={label:"Dynamic Tiles",options:["Inventory","Orders"],value:"tileToggleValue",component:"togglebutton",tileLookUp:{Inventory:["Inventory On Hand","# of Items on Hand","Most Popular Out of Stock Items","Overstocked Items","Aging Inventory"],Orders:["# Orders Processing","Total Amount Processing","# Orders In Transit","Order Shipment Status","Open Orders to be Shipped"]},method:Pa,methodName:"handleTileToggle"},Ba={label:"Dynamic Vis Config",options:["#2d4266","#43606b","#414c67"],value:"visColorToggleValue",component:"togglebutton",colors:{"#2d4266":["#2d4266","#416098","#5780cd","#6391e8"],"#43606b":["#43606b","#4a7880","#66a99d","#a3d9a9"],"#414c67":["#414c67","#64689b","#9682cd","#b48ee4"]},series_cell_visualizations:{"#2d4266":{palette_id:"a3425339-dbbb-2584-0e23-38ed7d87ed50",collection_id:"b43731d5-dc87-4a8e-b807-635bef3948e7",custom_colors:["#6391e8","#2d4266"]},"#43606b":{palette_id:"c5182d25-00a3-cd71-eed3-4056299dd78f",collection_id:"atom-fashion",custom_colors:["#a3d9a9","#43606b"]},"#414c67":{palette_id:"7e059aa1-0d23-dab1-dbf9-a751ab7f54fb",collection_id:"b43731d5-dc87-4a8e-b807-635bef3948e7",custom_colors:["#b48ee4","#414c67"]}},method:Fa,methodName:"handleVisColorToggle"},Ua={label:"Light or dark theme",component:"switch",method:La,methodName:"handleThemeChange"},Ea={label:"Change font",component:"dropdown",options:[{label:"Arial",value:"arial"},{label:"Roboto",value:"roboto"},{label:"Vollkorn",value:"vollkorn"}],method:La,methodName:"handleThemeChange"},Ra={type:"custom filter",label:"Inventory Overview",menuLabel:"Inventory Overview",menuCategory:"operations",icon:_a.a,component:Da,lookerContent:[{type:"dashboard",lookerMethod:"embedDashboard",id:"1",isNext:!1,label:"Inventory Overview",filters:[{label:"Select Product Name",filterName:"Product Name",lookerMethod:"runInlineQuery",inlineQuery:{model:"atom_fashion",view:"order_items",fields:["products.item_name"],query_timezone:"America/Los_Angeles"},desiredFilterNames:"products.brand",component:"autocomplete",resultFormat:"json"},Ma,Ba,Ua,Ea]}],requiredPermissionLevel:0},za=a(1398),Wa=a(1399),Va=a(1401),qa=a(1403),Qa=a(1404),$a=a(1405),Ka=a(1437),Ga=a(1406),Ya=a(1407),Ja=a(1408),Xa=a(1409),Za=a(1438),en=a(1400),tn=a(1402);function an(e,t,a){return e[a]&&t[a]&&t[a].value<e[a].value?-1:e[a]&&t[a]&&t[a].value>e[a].value?1:0}function nn(e,t){return"desc"===e?function(e,a){return an(e,a,t)}:function(e,a){return-an(e,a,t)}}function rn(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var on=Fe.a[500],sn=Le.a[500],cn=Fe.a[100],ln=Le.a[100],dn=140,un=Object(U.a)((function(e){var t;return t={root:{flexGrow:1,overflow:"scroll",borderRadius:8},flexCentered:{display:"flex",justifyContent:"center",alignItems:"center"},hidden:{visibility:"hidden",position:"absolute",zIndex:-1},tabs:{backgroundColor:"white",color:"#6c757d"},dNone:{display:"none"},dBlock:{display:"block"},tree:{height:240,flexGrow:1,maxWidth:400},icon:{marginRight:12,fontSize:"1rem",overflow:"visible"},mt12:{marginTop:12},w100:{width:"100%"},mlAuto:{marginLeft:"auto"},mrAuto:{marginRight:"auto"},skeleton:{minWidth:275,minHeight:600},card:{minWidth:275},padding30:{padding:30},minHeight680:{minHeight:680},maxHeight200:{maxHeight:200,height:200,overflow:"hidden"},mt30:{marginTop:30},mb30:{marginBottom:30},textCenter:{textAlign:"center"},cursorPointer:{cursor:"pointer"},border:{border:"1px solid black"},height800:{height:800},maxHeight100:{maxHeight:100,height:100},maxHeight400:{maxHeight:400,height:400},minHeight200:{minHeight:200,overflow:"scroll"},redNeg:{backgroundColor:cn,color:on,fontWeight:800},greenPos:{backgroundColor:ln,color:sn,fontWeight:800}},Object(T.a)(t,"padding30",{padding:30}),Object(T.a)(t,"mb12",{marginBottom:12}),Object(T.a)(t,"overflowScroll",{overflow:"scroll"}),Object(T.a)(t,"overflowHidden",{overflow:"hidden"}),Object(T.a)(t,"overflowVisible",{overflow:"visible"}),Object(T.a)(t,"maxHeight150",{maxHeight:150,height:150}),Object(T.a)(t,"minHeight150",{minHeight:150,overflow:"scroll"}),Object(T.a)(t,"carouselLegend",{backgroundColor:"rgb(192,192,192, .5)\t !important",textAlign:"center !important",opacity:"100 !important",fontWeight:800}),Object(T.a)(t,"carouselLegendTitle",{fontSize:"24px !important"}),Object(T.a)(t,"carouselLegendBody",{fontSize:"16px !important"}),Object(T.a)(t,"positionRelative",{position:"relative"}),Object(T.a)(t,"padding15",{padding:15}),Object(T.a)(t,"maxHeight75",{maxHeight:75,height:75}),Object(T.a)(t,"overflowYScroll",{overflowY:"scroll",overflowX:"hidden"}),Object(T.a)(t,"drawerHeader",Object(c.a)(Object(c.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})),Object(T.a)(t,"padding20",{padding:20}),Object(T.a)(t,"positionFixedTopRight",{position:"fixed",top:88,right:24,bottom:0,zIndex:100}),Object(T.a)(t,"codeFlyoutContainer",{backgroundColor:"rgb(40, 42, 54)",overflow:"scroll",borderRadius:"0 8px 8px 0"}),Object(T.a)(t,"height100Percent",{height:"100%"}),Object(T.a)(t,"noContainerScroll",{width:"100%",margin:0}),Object(T.a)(t,"lookerCardShadow",{border:"none",borderRadius:"6px",boxShadow:"rgba(0, 0, 0, 0.11) 0px 2px 12px, rgba(0, 0, 0, 0.04) 0px 1px 4px"}),Object(T.a)(t,"maxHeight60",{maxHeight:60,height:60}),Object(T.a)(t,"maxHeight350",{maxHeight:350,height:350}),Object(T.a)(t,"maxHeight80Percent",{maxHeight:"80%",height:"80%"}),Object(T.a)(t,"faSm",{fontSize:".75em"}),Object(T.a)(t,"mr12",{marginRight:12}),Object(T.a)(t,"ml12",{marginLeft:12}),Object(T.a)(t,"dot",{height:"25px",width:"25px",borderRadius:"50%",display:"inline-block"}),Object(T.a)(t,"borderRadius0",{borderRadius:0}),Object(T.a)(t,"w33",{width:"33%"}),Object(T.a)(t,"verticalAlignTop",{verticalAlign:"top"}),Object(T.a)(t,"padding10",{padding:10}),Object(T.a)(t,"heading",{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}),Object(T.a)(t,"visuallyHidden",{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}),Object(T.a)(t,"formControl",{margin:e.spacing(1),minWidth:120}),Object(T.a)(t,"bluePrimary",{backgroundColor:"rgba(69, 149, 236, 1)"}),Object(T.a)(t,"blueSecondary",{backgroundColor:"rgba(69, 149, 236, .5)"}),Object(T.a)(t,"orangePrimary",{backgroundColor:"rgba(243, 167, 89, 1)"}),Object(T.a)(t,"orangeSecondary",{backgroundColor:"rgba(243, 167, 89, .5)"}),Object(T.a)(t,"positionTopRight",{position:"absolute",top:-30,right:-50,bottom:0,zIndex:100}),Object(T.a)(t,"bottomBarSpacer",Object(c.a)(Object(c.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})),Object(T.a)(t,"maxHeight600",{maxHeight:600,overflow:"scroll"}),Object(T.a)(t,"m12",{margin:12}),Object(T.a)(t,"m6",{margin:6}),t})),bn=a(1288).default,mn=Math.floor(4*Math.random())+1,hn=a(1289)("./background".concat(mn,".jpg")).default,pn={cardHeader:"Welcome",cardBody:"Please sign in to access your merchant portal",logo:bn,logoStyle:{height:"100px",width:"auto"},backgroundImage:hn,backgroundImageStyle:{backgroundImage:"url(".concat(hn,")"),backgroundSize:"cover"}},jn={basic:["access_data","see_looks","see_user_dashboards","see_lookml_dashboards","download_with_limit"],advanced:["access_data","see_looks","see_user_dashboards","see_lookml_dashboards","download_with_limit","schedule_look_emails","schedule_external_look_emails","create_alerts","see_drill_overlay"],premium:["access_data","see_looks","see_user_dashboards","see_lookml_dashboards","download_with_limit","schedule_look_emails","schedule_external_look_emails","create_alerts","see_drill_overlay","save_content","embed_browse_spaces","schedule_look_emails","send_to_sftp","send_to_s3","send_outgoing_webhook","send_to_integration","download_without_limit","explore","see_sql"]},fn={basic:"last 182 days",advanced:"last 365 days",premium:"last 730 days"},gn={external_user_id:"",first_name:"",last_name:"",session_length:86400,force_logout_login:!0,external_group_id:"",group_ids:[4],permissions:jn[Object.keys(jn)[0]],models:["atom_fashion"],user_attributes:{locale:"en_US",country:"USA",brand:"Calvin Klein",time_horizon:"last 182 days",permission_level:Object.keys(jn)[0]}},On={basic:{title:"Drive your business with clear KPIs",list:["6 months of order data history","Atom Merchant Dashboards","Download PDFs, CSVs"]},advanced:{title:"Deeper insights, operations",list:["Full year of order data history","Drill to row level information","Download row level information","Schedule dashboards for delivery (to you or others)","Set alerts and key threshold notifications"]},premium:{title:"Drive your business with Atom",list:["2 Full years of order data history","Analyze your own data and save custom reports","View premium level, productivity enhancing reports","Share your reports with colleagues in Atom","Text message alerts"]}},xn=a(1294).default,vn={usermenu:{permissionLevels:jn,rowLevelAttribute:{autoCompleteLabel:"Change brand",menuItemLabel:"Current brand",options:[{label:"Columbia"},{label:"Calvin Klein"},{label:"Carhartt"},{label:"Levi's"},{label:"Dockers"}]},allowModal:!0},avatar:xn,avatarStyle:{maxHeight:"40px",fill:"white"}},yn=a(121),_n=yn.validIdHelper,kn=yn.prettifyString;function Cn(e){var t=Object(r.useContext)(g.a),a=t.clientSession,n=(t.setPaywallModal,t.show,t.codeShow,t.sdk,t.corsApiCall),o=t.isReady,i=(a.userProfile,a.lookerUser),s=(a.lookerHost,e.staticContent,e.staticContent.lookerContent),l=e.classes,d=e.action,u=0,b=0,h=function(){return s[0].queryBody.fields.map((function(e,t){return{key:"fieldChipData"+t,label:kn(e.substring(e.lastIndexOf(".")+1,e.length)),datalabel:e,selected:"users.state"===e||"users.country"===e||"order_items.total_sale_price"===e,fieldType:s[0].fieldType[e]}}))},j=Object(r.useState)(!0),f=Object(m.a)(j,2),O=f[0],x=f[1],v=Object(r.useState)(s[0].queryBody?h():""),y=Object(m.a)(v,2),_=y[0],k=y[1],C=Object(r.useState)(!0),w=Object(m.a)(C,2),S=w[0],N=w[1],I=Object(r.useState)(!1),T=Object(m.a)(I,2),A=T[0],P=T[1],F=Object(r.useState)(s[0].queryBody?Object.keys(s[0].queryBody.filters).map((function(e,t){return{key:"filter"+t,label:e,value:s[0].queryBody.filters[e],type:s[0].filterType[e]}})):""),L=Object(m.a)(F,2),D=L[0],M=L[1],B=function(e,t){var a=Object(H.a)(_);a[t].selected=!1===a[t].selected,k(a),N(!0)},U=function(e,t){var a=Object(H.a)(D);a[e].value=t,M(a),N(!0)},E=function(e){if(S||A){var t=_.filter((function(e){return e.selected})).map((function(e){return e.datalabel})),a={};D.map((function(e,t){a[e.label]=e.value}));var r=Object(c.a)({},s[0].queryBody);r.fields=t,r.filters=a,n(d,[r,s[0].resultFormat]),N(!1),P(!1)}};Object(r.useEffect)((function(){if(o){var e=Object(H.a)(D);e[3].value=fn[i.user_attributes.permission_level]||"182 days",M(e),k(h()),P(!0)}}),[i,o]),Object(r.useEffect)((function(){A&&(E(),N(!1),P(!1))}),[A]);var R={basic:["1 week","1 month","3 months","last 182 days"]};return R.advanced=[].concat(Object(H.a)(R.basic),["last 365 days"]),R.premium=[].concat(Object(H.a)(R.advanced),["last 730 days"]),Object($.jsxs)(za.a,{expanded:O,onChange:function(e,t){x(!O)},elevation:0,children:[Object($.jsxs)(Wa.a,{expandIcon:Object($.jsx)(Sa.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:[Object($.jsx)(en.a,{}),Object($.jsx)(W.a,{className:"".concat(l.heading," ").concat(l.ml12),children:"Build Query:"})]}),Object($.jsx)(Va.a,{children:Object($.jsxs)(V.a,{container:!0,spacing:3,children:[Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsxs)(W.a,{variant:"subtitle1",children:["Select Metrics:",_.length?_.map((function(e,t){return"measure"===e.fieldType?Object($.jsx)(q.a,{measurecounter:u+=1,className:e.selected?"".concat(l.orangePrimary," ").concat(l.m6):"".concat(l.m6),label:kn(e.label.substring(e.label.lastIndexOf(".")+1,e.label.length)),datalabel:e.label,onClick:function(){return B(0,t)},icon:e.selected?Object($.jsx)(tn.a,{className:l.dBlock}):Object($.jsx)(tn.a,{className:l.dNone})},e.label):""})):"",Object($.jsx)("br",{})]})}),Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsxs)(W.a,{variant:"subtitle1",children:["Group By:",_.length?_.map((function(e,t){return"dimension"===e.fieldType?Object($.jsx)(q.a,{dimensioncounter:b+=1,className:e.selected?"".concat(l.bluePrimary," ").concat(l.m6):"".concat(l.m6),label:kn(e.label.substring(e.label.lastIndexOf(".")+1,e.label.length)),datalabel:e.label,onClick:function(){return B(0,t)},icon:e.selected?Object($.jsx)(tn.a,{className:l.dBlock}):Object($.jsx)(tn.a,{className:l.dNone})},e.label):""})):"",Object($.jsx)("br",{})]})}),Object($.jsxs)(V.a,{item:!0,sm:3,children:[Object($.jsx)(W.a,{variant:"subtitle1",children:"Filter By:"}),D.length?D.map((function(e,t){return Object($.jsx)(Rt.a,{className:e.value.length?l.formControl:l.hidden,children:"yesno"===e.type?Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(zt.a,{id:_n("".concat(e.label,"FilterLabel")),children:[kn(e.label.substring(e.label.lastIndexOf(".")+1,e.label.length)),":"]}),Object($.jsxs)(Wt.a,{labelId:_n("".concat(e.label,"FilterLabel")),id:_n("".concat(e.label,"FilterSelect")),value:e.value,onChange:function(e){return U(t,e.target.value)},children:[Object($.jsx)(rt.a,{value:"Yes",children:"Yes"}),Object($.jsx)(rt.a,{value:"No",children:"No"}),Object($.jsx)(rt.a,{value:"All",children:"All"})]})]}):"date"===e.type?Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(zt.a,{id:_n("".concat(e.label,"FilterLabel")),children:[kn(e.label.substring(e.label.lastIndexOf(".")+1,e.label.length)),":"]}),Object($.jsx)(Wt.a,{labelId:_n("".concat(e.label,"FilterLabel")),id:_n("".concat(e.label,"FilterSelect")),value:e.value||"6 months",onChange:function(e){return U(t,e.target.value)},children:i.user_attributes.permission_level?R[i.user_attributes.permission_level].map((function(e){return Object($.jsx)(rt.a,{value:e,children:p.a.capitalize(e)},_n(e))})):""})]}):""},_n("".concat(e.label,"FormControl")))})):""]}),Object($.jsxs)(V.a,{item:!0,sm:9,children:[Object($.jsx)("br",{}),Object($.jsx)(Se.a,{color:"primary",variant:"contained",size:"large",onClick:E,disabled:!S,children:"Run Query"})]})]})})]})}function wn(e){var t=e.classes,a=(e.onSelectAllClick,e.order),n=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort),o=e.rows;return Object($.jsx)(qa.a,{children:Object($.jsx)(Qa.a,{children:Object.keys(o[0]).map((function(e,o){return Object($.jsx)($a.a,{id:_n(e+"-TableHead-TableCell-"+o),align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e&&a,children:Object($.jsxs)(Ka.a,{active:n===e,direction:n===e?a:"asc",onClick:(i=e,function(e){r(e,i)}),children:[kn(e.substring(e.lastIndexOf(".")+1,e.length)),n===e?Object($.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},_n(e+"-TableHead-TableCell-"+o));var i}))})})}function Sn(e){var t=e.rows,a=e.classes,n=e.lookerContent,r=e.width,i=o.a.useState("asc"),s=Object(m.a)(i,2),l=s[0],d=s[1],u=o.a.useState(Object.keys(t[0])[0]),b=Object(m.a)(u,2),h=b[0],p=b[1],j=o.a.useState(0),f=Object(m.a)(j,2),g=f[0],O=f[1],x=o.a.useState(!0),v=Object(m.a)(x,2),y=v[0],_=v[1],k=o.a.useState(25),C=Object(m.a)(k,2),w=C[0],S=C[1],N=w-Math.min(w,t.length-g*w);return Object($.jsxs)("div",{className:"".concat(a.root," ").concat(a.padding10),children:[Object($.jsx)(G,{classes:a,children:Object($.jsx)(Ga.a,{style:{maxWidth:r},children:Object($.jsxs)(Ya.a,{className:a.table,"aria-labelledby":"tableTitle",size:y?"small":"medium","aria-label":"enhanced table",children:[Object($.jsx)(wn,Object(c.a)(Object(c.a)({},e),{},{classes:a,order:l,orderBy:h,onRequestSort:function(e,t){d(h===t&&"asc"===l?"desc":"asc"),p(t)},rowCount:t.length})),Object($.jsxs)(Ja.a,{children:[rn(t,nn(l,h)).slice(g*w,g*w+w).map((function(e,t){return Object($.jsx)(Qa.a,{hover:!0,id:_n("TableRow-"+t),children:Object.keys(e).map((function(t,r){return Object($.jsx)($a.a,{id:_n(t+"-TableBody-TableCell-"+r),className:"dimension"===n[0].fieldType[t]?a.blueSecondary:a.orangeSecondary,align:"right",children:e[t].rendered?e[t].rendered:e[t].value},_n(t+"-TableBody-TableCell-"+r))}))},_n("TableRow-"+t))})),N>0&&Object($.jsx)(Qa.a,{style:{height:(y?33:53)*N},children:Object($.jsx)($a.a,{colSpan:6})})]})]})})}),Object($.jsxs)(V.a,{container:!0,children:[Object($.jsx)(V.a,{item:!0,sm:6,children:Object($.jsx)(Xa.a,{control:Object($.jsx)(kt.a,{checked:y,onChange:function(e){_(e.target.checked)}}),label:"Compact"})}),Object($.jsx)(V.a,{item:!0,sm:6,children:Object($.jsx)(Za.a,{rowsPerPageOptions:[5,10,25,50],component:"div",count:t.length,rowsPerPage:w,page:g,onChangePage:function(e,t){O(t)},onChangeRowsPerPage:function(e){S(parseInt(e.target.value,10)),O(0)}})})]}),Object($.jsx)("div",{className:a.bottomBarSpacer})]})}var Nn={type:"query builder",label:"Query Builder",menuCategory:"operations",description:"Enable business users to self serve on data and answer their own questions",icon:dt.a,component:function(e){var t=Object(r.useContext)(g.a),a=t.clientSession,n=(t.show,t.codeShow,t.sdk),o=t.corsApiCall,i=(a.userProfile,a.lookerUser),s=(a.lookerHost,Object(r.useState)({})),l=Object(m.a)(s,2),d=l[0],h=l[1],p=Object(r.useState)(window.innerHeight-dn),j=Object(m.a)(p,2),f=j[0],O=j[1],x=Object(r.useState)(window.innerWidth-362),v=Object(m.a)(x,2),y=v[0],_=v[1],k=Object(r.useState)(0),C=Object(m.a)(k,2),w=C[0],S=C[1],N=un(),I=(e.staticContent,e.staticContent.lookerContent),T=e.staticContent.type;Object(r.useEffect)((function(){window.addEventListener("resize",(function(){O(window.innerHeight-dn),_(window.innerWidth-362),S(se()(".MuiExpansionPanel-root:visible").innerHeight()||0)}))}));var H=function(){var e=Object(b.a)(u.a.mark((function e(t,a){var r,o,i,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Object(c.a)({},d)).status="running",h(r),o=Date.now(),e.next=6,n.ok(n.create_query(t));case 6:return i=e.sent,e.next=9,n.ok(n.create_query_task({body:{query_id:i.id,result_format:a||"json_detail"}}));case 9:s=e.sent,l=setInterval(Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.ok(n.query_task_results(s.id,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 2:"complete"===(t=e.sent).status&&(clearInterval(l),h(t)),o+3e4<Date.now()&&(clearInterval(),h([]));case 5:case"end":return e.stop()}}),e)}))),1e3);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object($.jsx)("div",{className:"".concat(N.root," demoComponent"),style:{height:f},children:Object($.jsx)(ae.a,{elevation:1,className:"".concat(N.padding15," ").concat(N.height100Percent," ").concat(N.overflowYScroll),children:Object($.jsx)(V.a,{container:!0,children:Object($.jsxs)("div",{className:"".concat(N.root),children:[Object($.jsx)(de,{hide:d&&"running"!==d.status,classes:N,height:f-w}),Object($.jsx)(Cn,Object(c.a)(Object(c.a)({},e),{},{classes:N,action:H,corsApiCall:o})),d.data&&d.data.length?Object($.jsx)(Pe.a,{children:Object($.jsxs)(V.a,{container:!0,spacing:3,className:"".concat(N.noContainerScroll),children:[Object($.jsx)(fe,Object(c.a)(Object(c.a)({},e),{},{classes:N,lookerUser:i,height:f-w-15})),Object($.jsx)(ne.a,{className:N.divider}),Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsx)(Pe.a,{className:"".concat(N.w100),mt:2,children:Object($.jsx)(Sn,Object(c.a)(Object(c.a)({},e),{},{classes:N,rows:d.data,lookerContent:I,width:y}))})})]})}):Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsxs)(W.a,{variant:"h6",component:"h6",className:"".concat(N.gridTitle," ").concat(N.textCenter),children:["No results found, try a new query",Object($.jsx)("br",{})]})})]})},_n(T))})})},lookerContent:[{type:"explorelite",id:"explorelite",label:"Build & Run Queries",queryBody:{model:"atom_fashion",view:"order_items",fields:["order_items.created_month","order_items.created_date","order_items.created_week","users.city","users.state","users.country","products.category_type","products.category","products.brand","order_items.total_sale_price","order_items.total_tax_amount"],filters:{"users.state":"","users.city":"","users.country":"","order_items.created_date":"6 months"},limit:500},resultFormat:"json_detail",fieldType:{"order_items.created_month":"dimension","order_items.created_date":"dimension","order_items.created_week":"dimension","users.city":"dimension","users.state":"dimension","users.country":"dimension","products.category_type":"dimension","products.category":"dimension","products.brand":"dimension","order_items.total_sale_price":"measure","order_items.total_tax_amount":"measure"},filterType:{"users.state":"string","users.city":"string","users.country":"string","order_items.created_date":"date"}}],requiredPermissionLevel:0},In=a(1424),Tn=a(1415),Hn=a(1414),An=a(1416);function Pn(e){var t=e.children,a=e.value,n=e.index,r=Object(l.a)(e,["children","value","index"]);return Object($.jsx)(W.a,Object(c.a)(Object(c.a)({component:"div",role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),{},{children:Object($.jsx)(Pe.a,{p:3,children:t})}))}var Fn=a(1410),Ln=a(1412),Dn=a(1411),Mn=a(1413),Bn=a(121).validIdHelper,Un=function(e){e.staticContent;var t=e.staticContent.lookerContent,a=e.classes,n=e.demoComponentType,i=e.tabContent,s=e.tabContentItemIndex,c=e.action,l=e.apiContent,d=Object(r.useContext)(g.a),u=d.clientSession,b=d.setPaywallModal,h=u.lookerUser,j="folder"===t[0].type?t[0].id:"",f=0,O=Object(r.useState)("2"),x=Object(m.a)(O,2),v=x[0],y=x[1],_=Object.keys(l).length?["1",""+(2+l[Object.keys(l)[0]].length)]:[],k=Object(r.useState)(_),C=Object(m.a)(k,2),w=C[0],S=C[1];return Object(r.useEffect)((function(){S(_),y("2")}),[l]),Object($.jsx)(Fn.a,{className:a.tree,defaultCollapseIcon:Object($.jsx)(Sa.a,{}),defaultExpandIcon:Object($.jsx)(Dn.a,{}),expanded:w,onNodeSelect:y,selected:v,children:l?Object.keys(l).map((function(e,t){return Object($.jsx)(o.a.Fragment,{children:Object($.jsx)(Ln.a,{nodeId:""+(f+=1),label:p.a.capitalize(e),icon:Object($.jsx)(Mn.a,{}),disabled:!l[e].length,children:l[e].length?l[e].map((function(t,r){return Object($.jsx)(Ln.a,{nodeId:""+(f+=1),treecounter:f,"aria-selected":!1,contentid:t.id,label:t.folder_id===j&&"reports"===e?Object($.jsx)("div",{id:"".concat(Bn(n+"-innerTreeItem-LabelContainer"+f)),className:"".concat(a.labelRoot," ").concat(a.parentHoverVisibility),children:Object($.jsxs)(V.a,{container:!0,children:[Object($.jsx)(V.a,{item:!0,sm:8,className:"".concat(a.overflowHidden),children:t.title}),Object($.jsx)(V.a,{item:!0,sm:4,children:Object($.jsx)(Se.a,{id:"".concat(Bn(n+"-innerTreeItem-Explore"+f)),size:"small",className:"".concat(a.ml12," ").concat(a.childHoverVisibility),onClick:function(a){"premium"===h.user_attributes.permission_level?(c(e.substring(0,e.length-1),t.id,"explore",t.client_id,i[s+1].id,Bn("embedContainer-".concat(n,"-").concat(i[s+1].id))),a.stopPropagation()):b({show:!0,permissionNeeded:"explore"})},color:"default",startIcon:"premium"===h.user_attributes.permission_level?"":Object($.jsx)(Hn.a,{}),children:"Explore"},"".concat(Bn(n+"-innerTreeItem-Explore"+f)))})]})},"".concat(Bn(n+"-innerTreeItem-LabelContainer"+f))):"reports"===e?Object($.jsx)("div",{id:"".concat(Bn(n+"-innerTreeItem-LabelContainer"+f)),className:"".concat(a.labelRoot," ").concat(a.parentHoverVisibility),children:Object($.jsxs)(V.a,{container:!0,children:[Object($.jsx)(V.a,{item:!0,sm:6,className:"".concat(a.overflowHidden),children:t.title}),Object($.jsxs)(V.a,{item:!0,sm:6,children:[Object($.jsx)(Se.a,{id:"".concat(Bn(n+"-innerTreeItem-EditButton"+f)),size:"small",className:"".concat(a.ml12," ").concat(a.childHoverVisibility),onClick:function(a){"premium"===h.user_attributes.permission_level?(c(e.substring(0,e.length-1),t.id,"edit",t.client_id,i[s+1].id,Bn("embedContainer-".concat(n,"-").concat(i[s+1].id))),a.stopPropagation()):b({show:!0,permissionNeeded:"explore"})},color:"primary",children:"Edit"},"".concat(Bn(n+"-innerTreeItem-EditButton"+f))),Object($.jsx)(Se.a,{id:"".concat(Bn(n+"-innerTreeItem-DeleteButton"+f)),size:"small",className:"".concat(a.ml12," ").concat(a.childHoverVisibility),onClick:function(a){"premium"===h.user_attributes.permission_level?(c(e.substring(0,e.length-1),t.id,"delete",t.client_id,i[s+1].id,Bn("embedContainer-".concat(n,"-").concat(i[s+1].id))),a.stopPropagation()):b({show:!0,permissionNeeded:"explore"})},color:"secondary",children:"Delete"},"".concat(Bn(n+"-innerTreeItem-DeleteButton"+f)))]})]})},"".concat(Bn(n+"-innerTreeItem-LabelContainer"+f))):Object($.jsx)(V.a,{container:!0,children:Object($.jsx)(V.a,{item:!0,sm:12,children:t.title})}),onClick:function(){c(e.substring(0,e.length-1),t.id)}},"".concat(Bn(n+"-innerTreeItem-"+f)))})):""},"".concat(Bn(n+"-outerTreeItem-"+t)))},"".concat(Bn(n+"-innerFragment-"+t)))})):""})},En=a(121).validIdHelper;var Rn=a(587),zn={type:"report builder",label:"Saved Reports",menuCategory:"operations",description:"Give users the ability to explore existing reports as well as create new ones all from within your application",icon:a.n(Rn).a,component:function(e){var t=Object(r.useContext)(g.a),a=t.clientSession,n=t.setPaywallModal,i=(t.show,t.codeShow,t.sdk),s=t.corsApiCall,l=t.isReady,d=(a.userProfile,a.lookerUser),h=(a.lookerHost,Object(r.useState)(0)),p=Object(m.a)(h,2),j=p[0],f=p[1],O=Object(r.useState)([]),x=Object(m.a)(O,2),v=x[0],y=x[1],_=Object(r.useState)({}),k=Object(m.a)(_,2),C=(k[0],k[1]),w=Object(r.useState)(window.innerHeight-dn),S=Object(m.a)(w,2),N=S[0],I=S[1],T=Object(r.useState)(0),P=Object(m.a)(T,2),F=P[0],L=P[1],D=un(),M=Object(r.useState)(0),B=Object(m.a)(M,2),U=B[0],E=B[1],R=Object(r.useState)(null),z=Object(m.a)(R,2),W=z[0],q=z[1],Q=(e.staticContent,e.staticContent.lookerContent),K=e.staticContent.type,J=K,X=Object(H.a)(Q),Z=function(e,t){1==t&&"premium"!==d.user_attributes.permission_level?n({show:!0,permissionNeeded:"explore"}):E(t)};Object(r.useEffect)((function(){l&&s(te,[Q,!U])}),[d,U,l,U]),Object(r.useEffect)((function(){window.addEventListener("resize",(function(){return I(window.innerHeight-dn)})),L(se()(".MuiExpansionPanel-root:visible").innerHeight()||0)}));var ee=function(){var e=Object(b.a)(u.a.mark((function e(t,a,n,r,o,c){var l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l=se()(".embedContainer:visible > iframe"),0,d=0;d<l.length;d++)l[d].classList.contains(t)&&l[d].classList.contains(a)?(l[d].classList.remove("dNone"),d):l[d].classList.add("dNone");if("edit"!==n&&"explore"!==n){e.next=8;break}q(r),Z(0,1),e.next=13;break;case 8:if("delete"!==n){e.next=13;break}return e.next=11,i.ok(i.delete_look(a));case 11:e.sent,s(te,[Q,1]);case 13:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o,i){return e.apply(this,arguments)}}(),te=function(e,t){se()(".embedContainer.".concat(En(J),":visible")).html(""),t&&(Z(0,0),f(0),y([])),e.map(function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,o,s,c,l,b,m,h,p,j,g,O,x,v,_,k;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==U||"folder"!==t.type){e.next=48;break}return e.next=3,i.ok(i.folder(t.id));case 3:return n=e.sent,e.next=6,i.ok(i.me());case 6:r=e.sent,o=0;case 8:if(!(o<n.looks.length)){e.next=17;break}return e.next=11,i.ok(i.look(n.looks[o].id));case 11:s=e.sent,c=s.query.client_id,n.looks[o].client_id=c;case 14:o++,e.next=8;break;case 17:if(l={},"premium"!==d.user_attributes.permission_level){e.next=37;break}return e.next=21,i.ok(i.search_looks({user_id:r.id}));case 21:if(!(b=e.sent)||!b.length){e.next=37;break}return m=b[0].folder_id||null,e.next=26,i.ok(i.folder(m));case 26:l=e.sent,h=0;case 28:if(!(h<l.looks.length)){e.next=37;break}return e.next=31,i.ok(i.look(l.looks[h].id));case 31:p=e.sent,j=p.query.client_id,l.looks[h].client_id=j;case 34:h++,e.next=28;break;case 37:g={sharedFolder:n,embeddedUserFolder:l},O=Object(H.a)(g.sharedFolder.looks),"premium"===d.user_attributes.permission_level&&Object.keys(g.embeddedUserFolder).length&&(O=[].concat(Object(H.a)(O),Object(H.a)(g.embeddedUserFolder.looks))),x=Object(H.a)(g.sharedFolder.dashboards),v={reports:O,dashboards:x},_=se()(".embedContainer.".concat(En(J)," > iframe")),v.reports.length&&v.reports.map((function(e,n){for(var r=e.id,o=!1,i=0;i<_.length;i++)_[i].classList.contains("look")&&_[i].classList.contains(r)&&(o=!0);o||A.LookerEmbedSDK.createLookWithId(r).appendTo(En("#embedContainer-".concat(J,"-").concat(t.id))).withClassName("iframe").withClassName("report").withClassName("look").withClassName(g.sharedFolder.looks.indexOf(e)>-1?"shared":"personal").withClassName(n>0?"dNone":"oops").withClassName(r).build().connect().then((function(e){var t=a.lookerBaseUrl.substring(0,a.lookerBaseUrl.lastIndexOf(":"));A.LookerEmbedSDK.init(t)})).catch((function(e){console.error("Connection error",e)})),n===v.reports.length-1&&setTimeout((function(){return f(1)}),1e3)})),v.dashboards.length&&v.dashboards.map((function(e,n){for(var r=e.id,o=!1,i=0;i<_.length;i++)_[i].classList.contains("dashboard")&&_[i].classList.contains(r)&&(o=!0);o||A.LookerEmbedSDK.createDashboardWithId(r).appendTo(En("#embedContainer-".concat(J,"-").concat(t.id))).withClassName("iframe").withClassName("dashboard").withClassName(g.sharedFolder.dashboards.indexOf(e)>-1?"shared":"personal").withClassName("dNone").withClassName(r).build().connect().then((function(e){setTimeout((function(){}),1e3);var t=a.lookerBaseUrl.substring(0,a.lookerBaseUrl.lastIndexOf(":"));A.LookerEmbedSDK.init(t)})).catch((function(e){console.error("Connection error",e)})),n===v.dashboards.length-1&&setTimeout((function(){return f(1)}),1e3)})),y(v),e.next=49;break;case 48:"explore"===t.type&&"premium"===d.user_attributes.permission_level&&1===U&&(k=t.id,se()(En("#embedContainer-".concat(J,"-").concat(t.id))).html(""),W?A.LookerEmbedSDK.createExploreWithId(k).appendTo(En("#embedContainer-".concat(J,"-").concat(t.id))).withClassName("exploreIframe").withParams({qid:W}).on("explore:state:changed",(function(e){})).build().connect().then((function(e){f(1),C(e);var t=a.lookerBaseUrl.substring(0,a.lookerBaseUrl.lastIndexOf(":"));A.LookerEmbedSDK.init(t),q(null)})).catch((function(e){console.error("Connection error",e)})):A.LookerEmbedSDK.createExploreWithId(k).appendTo(En("#embedContainer-".concat(J,"-").concat(t.id))).withClassName("exploreIframe").on("explore:state:changed",(function(e){})).build().connect().then((function(e){f(1),C(e);var t=a.lookerBaseUrl.substring(0,a.lookerBaseUrl.lastIndexOf(":"));A.LookerEmbedSDK.init(t)})).catch((function(e){console.error("Connection error",e)})));case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object($.jsx)("div",{className:"".concat(D.root," demoComponent"),style:{height:N},children:Object($.jsx)(ae.a,{elevation:1,className:"".concat(D.padding15," ").concat(D.height100Percent," ").concat(D.overflowYScroll),children:Object($.jsx)(V.a,{container:!0,children:Object($.jsxs)("div",{className:D.root,children:[Object($.jsx)(de,{hide:j,classes:D,height:N-F}),Object($.jsxs)(Pe.a,{className:j?"":"".concat(D.hidden),children:[Object($.jsx)(Ke.a,{position:"static",elevation:0,children:Object($.jsx)(In.a,{className:D.tabs,value:U,onChange:Z,"aria-label":"simple tabs example",children:X.map((function(e,t){return Object($.jsx)(Tn.a,{className:1===t?D.mlAuto:"",label:Object($.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[1===t?"premium"!=d.user_attributes.permission_level?Object($.jsx)(Hn.a,{className:D.mr12}):Object($.jsx)(An.a,{className:D.mr12}):"",Object($.jsx)("span",{children:e.label})]})},"".concat(En(J+"-tab-"+t)))}))})}),Object($.jsx)(Pe.a,{className:"tabPanelContainer",children:Object($.jsxs)(V.a,{container:!0,spacing:3,className:"".concat(D.noContainerScroll),children:[Object($.jsx)(fe,Object(c.a)(Object(c.a)({},e),{},{classes:D,lookerUser:d,height:N-F-15})),X.map((function(t,a){return Object($.jsx)(Pn,{value:U,index:a,style:{width:"100%"},children:Object($.jsx)(V.a,{container:!0,children:0===a?Object($.jsxs)(o.a.Fragment,{children:[Object($.jsx)(V.a,{item:!0,sm:4,children:Object($.jsx)(G,{height:500,classes:D,children:Object($.jsx)(Un,Object(c.a)({},Object(c.a)({setPaywallModal:n,classes:D,demoComponentType:J,tabContent:X,tabContentItemIndex:a,action:ee,apiContent:v},e)))})}),Object($.jsx)(V.a,{item:!0,sm:8,children:Object($.jsx)(Y,{classes:D,children:Object($.jsx)("div",{className:"embedContainer ".concat(En(J)),id:En("embedContainer-".concat(J,"-").concat(t.id))},En("embedContainer-".concat(J,"-").concat(t.id)))})})]},"".concat(En(J+"-outerFragment-"+a))):Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsx)(Y,{classes:D,children:Object($.jsx)("div",{className:"embedContainer",id:En("embedContainer-".concat(J,"-").concat(t.id))},En("embedContainer-".concat(J,"-").concat(t.id)))})})})},"".concat(En(J+"-tabPanel-"+a)))}))]})})]})]})},En(K))})})},lookerContent:[{type:"folder",id:"14",label:"Saved Reports"},{type:"explore",id:"atom_fashion::order_items",label:"Create New Report"}],requiredPermissionLevel:1},Wn=a(1417),Vn=a(289),qn=a(121),Qn=qn.validIdHelper,$n=qn.prettifyString,Kn=Object(U.a)((function(e){return{paper:{position:"absolute",width:800,maxHeight:450,overflow:"scroll",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},table:{maxHeight:310},card:{minWidth:275,minHeight:"10rem",boxShadow:"none"},flexCentered:{display:"flex",justifyContent:"center",alignItems:"center"}}}));function Gn(){return{top:"".concat(10,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(10,"%)")}}function Yn(e){var t=Kn(),a=e.open,n=e.onClose,r=e.modalContent,i=o.a.useState(Gn),s=Object(m.a)(i,1)[0];return Object($.jsx)(ve.a,{open:a,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object($.jsxs)("div",{style:s,className:t.paper,children:[Object($.jsx)("h2",{id:"simple-modal-title",children:r.title}),r.body?Object($.jsx)(Ga.a,{component:Vn.a,className:t.table,children:Object($.jsxs)(Ya.a,{stickyHeader:!0,className:t.table,size:"small","aria-label":"a dense table",children:[Object($.jsx)(qa.a,{children:Object($.jsx)(Qa.a,{children:Object.keys(r.body[0]).map((function(e,t){return Object($.jsx)($a.a,{align:"right",id:Qn(e+"-TableHead-TableCell-"+t),children:$n(e.substring(e.lastIndexOf(".")+1,e.length))},Qn(e+"-TableHead-TableCell-"+t))}))})}),Object($.jsx)(Ja.a,{children:r.body.map((function(e,t){return Object($.jsx)(Qa.a,{id:Qn("TableRow-"+t),children:Object.keys(e).map((function(e){return Object($.jsx)($a.a,{align:"right",id:Qn(e+"-TableBody-TableCell-"+t),children:r.body[t][e]?r.body[t][e].rendered?r.body[t][e].rendered:r.body[t][e].value?r.body[t][e].value:"number"===typeof r.body[t][e]?Math.round(100*r.body[t][e])/100:r.body[t][e]:""},Qn(e+"-TableBody-TableCell-"+t))}))},Qn("TableRow-"+t))}))})]})}):Object($.jsx)(ae.a,{className:"".concat(t.card," ").concat(t.flexCentered),children:Object($.jsx)(le.a,{className:t.circularProgress})})]})})}var Jn=a(588),Xn=a(595),Zn=a(385),er=a(386),tr=a(68),ar=a(1419),nr=a(121).validIdHelper;function rr(e){e.staticContent;var t=e.staticContent.lookerContent,a=e.staticContent.type,n=e.classes,o=e.apiContent,i=e.fromDate,s=e.toDate,c=e.category,l=e.desiredField,d=e.handleFromDate,u=e.handleToDate,b=e.handleCategory,h=e.handleDesiredField,p=Object(r.useState)(!0),j=Object(m.a)(p,2),f=j[0],g=j[1];return Object($.jsxs)(ka.a,{expanded:f,onChange:function(e,t){g(!f)},className:n.w100,elevation:0,children:[Object($.jsxs)(Ca.a,{expandIcon:Object($.jsx)(Sa.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:[Object($.jsx)(Wn.a,{}),Object($.jsx)(W.a,{className:"".concat(n.heading," ").concat(n.ml12),children:"Filter:"})]}),Object($.jsx)(wa.a,{children:Object($.jsx)(V.a,{container:!0,spacing:3,children:o?Object($.jsxs)($.Fragment,{children:[Object($.jsx)(V.a,{item:!0,sm:3,children:Object($.jsx)(G,{classes:n,children:Object($.jsxs)(Rt.a,{className:n.formControl,children:[Object($.jsx)(zt.a,{id:"".concat(nr(a+"-FilterBar-DataPropery-SelectLabel")),children:"Metric"}),Object($.jsx)(Wt.a,{labelId:"".concat(nr(a+"-FilterBar-DataPropery-SelectLabel")),id:"".concat(nr(a+"-FilterBar-DataPropery-Select")),value:l,onChange:function(e){return h(e.target.value)},children:t[0].desiredFields.map((function(e,t){return Object($.jsx)(rt.a,{id:nr("".concat(e,"-").concat(t)),value:e,children:e.substring(e.lastIndexOf(".")+1,e.length).split("_").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")},nr("".concat(e,"-").concat(t)))}))})]})})}),Object($.jsx)(V.a,{item:!0,sm:3,children:Object($.jsx)(G,{classes:n,children:Object($.jsxs)(Rt.a,{className:n.formControl,children:[Object($.jsx)(zt.a,{id:"".concat(nr(a+"-FilterBar-Category-SelectLabel")),children:"Category"}),Object($.jsx)(Wt.a,{labelId:"".concat(nr(a+"-FilterBar-Category-SelectLabel")),id:"".concat(nr(a+"-FilterBar-Category-Select")),value:c,onChange:function(e){return b(e.target.value)},children:o.uniqueCategories.map((function(e,t){return Object($.jsx)(rt.a,{id:nr("".concat(e,"-").concat(t)),value:e,children:e},nr("".concat(e,"-").concat(t)))}))})]})})}),Object($.jsx)(V.a,{item:!0,sm:3,children:Object($.jsx)(G,{classes:n,children:Object($.jsx)(tr.a,{utils:er.a,children:Object($.jsx)(ar.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"fromDate",label:"From date",value:i,onChange:d,KeyboardButtonProps:{"aria-label":"change date"},minDate:o[o.length-1][o.inlineQuery.fields[0]],maxDate:o[0][o.inlineQuery.fields[0]]})})})}),Object($.jsx)(V.a,{item:!0,sm:3,children:Object($.jsx)(G,{classes:n,children:Object($.jsx)(tr.a,{utils:er.a,children:Object($.jsx)(ar.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"toDate",label:"To date",value:s,onChange:u,KeyboardButtonProps:{"aria-label":"change date"},minDate:i,maxDate:s})})})})]}):""})})]})}function or(e,t){var a=new Date(e);return new Date(a.getTime()+864e5*t).toISOString().split("T")[0]}var ir=a(591),sr={type:"custom vis",label:"Sales Calendar",menuCategory:"sales",description:"Ayeeeeeee",icon:a.n(ir).a,component:function(e){var t=Object(r.useContext)(g.a),a=t.clientSession,n=t.setPaywallModal,i=(t.show,t.codeShow,t.sdk),s=t.corsApiCall,l=t.isReady,d=(a.userProfile,a.lookerUser),h=(a.lookerHost,Object(r.useState)(0)),j=Object(m.a)(h,2),f=(j[0],j[1],Object(r.useState)("")),O=Object(m.a)(f,2),x=O[0],v=O[1],y=Object(r.useState)(""),_=Object(m.a)(y,2),k=_[0],C=_[1],w=Object(r.useState)("All"),S=Object(m.a)(w,2),N=S[0],I=S[1],A=Object(r.useState)(""),P=Object(m.a)(A,2),F=P[0],L=P[1],D=Object(r.useState)(void 0),M=Object(m.a)(D,2),B=M[0],U=M[1],E=o.a.useState(!1),R=Object(m.a)(E,2),z=R[0],W=R[1],q=Object(r.useState)({}),Q=Object(m.a)(q,2),K=Q[0],Y=Q[1],J=Object(r.useState)(window.innerHeight-dn),X=Object(m.a)(J,2),Z=X[0],ee=X[1],te=Object(r.useState)(0),re=Object(m.a)(te,2),oe=re[0],ie=re[1],ce=un(),le=e.staticContent.lookerContent,ue=e.staticContent.type,be=(e.activeTabValue,e.handleTabChange,function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,r,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.day,(r=JSON.parse(JSON.stringify(le[0].inlineQuery))).filters=Object(c.a)(Object(c.a)({},r.filters),{},(a={},Object(T.a)(a,r.fields[0],n),Object(T.a)(a,r.fields[1],"All"===N?"":N),a)),r.total=!0,r.limit="25",W(!0),e.next=8,i.ok(i.run_inline_query({result_format:le.result_format||"json",body:r}));case 8:o=e.sent,s={title:"Detail View for ".concat(n),body:o},Y(s);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),me=[];if(B&&(me=(me=p.a.filter(B,(function(e){return e[B.inlineQuery.fields[0]]>=x&&e[B.inlineQuery.fields[0]]<k&&("All"===N||e[B.inlineQuery.fields[1]]===N)}))).map((function(e){return{day:e[B.inlineQuery.fields[0]],category:e[B.inlineQuery.fields[1]],value:e[F]}})),"All"===N)){var he=Object(H.a)(new Set(me.map((function(e){return e.day})))),pe=[];he.map((function(e){var t=p.a.filter(me,(function(t){return t.day===e})).reduce((function(e,t){return e+t.value}),0),a={day:e,value:t,category:"All"};pe.push(a)})),me=pe}Object(r.useEffect)((function(){l&&(s(je,[le]),L(le[0].desiredFields[0]))}),[d,l]),Object(r.useEffect)((function(){window.addEventListener("resize",(function(){return ee(window.innerHeight-dn)})),ie(se()(".MuiExpansionPanel-root:visible").innerHeight()||0)}));var je=function(e){U(void 0),e.map(function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t.inlineQuery).filters=Object(T.a)({},t.desiredFilterName,d.user_attributes.brand),e.next=4,i.ok(i.run_inline_query({result_format:t.result_format||"json",body:a}));case 4:for(n=(n=e.sent).filter((function(e){return e[a.fields[0]]})),r=["All"],o=0;o<n.length;o++)-1===r.indexOf(n[o][a.fields[1]])&&r.push(n[o][a.fields[1]]);n.inlineQuery=a,n.uniqueCategories=r,v(n[n.length-1][n.inlineQuery.fields[0]]),C(or(n[0][n.inlineQuery.fields[0]],1)),U(n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object($.jsx)("div",{className:"".concat(ce.root," demoComponent"),style:{height:Z},children:Object($.jsxs)(ae.a,{elevation:1,className:"".concat(ce.padding15," ").concat(ce.height100Percent," ").concat(ce.overflowScroll),children:[Object($.jsx)(V.a,{container:!0,children:Object($.jsxs)("div",{className:"".concat(ce.root," "),children:[Object($.jsx)(de,{hide:B&&B.length,classes:ce,height:Z-oe}),Object($.jsx)(rr,Object(c.a)(Object(c.a)({},e),{},{classes:ce,apiContent:B,fromDate:x,toDate:k,category:N,desiredField:F,handleFromDate:function(e){if(Date.parse(e)>0){var t=Object(Xn.a)(Object(Zn.a)(new Date(e),1),"yyyy-MM-dd");v(t)}},handleToDate:function(e){if(Date.parse(e)>0){var t=Object(Xn.a)(Object(Zn.a)(new Date(e),1),"yyyy-MM-dd");C(t)}},handleCategory:function(e){I(e)},handleDesiredField:function(e){L(e)}})),B&&B.length?Object($.jsx)(Pe.a,{children:Object($.jsxs)(V.a,{container:!0,spacing:3,className:"".concat(ce.noContainerScroll),children:[Object($.jsx)(fe,Object(c.a)(Object(c.a)({},e),{},{classes:ce,lookerUser:d,height:Z-oe-15})),Object($.jsx)(ne.a,{className:ce.divider}),Object($.jsx)(V.a,{item:!0,sm:12,children:Object($.jsx)(Pe.a,{className:"".concat(ce.w100," ").concat(ce.padding10),mt:2,children:Object($.jsx)(G,{height:400,classes:ce,children:Object($.jsx)(Jn.a,{data:me,align:"top",from:or(x,1),to:or(k,1),emptyColor:"#eeeeee",colors:F===le[0].desiredFields[0]?["#4595EC","#F3A759","#E24E3A","#65AB5A"]:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],yearSpacing:40,monthBorderColor:"#ffffff",dayBorderWidth:2,dayBorderColor:"#ffffff",margin:{bottom:40,left:40},legends:[{anchor:"bottom-right",direction:"row",translateY:36,itemCount:4,itemWidth:42,itemHeight:36,itemsSpacing:14,itemDirection:"right-to-left"}],onClick:function(e,t){e.value&&("basic"===d.user_attributes.permission_level?n({show:!0,permissionNeeded:"see_drill_overlay"}):(s(be,[e]),t.stopPropagation()))}})})})})]})}):""]})},nr(ue)),z?Object($.jsx)(Yn,Object(c.a)(Object(c.a)({},e),{},{open:z,onClose:function(){Y({}),W(!1)},classes:ce,modalContent:K})):""]})})},lookerContent:[{type:"custom vis",lookerMethod:"runInlineQuery",label:"Sales Calendar",inlineQuery:{model:"atom_fashion",view:"order_items",fields:["order_items.created_date","products.category","order_items.order_count","order_items.total_sale_price"],query_timezone:"America/Los_Angeles",limit:"-1"},desiredFilterName:"products.brand",desiredFields:["order_items.order_count","order_items.total_sale_price"],resultFormat:"json"}],requiredPermissionLevel:0},cr=a(592),lr={type:"custom filter",label:"Sales Overview",menuCategory:"sales",description:"Overview of all your sales!",icon:a.n(cr).a,component:Da,lookerContent:[{type:"dashboard",lookerMethod:"embedDashboard",id:"5",label:"Sales Overview",isNext:!0,filters:[{label:"Select Product Category",filterName:"Category",lookerMethod:"runInlineQuery",inlineQuery:{model:"atom_fashion",view:"order_items",fields:["this_period","last_period","products.category"],filters:{"order_items.created_date":"60 days ago for 60 days","order_items.count":">5"},sorts:["products.category"],limit:500,dynamic_fields:'[{"table_calculation":"trend","label":"trend","expression":"${this_period} / ${last_period} - 1","value_format":null,"value_format_name":null,"_kind_hint":"measure","_type_hint":"number"},{"measure":"this_period","based_on":"order_items.total_sale_price","type":"count_distinct","label":"This Period","value_format":null,"value_format_name":null,"_kind_hint":"measure","_type_hint":"number","filter_expression":"matches_filter(${order_items.created_date},`30 days ago for 30 days`)"},{"measure":"last_period","based_on":"order_items.total_gross_margin","label":"Last Period","value_format":null,"value_format_name":null,"_kind_hint":"measure","_type_hint":"number","filter_expression":"matches_filter(${order_items.created_date},`60 days ago for 30 days`)"}]',theme:"atom_fashion"},desiredFilterNames:"products.brand",component:"autocomplete",resultFormat:"json"},{label:"Select Region",filterName:"State Region",lookerMethod:"runInlineQuery",inlineQuery:{model:"atom_fashion",view:"order_items",fields:["users.state_region"],limit:"500"},desiredFilterNames:"users.state_region",component:"mapfilter",resultFormat:"json"},{label:"Select Age Range",filterName:"Age",lookerMethod:"runInlineQuery",inlineQuery:{model:"atom_fashion",view:"order_items",fields:["users.age"],limit:"500"},desiredFilterNames:"users.age",component:"rangeslider",resultFormat:"json"},{label:"Lifetime Revenue Tier",filterName:"Lifetime Revenue Tier",lookerMethod:"runInlineQuery",inlineQuery:{model:"atom_fashion",view:"order_items",fields:["user_order_facts.lifetime_revenue_tier"],limit:"500"},desiredFilterNames:"users.lifetime_revenue_tier",component:"togglebuttonapi",resultFormat:"json"}]}],requiredPermissionLevel:0},dr=a(593),ur={type:"simple dashboard",label:"Web Analytics",menuCategory:"marketing",icon:a.n(dr).a,description:"Overview of all your web traffic",component:Da,lookerContent:[{type:"dashboard",lookerMethod:"embedDashboard",id:"9",label:"Web Analytics",isNext:!1,theme:"atom_fashion_filters"}],requiredPermissionLevel:0},br=a(121).validIdHelper;function mr(e){var t=Object(r.useContext)(g.a),a=t.setClientSession,o=t.clientSession,i=t.clientSession.packageName,s=t.sdk,l=(t.setSdk,t.isReady),d=t.setIsReady,h=Object(f.i)().democomponent,j=Object(f.g)(),O=E(),x=Object(r.useRef)(!1),v=Object(r.useState)(window.innerWidth>768),y=Object(m.a)(v,2),_=y[0],k=y[1],C=Object(r.useState)(!1),w=Object(m.a)(C,2),N=w[0],D=w[1],M=Object(r.useState)(!1),U=Object(m.a)(M,2),R=U[0],z=U[1],W=Object(r.useState)({}),V=Object(m.a)(W,2),q=V[0],Q=V[1],K=Object(r.useState)(h),G=Object(m.a)(K,2),Y=G[0],J=G[1],X=o.lookerUser,Z=(X=void 0===X?{user_attributes:"No match"}:X).user_attributes.permission_level,ee=Object.keys(jn).indexOf(Z),te=p.a.filter(n,(function(e){return e.requiredPermissionLevel<=ee})),ae=Object(c.a)({},vn);ae.autocomplete&&ee<ae.autocomplete.correspondingComponentContent.requiredPermissionLevel&&delete ae.autocomplete;var ne,re=function(){var e=Object(b.a)(u.a.mark((function e(t,n){var r,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(c.a)({},o.lookerUser),"brand"===n?r.user_attributes.brand=t:"permission"===n&&(r.permissions=jn[t],r.user_attributes.permission_level=t,r.user_attributes.time_horizon=fn[t]),e.next=4,fetch("/updatelookeruser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)});case 4:return i=e.sent,e.next=7,i.json();case 7:s=e.sent,a(s.session);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],e.next=3,I(o.lookerApiToken.expires_in);case 3:if("expired"!==e.sent.status){e.next=11;break}d(!1),S(),a({}),j.push("/"),e.next=13;break;case 11:return r=t.apply(void 0,Object(H.a)(n)),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=o.lookerBaseUrl.substring(0,o.lookerBaseUrl.lastIndexOf(":"));A.LookerEmbedSDK.init(e,"/auth"),window.addEventListener("resize",(function(){k(window.innerWidth>768)}))}),[]),Object(r.useEffect)((function(){x.current||(x.current=!0)})),Object(r.useEffect)((function(){N&&D(!N),R&&z(!R),J(h)}),[h]);var ie=p.a.find(te,(function(e){return Y===br(p.a.lowerCase(e.label))}));return ie?ne=ie.component:j.push(br(p.a.lowerCase(te[0].label))),Object($.jsx)("div",{className:O.root,children:Object($.jsx)(g.a.Provider,{value:{clientSession:o,setClientSession:a,payWallModal:q,setPaywallModal:Q,handleSwitchLookerUser:re,drawerOpen:_,setDrawerOpen:k,selectedMenuItem:Y,highlightShow:N,setHighlightShow:D,codeShow:R,setCodeShow:z,sdk:s,corsApiCall:oe,theme:B,isReady:l,setIsReady:d},children:Object($.jsxs)(P.a,{theme:B,children:[Object($.jsx)(F.a,{}),Object($.jsx)(Qt,{content:ae,theme:B,classes:O}),Object($.jsx)(Ae,{content:{permissionLevels:jn,modalPermissionsMap:On},classes:O}),"vision"===i?Object($.jsx)(sa,{DemoComponentsContentArr:te,classes:O}):Object($.jsx)(ba,{DemoComponentsContentArr:te,classes:O}),Object($.jsxs)("main",{className:"vision"===i?Object(L.a)(O.topContent,Object(T.a)({},O.topContentShift,_)):Object(L.a)(O.leftContent,Object(T.a)({},O.leftContentShift,_)),children:[Object($.jsx)("div",{className:O.drawerHeader}),ne?Object($.jsx)(ne,{staticContent:ie}):""]}),Object($.jsx)(Gt,{classes:O})]})})})}var hr=a(121);var pr=function(e){var t=Object(r.useState)({}),a=Object(m.a)(t,2),n=a[0],o=a[1],i=Object(r.useState)(),s=Object(m.a)(i,2),c=s[0],l=s[1],d=Object(r.useState)(),h=Object(m.a)(d,2),p=h[0],O=h[1],x=Object(r.useState)(!1),v=Object(m.a)(x,2),y=v[0],_=v[1];return Object(r.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:(t=e.sent).session&&(a=t.lookerBaseUrl?t.lookerBaseUrl:void 0,n=t.lookerApiToken?t.lookerApiToken.api_user_token:void 0,a&&n&&(r=N({accessToken:n,lookerBaseUrl:a}),l(r)),o(t.session));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){if(n&&c)_(!0);else if(n.userProfile){var e=n.lookerBaseUrl?n.lookerBaseUrl:"",t=n.lookerApiToken?n.lookerApiToken.api_user_token:"",a=N({accessToken:t,lookerBaseUrl:e});l(a)}}),[n,c]),console.log({clientSession:n}),Object($.jsx)(j.a,{children:Object($.jsx)(g.a.Provider,{value:{clientSession:n,setClientSession:o,sdk:c,setSdk:l,initialHref:p,setInitialHref:O,isReady:y,setIsReady:_},children:Object($.jsxs)(f.d,{children:[Object($.jsx)(jr,{path:"/analytics/:democomponent?",isSignedIn:!!n.userProfile,component:mr,setInitialHref:O,initialHref:p}),Object($.jsx)(fr,{path:"/",exact:!0,isSignedIn:!!n.userProfile,component:aa,initialHref:p,content:pn,initialUser:gn}),Object($.jsx)(f.b,{render:function(){return Object($.jsx)(f.a,{to:"/"})}})]})})})},jr=function(e){var t=e.component,a=e.isSignedIn,n=e.setInitialHref,r=Object(l.a)(e,["component","isSignedIn","setInitialHref"]);return a?n():n(window.location.href),Object($.jsx)(f.b,Object(c.a)(Object(c.a)({exact:!0},r),{},{render:function(e){return a?Object($.jsx)(t,Object(c.a)({},e)):Object($.jsx)(f.a,{to:"/"})}}))},fr=function(e){var t=e.component,a=e.isSignedIn,r=e.initialHref,o=e.content,i=e.initialUser,s=Object(l.a)(e,["component","isSignedIn","initialHref","content","initialUser"]),d={};Object.keys(n).map((function(e){d[Object(hr.validIdHelper)(p.a.lowerCase(n[e].label))]=Object(hr.validIdHelper)(p.a.startCase(n[e].type))}));var u="/analytics/home";if(r){var b=r.split("/"),m=b.slice(-2),h=b.slice(-1);d.hasOwnProperty(h)&&(u=m.join("/"))}return Object($.jsx)(f.b,Object(c.a)(Object(c.a)({exact:!0},s),{},{render:function(e){return a?Object($.jsx)(f.a,{to:u}):Object($.jsx)(t,Object(c.a)(Object(c.a)({},e),{},{content:o,initialUser:i}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object($.jsx)(pr,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},16:function(e,t,a){"use strict";a.r(t),a.d(t,"makeid",(function(){return i})),a.d(t,"validIdHelper",(function(){return s})),a.d(t,"prettifyString",(function(){return c})),a.d(t,"getUrlVars",(function(){return l})),a.d(t,"decodeHtml",(function(){return d})),a.d(t,"appContextMap",(function(){return u})),a.d(t,"validateContent",(function(){return b}));var n=a(66),r=a(0),o=a.n(r).a.createContext(null),i=function(e){for(var t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t},s=function(e){return e.replace(/[^a-zA-Z0-9-.#]/g,"")},c=function(e){var t,a=e.split("_");for(t=0;t<a.length;t++)a[t]=a[t].charAt(0).toUpperCase()+a[t].slice(1);return a.join(" ")},l=function(e){for(var t,a={},n=e.slice(e.indexOf("?")+1).split("&"),r=0;r<n.length;r++)a[(t=n[r].split("="))[0]]=t[1];return a},d=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},u={atom:n.a,vision:o},b=function(e,t){var a=Object.keys(t).filter((function(a){return!t[a](e[a])})).map((function(e){return new Error(e+" is invalid.")}));a.length>0?a.forEach((function(e){console.log(e.message)})):console.log("info is valid")}},341:function(e,t,a){},66:function(e,t,a){"use strict";var n=a(0),r=a.n(n).a.createContext(null);t.a=r},661:function(e,t,a){},677:function(e,t){},679:function(e,t){},695:function(e,t){},697:function(e,t){},706:function(e,t){},708:function(e,t){},734:function(e,t){},735:function(e,t){},740:function(e,t){},742:function(e,t){},749:function(e,t){},768:function(e,t){},817:function(e,t){}},[[1295,1,2]]]);
//# sourceMappingURL=main.40d6f3ec.chunk.js.map