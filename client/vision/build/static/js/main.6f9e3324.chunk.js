(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t){e.exports={makeid:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*a));return t},validIdHelper:function(e){return e.replace(/[^a-zA-Z0-9-.#]/g,"")},prettifyString:function(e){var t,n=e.split("_");for(t=0;t<n.length;t++)n[t]=n[t].charAt(0).toUpperCase()+n[t].slice(1);return n.join(" ")},getUrlVars:function(e){for(var t,n={},a=e.slice(e.indexOf("?")+1).split("&"),o=0;o<a.length;o++)n[(t=a[o].split("="))[0]]=t[1];return n},decodeHtml:function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}}},1232:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/logo.9e22027d.svg"},1233:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/logo_text.9a896a2a.svg"},1234:function(e,t,n){var a={"./background1.jpg":1235,"./background2.jpg":1236,"./background3.jpg":1237,"./background4.jpg":1238};function o(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=1234},1235:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/background1.eca6d4e8.jpg"},1236:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/background2.470ffd11.jpg"},1237:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/background3.b1679fbb.jpg"},1238:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/background4.b1679fbb.jpg"},1239:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"HomeContent",(function(){return Rt})),n.d(a,"TrendsContent",(function(){return Wt})),n.d(a,"FlagsConent",(function(){return Gt})),n.d(a,"ApplicationContent",(function(){return Jt})),n.d(a,"HouseholdsContent",(function(){return Yt})),n.d(a,"ExploreContent",(function(){return An})),n.d(a,"PDFViewerContent",(function(){return Pn}));var o=n(0),r=n.n(o),i=n(30),c=n.n(i),s=(n(604),n(8)),l=n(198),d=n(9),u=n.n(d),b=n(26),h=n(11),p=n(42),j=n.n(p),m=n(82),g=n(44),f=n(75),O=n(132),x=n(62),v=n(63),k=n(332),y=n(345),C=function(e){Object(k.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).accessToken=e.accessToken,a}return Object(v.a)(n,[{key:"fetchToken",value:function(){return this.accessToken}},{key:"getToken",value:function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isAuthenticated()||this.activeToken.setToken(this.fetchToken()),e.abrupt("return",this.activeToken);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(function(e){Object(k.a)(n,e);var t=Object(y.a)(n);function n(e,a){var o;return Object(x.a)(this,n),(o=t.call(this,e,a||new O.BrowserTransport(e))).activeToken=new O.AuthToken,o}return Object(v.a)(n,[{key:"fetchToken",value:function(){return fetch("")}},{key:"isAuthenticated",value:function(){var e=this.activeToken;return!(!e||!e.access_token)&&e.isActive()}},{key:"getToken",value:function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAuthenticated()){e.next=9;break}return e.next=3,this.fetchToken();case 3:return t=e.sent,e.t0=this.activeToken,e.next=7,t.json();case 7:e.t1=e.sent,e.t0.setToken.call(e.t0,e.t1);case 9:return e.abrupt("return",this.activeToken);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"authenticate",value:function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getToken();case 2:return(n=e.sent)&&n.access_token&&(t.mode="cors",delete t.credentials,t.headers=Object(s.a)(Object(s.a)({},t.headers),{},{Authorization:"Bearer ".concat(this.activeToken.access_token)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(O.AuthSession));console.log({PblSessionEmbed:C});var w=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/readsession",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",{session:n.session});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/writesession",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Object(s.a)({},t))});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",{session:a.session});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/endsession",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.sent,e.abrupt("return",{message:t});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var t=e.accessToken,n=e.lookerBaseUrl;if(t&&n){var a=new C(Object(s.a)(Object(s.a)({},Object(O.DefaultSettings)()),{},{base_url:n,accessToken:t}));return new O.Looker40SDK(a)}},H=function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("checkToken?????"),!(Date.now()>t)){e.next=5;break}return e.abrupt("return",{status:"expired"});case 5:return e.abrupt("return",{status:"ok"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=n(7),N=n(76),A=n(192),L=n(1325),P=n(1339),M=n(4),U=n(1347),B=n(1241),D=n(1298),z=n(1242),E=n(1299),V=n(1300),R=n(1297),F=n(549),W=n(247),q=Object(F.a)({palette:{primary:{main:W.a[900]},secondary:{main:W.a[400]},fill:{main:"#BC403A"}}}),G=n(1292),K=240,J=Object(G.a)((function(e){return{root:{display:"flex",backgroundColor:"rgb(229, 229, 229)"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),zIndex:1201,backgroundColor:q.palette.fill.main},appBarShift:{width:"calc(100% - ".concat(K,"px)"),marginLeft:K,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:K,flexShrink:0,borderRight:"none",backgroundColor:"transparent"},drawerPaper:{width:K,borderRight:"none",backgroundColor:"transparent"},drawerHeader:Object(s.a)(Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},title:{flexGrow:1},tabs:{borderRight:"1px solid ".concat(e.palette.divider)},dNone:{display:"none"},dBlock:{display:"block"},relative:{position:"relative"},absolute:{position:"absolute"},right0:{right:0},top0:{top:0},right24:{right:24},top24:{top:24},ml12:{marginLeft:12},mr12:{marginRight:12},mt12:{marginTop:12},highlightLegend:{position:"fixed",bottom:e.spacing(2),left:e.spacing(2),zIndex:1200},tree:{height:240,flexGrow:1,maxWidth:400},parentHoverVisibility:{"&:hover $childHoverVisibility":{visibility:"visible"}},childHoverVisibility:{visibility:"hidden"},fontSize1em:{fontSize:"1em"},padding10:{padding:10},mt5:{marginTop:5},mb5:{marginBottom:5},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},list:{width:"100%",maxWidth:360,backgroundColor:"transparent"},nested:{paddingLeft:e.spacing(4)},mlAuto:{marginLeft:"auto"},mrAuto:{marginRight:"auto"},appBarBottom:{top:"auto",bottom:0},hidden:{visibility:"hidden"},roundedTab:{borderRadius:"0 100px 100px 0"},paddingBottom30:{paddingBottom:30},mtAuto:{marginTop:"auto"},mb10:{marginBottom:10},modalPopover:{position:"absolute",width:1e3,height:604,overflow:"scroll",backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3)},modalCard:{display:"flex",flexDirection:"column",justifyContent:"space-between",overflow:"scroll",cursor:"pointer","&:hover":{transform:"scale(1.05)",transition:"transform .2s"}}}}),{index:1}),Q=n(2),Y=n(101).validIdHelper;function X(e){var t=e.DemoComponentsContentArr,n=J(),a=Object(o.useContext)(f.a),r=a.drawerOpen,i=a.setDrawerOpen;return Object(Q.jsxs)(U.a,{className:n.drawer,variant:"persistent",anchor:"left",open:r,classes:{paper:n.drawerPaper},children:[Object(Q.jsx)("div",{className:n.drawerHeader,children:Object(Q.jsx)(B.a,{onClick:function(){return i(!1)},children:Object(Q.jsx)(R.a,{"aria-label":"close drawer"})})}),Object(Q.jsx)(Z,{classes:n,DemoComponentsContentArr:t})]})}function Z(e){var t=e.classes,n=e.DemoComponentsContentArr,a=Object(o.useContext)(f.a),i=a.clientSession,c=a.selectedMenuItem,s=i.packageName,l=s?j.a.orderBy(n,["menuCategory"],["asc"]):[],d={},u=[],b=0;return l.map((function(e,t){d.hasOwnProperty(e.menuCategory)?d[e.menuCategory]=[].concat(Object(N.a)(d[e.menuCategory]),[e]):(d[e.menuCategory]=[e],b+=1,u.push(""+(t+b)))})),Object(Q.jsx)(D.a,{component:"nav","aria-labelledby":"nested-list-subheader",className:t.list,children:s?Object.keys(d).map((function(e,n){return Object(Q.jsxs)(r.a.Fragment,{children:[Object(Q.jsx)(z.a,{children:Object(Q.jsx)(E.a,{primary:"home"===e?"":j.a.capitalize(e)})},"".concat(Y(e+"-outerListItem-"+n))),Object(Q.jsx)(D.a,{component:"div",disablePadding:!0,children:d[e].map((function(n,a){var o=n.icon;return Object(Q.jsxs)(z.a,{button:!0,className:"".concat(t.nested," ").concat(t.roundedTab),selected:Y(j.a.lowerCase(n.label))===c,component:m.b,to:Y(j.a.lowerCase(n.label)),children:[Object(Q.jsx)(V.a,{children:o?Object(Q.jsx)(o,{}):Object(Q.jsx)(Q.Fragment,{})}),Object(Q.jsx)(E.a,{primary:j.a.capitalize(n.label)})]},"".concat(Y(e+"-innerListItem-"+a)))}))},"".concat(Y(e+"-innerList-"+n)))]},"".concat(Y(e+"-menuList-"+n)))})):""})}n(885);var $=n(123),ee=n.n($),te=n(1316),ne=n(1309),ae=n(1348),oe=n(1310),re=n(1340),ie=n(1315),ce=n(1311),se=n(1312),le=n(1313),de=n(1314),ue=n(46),be=n.n(ue),he=n(254),pe=n(1350),je=n(1343),me=n(1349),ge=n(19);function fe(e){var t=e.children,n=e.color,a=e.height,r=e.width,i=e.margin,c=e.id,d=e.backgroundColor,u=(Object(l.a)(e,["children","color","height","width","margin","id","backgroundColor"]),{});return u=Object(o.useContext)(ge.appContextMap.vision).highlightShow?Object(s.a)(Object(s.a)({},u),{},{border:"3px solid ".concat(n),backgroundColor:"".concat(d),borderRadius:"4px",position:"relative"}):{border:"3px solid transparent",backgroundColor:"transparent"},a&&(u.height=a),r&&(u.width=r),i&&(u.margin=i),Object(Q.jsx)("div",{id:c,style:u,children:t})}function Oe(e){var t=Object.assign({},e),n=Object(o.useContext)(ge.appContextMap.vision).highlightShow,a=t.classes,r=t.children;return Object(Q.jsxs)(fe,Object(s.a)(Object(s.a)({},t),{},{color:"#A142F4",backgroundColor:"rgba(161, 66, 244, 0.1)",children:[Object(Q.jsx)(me.a,{size:"small",label:"API",className:n?"test":"".concat(a.hidden),display:"inline",align:"right",style:{backgroundColor:"#A142F4",color:"#fff",top:"-10px",right:"10px",position:"absolute"}}),r]}))}function xe(e){var t=Object.assign({},e),n=Object(o.useContext)(ge.appContextMap.vision).highlightShow,a=t.classes,r=t.children;return Object(Q.jsxs)(fe,Object(s.a)(Object(s.a)({},t),{},{color:"#12B5CB",backgroundColor:"rgba(18, 181, 203, 0.1)",children:[Object(Q.jsx)(me.a,{size:"small",label:"Embed",className:n?"test":"".concat(a.hidden),display:"inline",align:"right",style:{backgroundColor:"#12B5CB",color:"#fff",top:"-10px",right:"10px",position:"absolute"}}),r]}))}function ve(e){var t=Object.assign({},e),n=Object(o.useContext)(ge.appContextMap.vision).highlightShow,a=t.classes,r=t.children;return Object(Q.jsxs)(fe,Object(s.a)(Object(s.a)({},t),{},{color:"#297AF4",backgroundColor:"rgba(41, 122, 244, 0.1)",children:[Object(Q.jsx)(me.a,{size:"small",label:"Embed Method",className:n?"test":"".concat(a.hidden),display:"inline",align:"right",style:{backgroundColor:"#297AF4",color:"#fff",top:"-10px",right:"10px",position:"absolute"}}),r]}))}function ke(e){var t=e.val,n=e.positive_good,a=(e.abs_val,{up:n?"green":"red",down:n?"red":"green"}),o=t<0?a.down:t>0?a.up:"black",r=Math.abs(t).toLocaleString("en",{style:"percent",minimumFractionDigits:2}),i=t<0?"\u25bc":t>0?"\u25b2":"\u2014";return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)("font",{color:o,children:"".concat(i," ").concat(r)})})}var ye=n(524),Ce=n.n(ye),we=n(525),Se=n.n(we),_e=n(19).validIdHelper,Te=function(e){var t=e.filterItem,n=e.apiContent,a=e.classes,o=e.action,r=e.bgColor,i=e.setDynamicSearch;return t?Object(Q.jsxs)(Oe,{classes:a,children:[Object(Q.jsx)(he.a,{children:t.label?t.label:""}),Object(Q.jsx)(je.a,{id:"combo-box-dashboard-".concat(t.label),options:Array.isArray(n)?n:[],renderOption:He,getOptionLabel:function(e){return e.label},onChange:function(e,n){var a="";n&&n.value?a=n.value:n&&n.label&&(a=n.label),o(t.filterName,a)},renderInput:function(e){return Object(Q.jsx)(pe.a,Object(s.a)(Object(s.a)({},e),{},{label:t.alternateName?t.alternateName:t.filterName,variant:"outlined"}))},loadingText:"Loading...",style:{backgroundColor:r||""},onInputChange:be.a.debounce((function(e){t.apiDrivenSearch&&e.target.value&&i(e.target.value)}),1e3)})]},_e("dashEmbed-".concat(t.label))):""},He=function(e,t){var n=t.inputValue,a=Se()(e.label,n),o=Ce()(e.label,a),r={fontWeight:700,backgroundColor:"lightyellow",padding:"5px 2px"};return Object(Q.jsxs)("div",{children:[o.map((function(e,t){return Object(Q.jsx)("span",{style:e.highlight?r:{},children:e.text},t)})),e.trend&&Object(Q.jsx)(ke,{val:e.trend,positive_good:!0,abs_val:Math.abs(e.trend)})]})},Ie=n(1357),Ne=n(1304),Ae=n(19).validIdHelper,Le=function(e){var t=e.classes,n=e.tileToggleValue,a=e.handleTileToggle,o=e.filterItem;return Object(Q.jsxs)(ve,{classes:t,children:[Object(Q.jsx)(he.a,{children:o.label}),Object(Q.jsx)(Ie.a,{value:n,exclusive:!0,onChange:a,"aria-label":"text alignment",children:Object.keys(o.tileLookUp).map((function(e){return Object(Q.jsx)(Ne.a,{value:e,"aria-label":"left aligned",children:e},Ae("dynamicDashTileToggle-".concat(e)))}))})]})},Pe=n(19).validIdHelper,Me=function(e){var t=e.classes,n=e.visColorToggleValue,a=e.handleVisColorToggle,o=e.filterItem;return Object(Q.jsxs)(ve,{classes:t,children:[Object(Q.jsx)(he.a,{children:o.label}),Object(Q.jsx)(Ie.a,{value:n,exclusive:!0,onChange:a,"aria-label":"text alignment",children:Object.keys(o.colors).map((function(e){return Object(Q.jsx)(Ne.a,{value:e,"aria-label":"left aligned",children:Object(Q.jsx)("span",{className:"".concat(t.dot),style:{backgroundColor:o.colors[e][o.colors[e].length-2]||e}})},Pe("dynamicDashVisConfigToggle-".concat(e)))}))})]})},Ue=n(1353),Be=function(e){var t=e.classes,n=e.lightThemeToggleValue,a=e.handleThemeChange;return Object(Q.jsxs)(xe,{classes:t,children:[Object(Q.jsx)(he.a,{children:n?"Light mode":"Dark mode"}),Object(Q.jsx)(Ue.a,{checked:!n,onChange:function(){return a(null,!n)},color:"primary",name:"light theme toggle",inputProps:{"aria-label":"primary checkbox"}})]})},De=n(1303),ze=n(1352),Ee=n(1345),Ve=n(1305),Re=n(19).validIdHelper,Fe=function(e){var t=e.classes,n=e.fontThemeSelectValue,a=e.handleThemeChange,o=e.filterItem;return Object(Q.jsx)(xe,{classes:t,children:Object(Q.jsxs)(De.a,{className:t.formControl,children:[Object(Q.jsx)(ze.a,{id:"demo-simple-select-label",children:o.label}),Object(Q.jsx)(Ee.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,onChange:function(e){a(null,e.target.value)},children:o.options.map((function(e){return Object(Q.jsxs)(Ve.a,{value:e.toLowerCase(),children:[" ",e]},Re("filter-select".concat(e)))}))})]})})},We=n(241);n(890);We.CheckboxSVGMap.prototype.toggleLocation=function(e){var t=this,n=e.target;this.setState((function(e){for(var a=Object(N.a)(e.selectedLocations),o=be.a.find(t.props.map.locations,{id:n.id}),r=be.a.filter(t.props.map.locations,{region:o.region}),i=[],c=0;c<t.props.map.locations.length;c++)-1==i.indexOf(t.props.map.locations[c].region)&&i.push(t.props.map.locations[c].region);for(var s=[],l=0;l<a.length;l++)-1==s.indexOf(a[l].region)&&s.push(a[l].region);var d,u=be.a.differenceBy(i,s),b=[].concat(Object(N.a)(u),[o.region]),h=be.a.filter(t.props.map.locations,(function(e){return-1==b.indexOf(e.region)}));"true"===n.attributes["aria-checked"].value?a=h:(d=a).push.apply(d,Object(N.a)(r));return t.props.onChange&&t.props.onChange(a),{selectedLocations:a}}))},We.CheckboxSVGMap.prototype.componentDidMount=function(){this.setState({selectedLocations:this.props.map.locations})};var qe=n(336),Ge=n(1306),Ke=n(1307),Je=n(1308),Qe=Object(s.a)(Object(s.a)({},qe.a),{},{label:"Custom map label",locations:qe.a.locations.map((function(e){switch(e.name){case"Connecticut":case"Maine":case"Massachusetts":case"New Hampshire":case"Rhode Island":case"Vermont":case"New Jersey":case"New York":case"Pennsylvania":case"Delaware":return Object(s.a)(Object(s.a)({},e),{},{region:"Northeast"});case"Illinois":case"Indiana":case"Michigan":case"Ohio":case"Wisconsin":case"Iowa":case"Kansas":case"Minnesota":case"Missouri":case"Nebraska":case"North Dakota":case"South Dakota":return Object(s.a)(Object(s.a)({},e),{},{region:"Midwest"});case"Florida":case"Georgia":case"Maryland":case"North Carolina":case"South Carolina":case"Virginia":case"District of Columbia":case"Washington, DC":case"West Virginia":case"Alabama":case"Kentucky":case"Mississippi":case"Tennessee":case"Arkansas":case"Louisiana":case"Oklahoma":case"Texas":return Object(s.a)(Object(s.a)({},e),{},{region:"South"});case"Arizona":case"Colorado":case"Idaho":case"Montana":case"Nevada":case"New Mexico":case"Utah":case"Wyoming":return Object(s.a)(Object(s.a)({},e),{},{region:"Mountain"});case"Alaska":case"California":case"Hawaii":case"Oregon":case"Washington":return Object(s.a)(Object(s.a)({},e),{},{region:"Pacific"})}}))}),Ye={"0 to 99":"low","100 to 499":"medium","500 or Above":"high"},Xe={"0 to 99":Ge.a,"100 to 499":Ke.a,"500 or Above":Je.a},Ze=n(19).validIdHelper;function $e(e){var t=e.classes,n=e.action,a=e.filterItem,r=Object(o.useState)("Pacific, South, Mountain, Midwest, Northeast"),i=Object(h.a)(r,2),c=i[0],s=i[1];return Object(Q.jsxs)(ve,{classes:t,children:[Object(Q.jsxs)(he.a,{className:"".concat(t.heading," ").concat(t.ml12,"  ").concat(t.verticalAlignTop),children:[a.label,": ",Object(Q.jsx)("b",{children:c||"Outside US"})]}),Object(Q.jsx)(We.CheckboxSVGMap,{map:Qe,onChange:function(e){for(var t=[],o=0;o<e.length;o++)-1==t.indexOf(e[o].region)&&t.push(e[o].region);var r=t.join(",");s(r),n(a.filterName,c||"")}})]},Ze("dashEmbed-".concat(a.label)))}var et=n(1354),tt=n(19).validIdHelper,nt=function(e){var t=e.apiContent,n=e.classes,a=e.action,r=e.filterItem,i=Object(o.useState)([]),c=Object(h.a)(i,2),s=c[0],l=c[1];return Object(Q.jsxs)(ve,{classes:n,children:[Object(Q.jsxs)(he.a,{className:"".concat(n.heading," ").concat(n.ml12,"  ").concat(n.verticalAlignTop),children:[r.label,":"]}),Object(Q.jsx)(et.a,{value:s.length?s:Array.isArray(t)?[t[0].label,t[t.length-1].label]:[],onChange:function(e,t){l(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",onChangeCommitted:function(e,t){a(r.filterName,t?"[".concat(t,"]"):"[]")},min:Array.isArray(t)&&t.length?t[0].label:0,max:Array.isArray(t)&&t.length?t[t.length-1].label:0,disabled:!Array.isArray(t)||!t.length})]},tt("dashEmbed-".concat(r.label)))},at=n(19).validIdHelper,ot=function(e){var t=e.apiContent,n=e.classes,a=e.action,r=e.filterItem,i=Object(o.useState)("0-24"),c=Object(h.a)(i,2),s=c[0],l=c[1];return Object(Q.jsxs)(ve,{classes:n,children:[Object(Q.jsxs)(he.a,{className:"".concat(n.heading," ").concat(n.ml12,"  ").concat(n.verticalAlignTop),children:[r.label,":"]}),Object(Q.jsx)(Ie.a,{value:s,exclusive:!0,onChange:function(e,t){l(t),a(r.filterName,t||"")},"aria-label":"ageTier",className:n.w100,children:Array.isArray(t)?t.map((function(e,t){if("Undefined"!==e.label){var a=Xe[e.label];return Object(Q.jsxs)(Ne.a,{value:e.label,"aria-label":e.label,className:n.w33,children:[Object(Q.jsx)(a,{className:n.mr12}),be.a.capitalize(Ye[e.label])||e.label]},at("$FilterBar-ToggleButton-".concat(r.label,"-").concat(t)))}})):""})]},at("dashEmbed-".concat(r.label)))},rt=n(101).validIdHelper;function it(e){var t=e.classes,n=e.apiContent,a=e.customFilterAction,o=e.tileToggleValue,r=e.handleTileToggle,i=e.visColorToggleValue,c=e.handleVisColorToggle,s=e.lightThemeToggleValue,l=e.fontThemeSelectValue,d=e.handleThemeChange,u=e.horizontalLayout,b=e.lookerContent,h=e.type;return Object(Q.jsx)(ne.a,{container:!0,spacing:3,children:b[0].filters.map((function(e,b){return"autocomplete"===e.component?Object(Q.jsx)(ne.a,{item:!0,sm:u?3:12,children:Object(Q.jsx)(Te,{apiContent:n[e.component],index:b,classes:t,action:a,filterItem:e})},rt("".concat(h,"-").concat(e.component,"-").concat(b))):"togglebutton"===e.component?Object(Q.jsx)(ne.a,{item:!0,sm:u?3:12,children:"Dynamic Tiles"===e.label?Object(Q.jsx)(Le,{classes:t,tileToggleValue:o,handleTileToggle:r,filterItem:e}):Object(Q.jsx)(Me,{classes:t,visColorToggleValue:i,handleVisColorToggle:c,filterItem:e})},rt("".concat(h,"-").concat(e.label))):"switch"===e.component?Object(Q.jsx)(ne.a,{item:!0,sm:u?1:12,children:Object(Q.jsx)(Be,{classes:t,lightThemeToggleValue:s,handleThemeChange:d})},rt("".concat(h,"-dynamicThemeMode"))):"select"===e.component?Object(Q.jsx)(ne.a,{item:!0,sm:u?2:12,children:Object(Q.jsx)(Fe,{classes:t,fontThemeSelectValue:l,handleThemeChange:d,filterItem:e})},rt("".concat(h,"-dynamicThemeFont"))):"mapfilter"===e.component?Object(Q.jsx)(ne.a,{item:!0,sm:u?3:12,children:Object(Q.jsx)($e,{classes:t,action:a,filterItem:e})},rt("".concat(h,"-").concat(e.component,"-").concat(b))):"rangeslider"===e.component?Object(Q.jsx)(ne.a,{item:!0,sm:u?3:12,children:Object(Q.jsx)(nt,{apiContent:n[e.component],classes:t,action:a,filterItem:e})},rt("".concat(h,"-").concat(e.component,"-").concat(b))):"togglebuttonapi"===e.component?Object(Q.jsx)(ne.a,{item:!0,sm:u?3:12,children:Object(Q.jsx)(ot,{apiContent:n[e.component],classes:t,action:a,filterItem:e})},rt("".concat(h,"-").concat(e.component,"-").concat(b))):""}))})}var ct=n(101).validIdHelper;function st(e){var t=e.staticContent.lookerContent,n=e.staticContent.type,a=e.classes,r=e.apiContent,i=e.customFilterAction,c=e.tileToggleValue,l=e.handleTileToggle,d=e.visColorToggleValue,u=e.handleVisColorToggle,b=e.lightThemeToggleValue,p=e.fontThemeSelectValue,j=e.handleThemeChange,m=e.horizontalLayout,g=e.setHorizontalLayout,f=e.drawerOpen,O=e.setDrawerOpen,x=Object(o.useState)(!0),v=Object(h.a)(x,2),k=v[0],y=v[1];return Object(o.useEffect)((function(){k||y(!0)}),[m]),Object(Q.jsx)(ne.a,{item:!0,sm:m?12:f?3:"auto",children:r?Object(Q.jsxs)(ae.a,{onChange:m?function(){return y(!k)}:function(){},expanded:k,className:"".concat(a.w100," MuiExpansionPanel-root"),elevation:0,children:[Object(Q.jsx)(oe.a,{expandIcon:m?Object(Q.jsx)(ce.a,{}):"","aria-controls":"panel1a-content",id:"panel1a-header",children:m?Object(Q.jsx)(se.a,{onClick:function(e){g(!m)},"aria-label":"vertical view"}):Object(Q.jsx)(Q.Fragment,{children:f?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(R.a,{onClick:function(){return O(!f)},"aria-label":"close menu"}),Object(Q.jsx)(le.a,{onClick:function(e){y(!0),g(!m)},"aria-label":"horizontal view"})]}):Object(Q.jsx)(de.a,{onClick:function(){return O(!f)},"aria-label":"open menu"})})}),Object(Q.jsx)(re.a,{display:f?"block":"none",children:Object(Q.jsx)(ie.a,{children:Object(Q.jsx)(it,Object(s.a)(Object(s.a)({},e),{},{classes:a,apiContent:r,customFilterAction:i,tileToggleValue:c,handleTileToggle:l,visColorToggleValue:d,handleVisColorToggle:u,lightThemeToggleValue:b,fontThemeSelectValue:p,handleThemeChange:j,horizontalLayout:m,setHorizontalLayout:g,lookerContent:t,type:n}))})})]}):""},ct("".concat(n,"-FilterBar-").concat(t[0].id)))}var lt=n(1317);function dt(e){var t=e.classes,n=e.height;return e.hide?"":Object(Q.jsx)(ne.a,{item:!0,sm:12,style:{height:n},children:Object(Q.jsx)(te.a,{className:"".concat(t.card," ").concat(t.flexCentered),elevation:0,mt:2,style:{height:"".concat(n,"px")},children:Object(Q.jsx)(lt.a,{className:t.circularProgress})})})}var ut=n(1318),bt=n(1296),ht=n(527),pt=n.n(ht),jt=n(1346),mt=n(1319),gt=function(e){var t=Object(o.useContext)(ge.appContextMap.vision),n=t.codeShow,a=t.setCodeShow,r=e.classes,i=e.lookerUser,c=e.height;return n?Object(Q.jsx)(ne.a,{item:!0,sm:6,className:"".concat(r.positionFixedTopRight),children:Object(Q.jsx)(ut.a,{onClickAway:function(){return a()},children:Object(Q.jsx)(bt.a,{in:!0,children:Object.keys(i).length?Object(Q.jsxs)(ne.a,{container:!0,spacing:3,className:"".concat(r.padding20," ").concat(r.codeFlyoutContainer),style:{height:c},children:[Object(Q.jsx)(ne.a,{item:!0,sm:11,children:Object(Q.jsx)(he.a,{variant:"h6",className:" ".concat(r.mrAuto),style:{color:"white"},children:"Looker User Object"})}),Object(Q.jsx)(ne.a,{item:!0,sm:1,style:{textAlign:"right"},children:Object(Q.jsx)(pt.a,{style:{color:"white",cursor:"pointer"},onClick:function(){return a()}})}),Object(Q.jsx)(ne.a,{item:!0,sm:12,children:Object(Q.jsx)(ft,{code:i})})]}):""})})}):""};function ft(e){var t=e.code;return Object(Q.jsx)(jt.a,{language:"json",style:mt.a,showLineNumbers:!0,children:"object"===typeof t?JSON.stringify(t,!0,4):t})}var Ot=n(1344),xt=n(1320),vt=n(1321),kt=n(1323),yt=n(1324),Ct=n(1358),wt=n(1322);function St(){return{top:"".concat(10,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(10,"%)")}}var _t=function(e){var t=e.content,n=e.classes,a=Object(o.useContext)(ge.appContextMap.vision),i=a.clientSession,c=a.payWallModal,s=a.setPaywallModal,l=a.handleSwitchLookerUser,d=r.a.useState(St),u=Object(h.a)(d,1)[0],b=t.permissionLevels,p=t.modalPermissionsMap;return Object(Q.jsx)(Ot.a,{className:"".concat(n.modal," "),open:c.show||!1,onClose:function(){return s({})},children:Object(Q.jsx)(bt.a,{in:c.show||!1,children:Object(Q.jsx)("div",{style:u,className:"".concat(n.modalPopover," ").concat(n.padding30),children:Object(Q.jsx)(ne.a,{container:!0,spacing:3,children:Object.keys(b).map((function(e,t){return Object(Q.jsx)(ne.a,{item:!0,sm:12/Object.keys(b).length,children:Object(Q.jsxs)(te.a,{className:"".concat(n.modalCard," ").concat(n[e]),elevation:1,style:e===i.lookerUser.user_attributes.permission_level?{backgroundColor:"#5F6BD8",color:"#ffffff",height:519}:{height:519},onClick:function(){l(e,"permission"),s({})},children:[Object(Q.jsxs)(xt.a,{children:[Object(Q.jsx)(he.a,{variant:"h6",children:be.a.capitalize(e)}),Object(Q.jsx)(he.a,{children:Object(Q.jsx)(Ct.a,{name:"read-only",value:5-Object.keys(b).length+t+1,readOnly:!0})}),Object(Q.jsx)(he.a,{variant:"subtitle1",style:{fontStyle:"italic"},children:p[e].title}),Object(Q.jsx)(vt.a,{className:"".concat(n.divider," ")}),Object(Q.jsx)(D.a,{children:p[e].list.map((function(t,n){return Object(Q.jsxs)(z.a,{dense:!0,children:[Object(Q.jsx)(V.a,{children:Object(Q.jsx)(wt.a,{fontSize:"small"})}),Object(Q.jsx)(E.a,{primary:t})]},"monetizationModal-ListItem-".concat(e,"-").concat(n))}))})]}),Object(Q.jsx)(kt.a,{disableSpacing:!1,children:Object(Q.jsx)(yt.a,{color:"primary",variant:"outlined",fullWidth:!0,onClick:function(){l(e,"permission"),s({})},style:e===i.lookerUser.user_attributes.permission_level?{color:"#ffffff",borderColor:"#ffffff"}:{},children:e===i.lookerUser.user_attributes.permission_level?"Active":Object.keys(p).indexOf(i.lookerUser.user_attributes.permission_level)<Object.keys(p).indexOf(e)?"Upgrade":"Switch"})})]})},Object(ge.validIdHelper)("monetizationModal-gridItem-".concat(e)))}))})})})})},Tt=n(101).validIdHelper;function Ht(e){var t=e.classes,n=e.lookerContent,a=e.type,o=e.width;return Object(Q.jsx)(ne.a,{item:!0,sm:o,children:Object(Q.jsx)(re.a,{className:"".concat(t.w100," ").concat(t.padding10),mt:n[0].filter||n[0].dynamicFieldLookUp?2:0,children:Object(Q.jsx)(xe,{classes:t,children:Object(Q.jsx)("div",{className:"embedContainer ".concat(Tt(a)),id:Tt("embedContainer-".concat(a,"-").concat(n[0].id))},Tt("embedContainer-".concat(a,"-").concat(n[0].id)))})})})}var It=n(248),Nt=n(249),At=It.a[500],Lt=Nt.a[500],Pt=It.a[100],Mt=Nt.a[100],Ut=Object(G.a)((function(e){var t;return t={root:{flexGrow:1,overflow:"scroll",borderRadius:8},flexCentered:{display:"flex",justifyContent:"center",alignItems:"center"},hidden:{visibility:"hidden",position:"absolute",zIndex:-1},tabs:{backgroundColor:"white",color:"#6c757d"},dNone:{display:"none"},dBlock:{display:"block"},tree:{height:240,flexGrow:1,maxWidth:400},icon:{marginRight:12,fontSize:"1rem",overflow:"visible"},mt12:{marginTop:12},w100:{width:"100%"},mlAuto:{marginLeft:"auto"},mrAuto:{marginRight:"auto"},skeleton:{minWidth:275,minHeight:600},card:{minWidth:275},padding30:{padding:30},minHeight680:{minHeight:680},maxHeight200:{maxHeight:200,height:200,overflow:"hidden"},mt30:{marginTop:30},mb30:{marginBottom:30},textCenter:{textAlign:"center"},cursorPointer:{cursor:"pointer"},border:{border:"1px solid black"},height800:{height:800},maxHeight100:{maxHeight:100,height:100},maxHeight400:{maxHeight:400,height:400},minHeight200:{minHeight:200,overflow:"scroll"},redNeg:{backgroundColor:Pt,color:At,fontWeight:800},greenPos:{backgroundColor:Mt,color:Lt,fontWeight:800}},Object(I.a)(t,"padding30",{padding:30}),Object(I.a)(t,"mb12",{marginBottom:12}),Object(I.a)(t,"overflowScroll",{overflow:"scroll"}),Object(I.a)(t,"overflowHidden",{overflow:"hidden"}),Object(I.a)(t,"overflowVisible",{overflow:"visible"}),Object(I.a)(t,"maxHeight150",{maxHeight:150,height:150}),Object(I.a)(t,"minHeight150",{minHeight:150,overflow:"scroll"}),Object(I.a)(t,"carouselLegend",{backgroundColor:"rgb(192,192,192, .5)\t !important",textAlign:"center !important",opacity:"100 !important",fontWeight:800}),Object(I.a)(t,"carouselLegendTitle",{fontSize:"24px !important"}),Object(I.a)(t,"carouselLegendBody",{fontSize:"16px !important"}),Object(I.a)(t,"positionRelative",{position:"relative"}),Object(I.a)(t,"padding15",{padding:15}),Object(I.a)(t,"maxHeight75",{maxHeight:75,height:75}),Object(I.a)(t,"overflowYScroll",{overflowY:"scroll",overflowX:"hidden"}),Object(I.a)(t,"drawerHeader",Object(s.a)(Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})),Object(I.a)(t,"padding20",{padding:20}),Object(I.a)(t,"positionFixedTopRight",{position:"fixed",top:88,right:24,bottom:0,zIndex:100}),Object(I.a)(t,"codeFlyoutContainer",{backgroundColor:"rgb(40, 42, 54)",overflow:"scroll",borderRadius:"0 8px 8px 0"}),Object(I.a)(t,"height100Percent",{height:"100%"}),Object(I.a)(t,"noContainerScroll",{width:"100%",margin:0}),Object(I.a)(t,"lookerCardShadow",{border:"none",borderRadius:"6px",boxShadow:"rgba(0, 0, 0, 0.11) 0px 2px 12px, rgba(0, 0, 0, 0.04) 0px 1px 4px"}),Object(I.a)(t,"maxHeight60",{maxHeight:60,height:60}),Object(I.a)(t,"maxHeight350",{maxHeight:350,height:350}),Object(I.a)(t,"maxHeight80Percent",{maxHeight:"80%",height:"80%"}),Object(I.a)(t,"faSm",{fontSize:".75em"}),Object(I.a)(t,"mr12",{marginRight:12}),Object(I.a)(t,"ml12",{marginLeft:12}),Object(I.a)(t,"dot",{height:"25px",width:"25px",borderRadius:"50%",display:"inline-block"}),Object(I.a)(t,"borderRadius0",{borderRadius:0}),Object(I.a)(t,"w33",{width:"33%"}),Object(I.a)(t,"verticalAlignTop",{verticalAlign:"top"}),Object(I.a)(t,"padding10",{padding:10}),Object(I.a)(t,"heading",{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}),Object(I.a)(t,"visuallyHidden",{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}),Object(I.a)(t,"formControl",{margin:e.spacing(1),minWidth:120}),Object(I.a)(t,"bluePrimary",{backgroundColor:"rgba(69, 149, 236, 1)"}),Object(I.a)(t,"blueSecondary",{backgroundColor:"rgba(69, 149, 236, .5)"}),Object(I.a)(t,"orangePrimary",{backgroundColor:"rgba(243, 167, 89, 1)"}),Object(I.a)(t,"orangeSecondary",{backgroundColor:"rgba(243, 167, 89, .5)"}),Object(I.a)(t,"positionTopRight",{position:"absolute",top:-30,right:-50,bottom:0,zIndex:100}),Object(I.a)(t,"bottomBarSpacer",Object(s.a)(Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})),Object(I.a)(t,"maxHeight600",{maxHeight:600,overflow:"scroll"}),Object(I.a)(t,"m12",{margin:12}),Object(I.a)(t,"m6",{margin:6}),t})),Bt=n(243),Dt=n.n(Bt),zt=n(101).validIdHelper;function Et(e){var t=Object(o.useContext)(f.a),n=t.clientSession,a=t.clientSession.lookerUser,i=t.sdk,c=t.corsApiCall,l=t.theme,d=t.isReady,p=t.selectedMenuItem,m=e.staticContent.lookerContent,O=e.staticContent.type||"code flyout",x=Object(o.useState)(0),v=Object(h.a)(x,2),k=v[0],y=v[1],C=Object(o.useState)(void 0),w=Object(h.a)(C,2),S=w[0],_=w[1],T=Object(o.useState)({}),H=Object(h.a)(T,2),P=H[0],M=H[1],U=Object(o.useState)({}),B=Object(h.a)(U,2),D=B[0],z=B[1],E=Object(o.useState)(window.innerHeight-140),V=Object(h.a)(E,2),R=V[0],W=V[1],q=Object(o.useState)(""),G=Object(h.a)(q,2),K=G[0],J=G[1],Y=Object(o.useState)("#2d4266"),X=Object(h.a)(Y,2),Z=X[0],$=X[1],ae=Object(o.useState)(!0),oe=Object(h.a)(ae,2),re=oe[0],ie=oe[1],ce=Object(o.useState)("arial"),se=Object(h.a)(ce,2),le=se[0],de=se[1],ue=Object(o.useState)(0),be=Object(h.a)(ue,2),he=be[0],pe=be[1],je=Object(o.useState)(!1),me=Object(h.a)(je,2),ge=me[0],fe=me[1],Oe=Object(o.useState)(!0),xe=Object(h.a)(Oe,2),ve=xe[0],ke=xe[1],ye=j.a.find(m[0].filters,{label:"Dynamic Vis Config"}),Ce=!(!ye||!Object.keys(ye).length),we=l.palette.fill.main,Se=Ut(),_e=Object(g.h)(),Te=Object(g.g)(),He=!re&&Ce?{palette:{type:"dark",background:{paper:we,default:we}}}:{palette:Object(s.a)({},l.palette)},Ie=r.a.useMemo((function(){return Object(F.a)(He)}),[re,m]),Ne=function(e,t){var n=j.a.find(m[0].filters,{label:"Dynamic Tiles"});if(n){J(t);var a=j.a.filter(D.layouts[0].dashboard_layout_components,(function(e){return n.tileLookUp[t].indexOf(D.elements[e.dashboard_element_id].title)>-1})),o=Object(s.a)(Object(s.a)({},D.layouts[0]),{},{dashboard_layout_components:a});P.setOptions({layouts:[o]})}},Ae=function(e,t){var n=j.a.find(m[0].filters,{label:"Dynamic Vis Config"});if(n){var a=n.colors[t],o=Object(s.a)({},D.elements);Object.keys(o).map((function(e){o[e].vis_config.series_colors&&Object.keys(o[e].vis_config.series_colors).map((function(t,n){o[e].vis_config.series_colors[t]=a[n]||a[0]})),o[e].vis_config.custom_color&&(o[e].vis_config.custom_color=a[a.length-2]),o[e].vis_config.map_value_colors&&o[e].vis_config.map_value_colors.map((function(t,n){o[e].vis_config.map_value_colors[n]=a[n]||a[0]})),o[e].vis_config.series_cell_visualizations&&Object.keys(o[e].vis_config.series_cell_visualizations).map((function(a,r){o[e].vis_config.series_cell_visualizations[a].hasOwnProperty("palette")&&(o[e].vis_config.series_cell_visualizations[a].palette=Object(s.a)({},n.series_cell_visualizations[t]))})),o[e].vis_config.header_font_color&&(o[e].vis_config.header_font_color=a[a.length-2]),Ce&&o[e].vis_config.map_tile_provider&&(o[e].vis_config.map_tile_provider=re?"light":"dark")})),$(t),P.setOptions({elements:Object(s.a)({},o)})}};Object(o.useEffect)((function(){if(console.log("useEffect outer"),console.log({lookerUser:a}),console.log({isReady:d}),d){console.log("useEffect inner");var e=re?"light":"dark";e+="_".concat(le),c(Le,[Object(N.a)(m),e]),_(void 0),fe(!1),ke(!0)}}),[a,d,p]),Object(o.useEffect)((function(){Object.keys(D).length&&Object.keys(P).length&&(Ne(0,K||"Inventory"),Ae(0,Z||"#2d4266"))}),[D]),Object(o.useEffect)((function(){window.addEventListener("resize",(function(){return W(window.innerHeight-140)})),pe(ge&&ee()(".MuiExpansionPanel-root:visible").innerHeight()||0)})),Object(o.useEffect)((function(){W(window.innerHeight-140),pe(ge&&ee()(".MuiExpansionPanel-root:visible").innerHeight()||0)}),[ge]),Object(o.useEffect)((function(){_(void 0)}),[]);var Le=function(e,t){y(0),ee()(".embedContainer.".concat(zt(O),":visible")).html(""),e.map(function(){var e=Object(b.a)(u.a.mark((function e(o){var r,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=o.id,c=t&&Ce?t:o.theme?o.theme:"atom_fashion",A.LookerEmbedSDK.createDashboardWithId(r).appendTo(zt("#embedContainer-".concat(O,"-").concat(r))).withClassName("iframe").withNext().withTheme(c).withParams({schedule_modal:"true"}).on("dashboard:loaded",(function(e){z(e.dashboard.options)})).on("drillmenu:click",Me).build().connect().then((function(e){y(1),M(e);var t=n.lookerBaseUrl.substring(0,n.lookerBaseUrl.lastIndexOf(":"));A.LookerEmbedSDK.init(t)})).catch((function(e){console.log({error:e})})),o.hasOwnProperty("filters")&&(l={},o.filters.map(function(){var e=Object(b.a)(u.a.mark((function e(t,n){var o,r,c,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.inlineQuery){e.next=10;break}return(o=t.inlineQuery).filters=Object(s.a)(Object(s.a)({},o.filters),{},Object(I.a)({},t.desiredFilterName,a.user_attributes.brand)),e.next=5,i.ok(i.run_inline_query({result_format:t.resultFormat||"json",body:o}));case 5:for(r=e.sent,c=[],d=Object.keys(r[0])[0],b=0;b<r.length;b++)c.push({label:r[b][d],trend:r[b].trend?r[b].trend:void 0});l[t.component]=c;case 10:_(l);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Pe=Object(o.useCallback)((function(e,t){Object.keys(P).length&&(P.updateFilters(Object(I.a)({},e,t)),P.run())})),Me=function(e){if(j.a.includes(j.a.lowerCase(e.label),"view"))return Te.push({pathname:"pdfviewer",search:"pdf_url=".concat(e.url)}),{cancel:!0}};return Object(o.useEffect)((function(){var e=Dt.a.parse(_e.search);e[m[0].filterName]>0&&Pe(m[0].filterName,e[m[0].filterName])}),[Pe,_e.search,m]),Object(Q.jsx)("div",{className:"".concat(Se.root," demoComponent"),style:{height:R},children:Object(Q.jsx)(L.a,{theme:Ie,children:Object(Q.jsx)(te.a,{elevation:1,className:"".concat(Se.padding15," ").concat(Se.height100Percent),children:Object(Q.jsx)("div",{className:"".concat(Se.root," ").concat(Se.height100Percent),children:Object(Q.jsxs)(ne.a,{container:!0,spacing:3,children:[Object(Q.jsx)(dt,{hide:k,classes:Se,height:R-he}),m[0].hasOwnProperty("filters")?Object(Q.jsx)(st,Object(s.a)(Object(s.a)({},e),{},{classes:Se,apiContent:S,customFilterAction:Pe,tileToggleValue:K,handleTileToggle:Ne,visColorToggleValue:Z,handleVisColorToggle:Ae,lightThemeToggleValue:re,fontThemeSelectValue:le,handleThemeChange:function(e,t){var n="";"boolean"===typeof t?(ie(t),n=t?"light_".concat(le):"dark_".concat(le)):(n=re?"light_".concat(t):"dark_".concat(t),de(t)),c(Le,[m,n])},horizontalLayout:ge,setHorizontalLayout:fe,drawerOpen:ve,setDrawerOpen:ke})):"",Object(Q.jsx)(Ht,{classes:Se,lookerContent:m,type:O,width:m[0].hasOwnProperty("filters")?ge?12:ve?9:12:12}),Object(Q.jsx)(gt,Object(s.a)(Object(s.a)({},e),{},{classes:Se,lookerUser:a,height:R-he-15}))]})})})})})}var Vt=n(530),Rt={type:"dashboard",label:"Home",menuCategory:"Home",description:"Overview of all your web traffic",icon:n.n(Vt).a,component:Et,lookerContent:[{type:"dashboard",lookerMethod:"embedDashboard",id:"18",label:"Trends",isNext:!1,theme:"vision_theme"}],requiredPermissionLevel:0},Ft=n(531),Wt={type:"dashboard",label:"Trends",menuCategory:"Home",description:"Overview of all your web traffic",icon:n.n(Ft).a,component:Et,lookerContent:[{type:"dashboard",lookerMethod:"embedDashboard",id:"19",label:"Trends",isNext:!1,theme:"vision_theme"}],requiredPermissionLevel:0},qt=n(532),Gt={type:"dashboard",label:"Flags",menuCategory:"Home",description:"Overview of all your web traffic",icon:n.n(qt).a,component:Et,lookerContent:[{type:"dashboard",lookerMethod:"embedDashboard",id:"20",label:"Flags",isNext:!1,theme:"vision_theme"}],requiredPermissionLevel:1},Kt=n(533),Jt={type:"dashboard",label:"Application",menuCategory:"Home",description:"Overview of all your web traffic",icon:n.n(Kt).a,component:Et,lookerContent:[{type:"dashboard",lookerMethod:"embedDashboard",id:"22",label:"Application",isNext:!1,theme:"vision_theme"}],requiredPermissionLevel:0},Qt=n(534),Yt={type:"dashboard",label:"Households",menuCategory:"Home",description:"Overview of all your web traffic",icon:n.n(Qt).a,component:Et,lookerContent:[{type:"dashboard",lookerMethod:"embedDashboard",id:"21",label:"Households",isNext:!1,filterName:"Person ID",theme:"vision_theme"}],requiredPermissionLevel:1},Xt=n(19);Xt.validIdHelper,Xt.decodeHtml,Xt.appContextMap;n(19).validIdHelper;var Zt=n(104);var $t=It.a[500],en=Nt.a[500],tn=It.a[100],nn=Nt.a[100],an=W.a[200],on=140,rn=Object(G.a)((function(e){var t;return t={root:{flexGrow:1,overflow:"scroll",borderRadius:8},flexCentered:{display:"flex",justifyContent:"center",alignItems:"center"},hidden:{visibility:"hidden",position:"absolute",zIndex:-1},tabs:{backgroundColor:"white",color:"#6c757d"},dNone:{display:"none"},dBlock:{display:"block"},tree:{height:240,flexGrow:1,maxWidth:400},icon:{marginRight:12,fontSize:"1rem",overflow:"visible"},mt12:{marginTop:12},w100:{width:"100%"},mlAuto:{marginLeft:"auto"},mrAuto:{marginRight:"auto"},skeleton:{minWidth:275,minHeight:600},card:{minWidth:275},padding30:{padding:30},minHeight680:{minHeight:680},maxHeight200:{maxHeight:200,height:200,overflow:"hidden"},mt30:{marginTop:30},mb30:{marginBottom:30},textCenter:{textAlign:"center"},cursorPointer:{cursor:"pointer"},border:{border:"1px solid black"},height800:{height:800},maxHeight100:{maxHeight:100,height:100},maxHeight400:{maxHeight:400,height:400},minHeight200:{minHeight:200,overflow:"scroll"},redNeg:{backgroundColor:tn,color:$t,fontWeight:800},greenPos:{backgroundColor:nn,color:en,fontWeight:800}},Object(I.a)(t,"padding30",{padding:30}),Object(I.a)(t,"mb12",{marginBottom:12}),Object(I.a)(t,"overflowScroll",{overflow:"scroll"}),Object(I.a)(t,"overflowHidden",{overflow:"hidden"}),Object(I.a)(t,"overflowVisible",{overflow:"visible"}),Object(I.a)(t,"maxHeight150",{maxHeight:150,height:150}),Object(I.a)(t,"minHeight150",{minHeight:150,overflow:"scroll"}),Object(I.a)(t,"positionRelative",{position:"relative"}),Object(I.a)(t,"padding15",{padding:15}),Object(I.a)(t,"maxHeight75",{maxHeight:75,height:75}),Object(I.a)(t,"overflowYScroll",{overflowY:"scroll",overflowX:"hidden"}),Object(I.a)(t,"drawerHeader",Object(s.a)(Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})),Object(I.a)(t,"padding20",{padding:20}),Object(I.a)(t,"positionFixedTopRight",{position:"fixed",top:88,right:24,bottom:0,zIndex:100}),Object(I.a)(t,"codeFlyoutContainer",{backgroundColor:"rgb(40, 42, 54)",overflow:"scroll",borderRadius:"0 8px 8px 0"}),Object(I.a)(t,"height100Percent",{height:"100%"}),Object(I.a)(t,"noContainerScroll",{width:"100%",margin:0}),Object(I.a)(t,"lookerCardShadow",{border:"none",borderRadius:"6px",boxShadow:"rgba(0, 0, 0, 0.11) 0px 2px 12px, rgba(0, 0, 0, 0.04) 0px 1px 4px"}),Object(I.a)(t,"maxHeight60",{maxHeight:60,height:60}),Object(I.a)(t,"maxHeight350",{maxHeight:350,height:350}),Object(I.a)(t,"maxHeight80Percent",{maxHeight:"80%",height:"80%"}),Object(I.a)(t,"faSm",{fontSize:".75em"}),Object(I.a)(t,"mr12",{marginRight:12}),Object(I.a)(t,"ml12",{marginLeft:12}),Object(I.a)(t,"dot",{height:"25px",width:"25px",borderRadius:"50%",display:"inline-block"}),Object(I.a)(t,"borderRadius0",{borderRadius:0}),Object(I.a)(t,"w33",{width:"33%"}),Object(I.a)(t,"verticalAlignTop",{verticalAlign:"top"}),Object(I.a)(t,"padding10",{padding:10}),Object(I.a)(t,"heading",{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}),Object(I.a)(t,"visuallyHidden",{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}),Object(I.a)(t,"formControl",{margin:e.spacing(1),minWidth:120}),Object(I.a)(t,"bluePrimary",{backgroundColor:"rgba(69, 149, 236, 1)"}),Object(I.a)(t,"blueSecondary",{backgroundColor:"rgba(69, 149, 236, .5)"}),Object(I.a)(t,"orangePrimary",{backgroundColor:"rgba(243, 167, 89, 1)"}),Object(I.a)(t,"orangeSecondary",{backgroundColor:"rgba(243, 167, 89, .5)"}),Object(I.a)(t,"positionTopRight",{position:"absolute",top:-30,right:-50,bottom:0,zIndex:100}),Object(I.a)(t,"bottomBarSpacer",Object(s.a)(Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})),Object(I.a)(t,"maxHeight600",{maxHeight:600,overflow:"scroll"}),Object(I.a)(t,"m12",{margin:12}),Object(I.a)(t,"m6",{margin:6}),Object(I.a)(t,"small",{width:e.spacing(3),height:e.spacing(3)}),Object(I.a)(t,"signInCard",{minWidth:350,minHeight:500,left:"75%",top:"50%",transform:"translate(-75%, -50%)",position:"absolute",textAlign:"center",backgroundColor:an}),Object(I.a)(t,"signInCardCopy",{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",margin:"0",width:"80%"}),t})),cn=n(19),sn=cn.validIdHelper,ln=cn.appContextMap,dn=cn.validateContent,un=n(19),bn=un.validIdHelper,hn=un.appContextMap,pn=(un.validateContent,n(535)),jn=n(1326),mn=n(1327),gn=n(1355),fn=n(1328),On=n(1329),xn=n(550),vn=function(e){var t=e.classes,n=e.content,a=Object(g.g)(),r=Object(o.useContext)(ge.appContextMap.vision),i=r.setPaywallModal,c=r.clientSession,l=r.setClientSession,d=r.handleSwitchLookerUser,u=Object(o.useState)(null),b=Object(h.a)(u,2),p=b[0],j=b[1],m=Object(o.useState)(c.lookerUser.user_attributes.brand||""),f=Object(h.a)(m,2),O=f[0],x=f[1],v=n.permissionLevels,k=n.rowLevelAttribute,y=function(e,t){j(null),null==e?(l({}),a.push("/"),_()):"modal"===e?i({show:!0,permissionNeeded:"explore"}):"string"===typeof e&&d(e,t)};return Object(o.useEffect)((function(){x(c.lookerUser.user_attributes.brand||"")}),[c.lookerUser]),Object(Q.jsxs)("div",{className:"".concat(t.zIndex1500),children:[Object(Q.jsxs)(B.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){j(e.currentTarget)},color:"inherit",children:[Object(Q.jsx)(gn.a,{alt:c.userProfile.name,src:c.userProfile.imageUrl,className:t.mr12}),Object(Q.jsx)(he.a,{children:"string"===typeof c.lookerUser.user_attributes.permission_level?c.lookerUser.user_attributes.permission_level.charAt(0).toUpperCase()+c.lookerUser.user_attributes.permission_level.substring(1):""})]}),Object(Q.jsxs)(xn.a,{id:"simple-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:y,children:[Object(Q.jsx)(Ve.a,{autoFocus:!1,children:"Select User Level"}),Object.keys(v).map((function(e){return Object(Q.jsx)(Ve.a,{autoFocus:!1,onClick:function(){return y(e,"permission")},children:be.a.capitalize(e)},Object(ge.validIdHelper)("$lookerUserPermission-MenuItem-".concat(e)))})),Object(Q.jsx)(vt.a,{className:t.divider}),Object(Q.jsx)(Ve.a,{onClick:function(){return y(null)},children:"Sign Out"}),Object(Q.jsx)(vt.a,{className:t.divider}),Object(Q.jsx)(Ve.a,{onClick:function(){return y("modal")},children:"Show Monetization Modal"}),Object.keys(k).length?Object(Q.jsxs)("div",{children:[Object(Q.jsx)(vt.a,{className:t.divider}),Object(Q.jsxs)(Ve.a,{children:[k.menuItemLabel,": ",O]}),Object(Q.jsx)(Ve.a,{children:Object(Q.jsx)(je.a,{id:"combo-box-usermenu",options:k.options||[],getOptionLabel:function(e){return e.label},style:{width:300},onChange:function(e){return y(e.target.innerText||"","brand")},renderInput:function(e){return Object(Q.jsx)(pe.a,Object(s.a)(Object(s.a)({},e),{},{label:k.autoCompleteLabel,variant:"outlined"}))},loadingText:"Loading...",disableautofocus:"true",onKeyDown:function(e){return e.stopPropagation()}})})]}):""]})]})},kn=function(e){var t=e.content,n=e.theme,a=e.classes,r=Object(g.g)(),i=Object(o.useContext)(ge.appContextMap.vision),c=i.clientSession,s=(i.setClientSession,i.drawerOpen),l=i.setDrawerOpen,d=i.sdk,p=i.corsApiCall,j=i.isReady,m=(c.userProfile,c.lookerUser),f=(c.packageName,Object(o.useState)(void 0)),O=Object(h.a)(f,2),x=O[0],v=O[1],k=Object(o.useState)(void 0),y=Object(h.a)(k,2),C=y[0],w=y[1];Object(o.useEffect)((function(){if(j&&t&&t.hasOwnProperty("autocomplete")){var e=!0;return p(S,[C]).then((function(t){e&&v(t)})),function(){return e=!1}}}),[m,j,C]);var S=function(){var e=Object(b.a)(u.a.mark((function e(n){var a,o,r,i,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.autocomplete,o=a.inlineQuery,n&&(o.filters["person._search"]="%".concat(n,"%")),e.next=5,d.ok(d.run_inline_query({result_format:a.resultFormat||"json",body:o}));case 5:for(r=e.sent,i={},c=[],s=function(e){var t=a.formattedLabel.map((function(t){return r[e][t]})).join(", "),n=a.value.map((function(t){return r[e][t]})).toString();c.push({value:n,label:t,trend:r[e].trend?r[e].trend:void 0})},l=0;l<r.length;l++)s(l);return i.autocomplete=c,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_={"Person ID":"households"};return Object(Q.jsx)(L.a,{theme:n,children:Object(Q.jsx)(jn.a,{position:"fixed",className:Object(pn.a)(a.appBar),children:Object(Q.jsxs)(mn.a,{children:[Object(Q.jsx)(B.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return l(!s)},edge:"start",children:s?Object(Q.jsx)(R.a,{}):Object(Q.jsx)(de.a,{})}),t.avatar?Object(Q.jsx)(gn.a,{alt:"Icon",src:t.avatar,style:t.avatarStyle?t.avatarStyle:"",variant:"square"}):"",t.label?Object(Q.jsx)(he.a,{className:a.ml12,variant:"h6",children:t.label}):"",x&&x.autocomplete?Object(Q.jsx)(ne.a,{item:!0,sm:6,className:"".concat(a.mlAuto," ").concat(a.mr12),children:Object(Q.jsx)(Te,{filterItem:t.autocomplete,apiContent:x.autocomplete,action:function(e,t){e&&t&&r.push({pathname:_[e],search:"".concat(encodeURIComponent(e),"=").concat(t)})},classes:a,bgColor:"white",setDynamicSearch:w})}):"",Object(Q.jsx)(fn.a,{badgeContent:3,color:"error",className:x&&x.autocomplete?"".concat(a.mr12):"".concat(a.mlAuto," ").concat(a.mr12),children:Object(Q.jsx)(On.a,{})}),Object(Q.jsx)(vn,{classes:a,content:t.usermenu})]})})})},yn=n(1330),Cn=n(1331),wn=function(e){var t=e.classes,n=Object(o.useContext)(ge.appContextMap.vision),a=n.highlightShow,r=n.setHighlightShow,i=n.codeShow,c=n.setCodeShow;return Object(Q.jsx)(jn.a,{position:"fixed",color:"transparent",className:t.appBarBottom,children:Object(Q.jsxs)(mn.a,{variant:"dense",children:[Object(Q.jsx)(yt.a,{className:"".concat(t.mlAuto," ").concat(t.mr12),display:"inline",startIcon:Object(Q.jsx)(yn.a,{}),onClick:function(){i&&c(!i),r(!a)},children:"Source"}),Object(Q.jsx)(yt.a,{display:"inline",startIcon:Object(Q.jsx)(Cn.a,{}),onClick:function(){a&&r(!a),c(!i)},children:"Code"})]})})};n(331);var Sn=n(546),_n=n(19),Tn=_n.validIdHelper,Hn=_n.appContextMap,In=(_n.validateContent,function(e){var t=e.content,n=e.initialUser,a=Object(o.useContext)(Hn.vision),r=a.clientSession,i=a.setClientSession,c=(a.sdk,a.setSdk),l=(a.initialHref,a.setInitialHref,r.packageName,t.backgroundImage,t.logo),d=t.logoStyle,h=t.backgroundImageStyle,p=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,o,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.error){e.next=3;break}e.next=11;break;case 3:return e.next=5,S(Object(s.a)(Object(s.a)({},r),{},{userProfile:t.profileObj,lookerUser:n}));case 5:a=e.sent,o=a.session.lookerBaseUrl?a.session.lookerBaseUrl:"",l=a.session.lookerApiToken?a.session.lookerApiToken.api_user_token:"",d=T({lookerBaseUrl:o,accessToken:l}),i(a.session),c(d);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j="".concat("610722499102-hqo4cena1n453n11mqk88jj5arv4p3ft",".apps.googleusercontent.com"),m=rn();return Object(Q.jsx)("div",{className:"".concat(m.root," demoComponent ").concat(m.height100Percent),children:Object(Q.jsx)(ne.a,{container:!0,className:"".concat(m.height100Percent),children:Object(Q.jsx)(ne.a,{item:!0,sm:12,className:"sign-in-background-img",style:h||"",children:Object(Q.jsx)(te.a,{className:m.signInCard,children:Object(Q.jsxs)("div",{className:m.signInCardCopy,children:[Object(Q.jsx)("img",{src:l,style:d||""}),Object(Q.jsxs)(xt.a,{children:[Object(Q.jsx)(he.a,{variant:"h5",component:"h2",children:t.cardHeader}),Object(Q.jsx)(he.a,{variant:"body2",component:"p",children:t.cardBody})]}),Object(Q.jsx)(kt.a,{className:"".concat(m.flexCentered),children:Object(Q.jsx)(Sn.GoogleLogin,{clientId:j,buttonText:"Login",onSuccess:p,onFailure:p,cookiePolicy:"single_host_origin"})})]})})})},Tn("sign in page"))})}),Nn=n(547),An={type:"explore",label:"Explore",menuCategory:"Home",description:"Overview of all your web traffic",icon:n.n(Nn).a,component:function(e){var t=Object(o.useState)(1),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(void 0),c=Object(h.a)(i,2),l=(c[0],c[1]),d=Object(o.useState)({}),p=Object(h.a)(d,2),j=(p[0],p[1]),m=Object(o.useState)(window.innerHeight-on),g=Object(h.a)(m,2),f=g[0],O=g[1],x=Object(o.useContext)(hn.vision),v=x.clientSession,k=x.clientSession,y=k.lookerUser,C=(k.lookerHost,x.isReady),w=(x.sdk,x.corsApiCall),S=x.selectedMenuItem,_=e.staticContent,T=_.lookerContent,H=_.type,I=(_.schema,H),A=rn();Object(o.useEffect)((function(){window.addEventListener("resize",(function(){return O(window.innerHeight-on)}))}),[T]),Object(o.useEffect)((function(){C&&(w(L,[Object(N.a)(T)]),l(void 0))}),[y,C,S]),Object(o.useEffect)((function(){var e=v.lookerBaseUrl.substring(0,v.lookerBaseUrl.lastIndexOf(":"));Zt.LookerEmbedSDK.init(e,"/auth")}),[]);var L=function(e){ee()(".embedContainer.".concat(bn(H),":visible")).html(""),e.map(function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"explore"===t.type&&(n=t.id,t.qid?Zt.LookerEmbedSDK.createExploreWithId(n).appendTo(bn("#embedContainer-".concat(I,"-").concat(t.id))).withClassName("exploreIframe").withParams({qid:t.qid,toggle:"&toggle=vis "}).on("explore:state:changed",(function(e){})).build().connect().then((function(e){r(1),j(e);var t=v.lookerBaseUrl.substring(0,v.lookerBaseUrl.lastIndexOf(":"));Zt.LookerEmbedSDK.init(t)})).catch((function(e){console.error("Connection error",e)})):Zt.LookerEmbedSDK.createExploreWithId(n).appendTo(bn("#embedContainer-".concat(I,"-").concat(t.id))).withClassName("exploreIframe").withParams({toggle:"&toggle=vis"}).on("explore:state:changed",(function(e){})).build().connect().then((function(e){r(1),j(e);var t=v.lookerBaseUrl.substring(0,v.lookerBaseUrl.lastIndexOf(":"));Zt.LookerEmbedSDK.init(t)})).catch((function(e){console.error("Connection error",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return Object(Q.jsx)("div",{className:"".concat(A.root," demoComponent"),style:{height:f},children:Object(Q.jsx)(te.a,{elevation:1,className:"".concat(A.padding15," ").concat(A.height100Percent," ").concat(A.overflowScroll),children:Object(Q.jsx)(ne.a,{container:!0,children:Object(Q.jsxs)("div",{className:A.root,children:[Object(Q.jsx)(dt,{hide:a,classes:A,height:f}),Object(Q.jsx)(re.a,{className:a?"":"".concat(A.hidden),children:Object(Q.jsxs)(ne.a,{container:!0,spacing:3,className:"".concat(A.noContainerScroll),children:[Object(Q.jsx)(gt,Object(s.a)(Object(s.a)({},e),{},{classes:A,lookerUser:y,height:f-15})),Object(Q.jsx)(ne.a,{item:!0,sm:12,children:Object(Q.jsx)(re.a,{className:"".concat(A.w100," ").concat(A.padding10),mt:T[0].filter||T[0].dynamicFieldLookUp?2:0,children:Object(Q.jsx)(xe,{classes:A,children:Object(Q.jsx)("div",{className:"embedContainer ".concat(bn(H)),id:bn("embedContainer-".concat(I,"-").concat(T[0].id))},bn("embedContainer-".concat(I,"-").concat(T[0].id)))})})})]},"".concat(bn(I+"-outerFragment")))})]})},bn(H))})})},lookerContent:[{type:"explore",id:"vision::application",label:"Explore Applications"}],requiredPermissionLevel:1},Ln=n(548),Pn={type:"customfilter",label:"PDF Viewer",menuCategory:"Home",description:"Overview of all your web traffic",icon:n.n(Ln).a,component:function(e){var t=Object(o.useState)(1),n=Object(h.a)(t,2),a=n[0],r=(n[1],Object(o.useState)(window.innerHeight-on)),i=Object(h.a)(r,2),c=i[0],l=i[1],d=Object(o.useContext)(ln.vision).clientSession,u=d.lookerUser,b=(d.lookerHost,e.staticContent),p=b.lookerContent,j=b.type,m=b.schema,f=j,O=rn(),x=Object(g.h)(),v=Object(o.useState)(p[0].pdf),k=Object(h.a)(v,2),y=k[0],C=k[1];return Object(o.useEffect)((function(){window.addEventListener("resize",(function(){return l(window.innerHeight-on)}))}),[p]),dn(p[0],m),Object(o.useEffect)((function(){var e=Dt.a.parse(x.search);!!e.pdf_url&&C(e.pdf_url)}),[x.search]),Object(Q.jsx)("div",{className:"".concat(O.root," demoComponent"),style:{height:c},children:Object(Q.jsx)(te.a,{elevation:1,className:"".concat(O.padding15," ").concat(O.height100Percent," ").concat(O.overflowScroll),children:Object(Q.jsx)(ne.a,{container:!0,children:Object(Q.jsxs)("div",{className:O.root,children:[Object(Q.jsx)(dt,{hide:a,classes:O,height:c}),Object(Q.jsx)(re.a,{className:a?"":"".concat(O.hidden),children:Object(Q.jsxs)(ne.a,{container:!0,spacing:3,className:"".concat(O.noContainerScroll),children:[Object(Q.jsx)(gt,Object(s.a)(Object(s.a)({},e),{},{classes:O,lookerUser:u,height:c-15})),y?Object(Q.jsx)("object",{data:y,type:"application/pdf",className:"".concat(O.minHeight680," ").concat(O.w100),children:Object(Q.jsx)("iframe",{src:"https://docs.google.com/viewer?url=".concat(y,"&embedded=true"),style:{height:"100%",width:"100%"}})}):""]},"".concat(sn(f+"-outerFragment")))})]})},sn(j))})})},lookerContent:[{type:"pdfviewer",id:"20",label:"PDF Viewer",isNext:!1,filters:[],pdf:"https://storage.googleapis.com/looker-dat-vision/1099.pdf"}],schema:{type:function(e){return"string"===typeof e},label:function(e){return"string"===typeof e}},requiredPermissionLevel:1},Mn={partner:["access_data","see_looks","see_user_dashboards","see_lookml_dashboards","download_with_limit"],administrator:["access_data","see_looks","see_user_dashboards","see_lookml_dashboards","download_with_limit","schedule_look_emails","schedule_external_look_emails","create_alerts","see_drill_overlay","save_content","embed_browse_spaces","schedule_look_emails","send_to_sftp","send_to_s3","send_outgoing_webhook","send_to_integration","download_without_limit","explore","see_sql"]},Un={partner:"last 182 days",administrator:"last 365 days"},Bn={external_user_id:"",first_name:"",last_name:"",session_length:86400,force_logout_login:!0,external_group_id:"",group_ids:[4],permissions:Mn[Object.keys(Mn)[0]],models:["vision"],user_attributes:{locale:"en_US",country:"USA",time_horizon:"last 182 days",permission_level:Object.keys(Mn)[0]}},Dn={partner:{title:"I'm a viewer",list:["6 months of order data history","Atom Merchant Dashboards","Download PDFs, CSVs"]},administrator:{title:"I'm a manager",list:["2 Full years of order data history","Analyze your own data and save custom reports","View premium level, productivity enhancing reports","Share your reports with colleagues in Atom","Text message alerts"]}},zn=n(1232).default,En={autocomplete:{filterName:"Person ID",lookerMethod:"runInlineQuery",inlineQuery:{model:"vision",view:"application",fields:["person._search","person.person_id"],filters:{"person.person_id":"not null"},query_timezone:"America/Los_Angeles",limit:50},resultFormat:"json",formattedLabel:["person._search"],value:["person.person_id"],correspondingComponentContent:Yt,alternateName:"Search",apiDrivenSearch:!0},usermenu:{permissionLevels:Mn,rowLevelAttribute:{}},label:"Benefits <br />Investigator",avatar:zn,avatarStyle:{height:"40px",fill:"white"}},Vn=n(1233).default,Rn=Math.floor(4*Math.random())+1,Fn=n(1234)("./background".concat(Rn,".jpg")).default,Wn={cardHeader:"Welcome",cardBody:"Please sign in to access your fraud portal",logo:Vn,logoStyle:{height:"100px",width:"auto"},backgroundImage:Fn,backgroundImageStyle:{backgroundImage:"url(".concat(Fn,")"),backgroundSize:"cover"}},qn=n(101).validIdHelper;function Gn(e){var t=Object(o.useContext)(f.a),n=t.setClientSession,r=t.clientSession,i=t.sdk,c=(t.setSdk,t.isReady),l=Object(g.i)().democomponent,d=Object(g.g)(),p=J(),m=Object(o.useRef)(!1),O=Object(o.useState)(window.innerWidth>768),x=Object(h.a)(O,2),v=x[0],k=x[1],y=Object(o.useState)(!1),C=Object(h.a)(y,2),w=C[0],S=C[1],T=Object(o.useState)(!1),U=Object(h.a)(T,2),B=U[0],D=U[1],z=Object(o.useState)({}),E=Object(h.a)(z,2),V=E[0],R=E[1],F=Object(o.useState)(l),W=Object(h.a)(F,2),G=W[0],K=W[1],Y=r.lookerUser,Z=(Y=void 0===Y?{user_attributes:"No match"}:Y).user_attributes.permission_level,$=Object.keys(Mn).indexOf(Z),ee=j.a.filter(a,(function(e){return e.requiredPermissionLevel<=$})),te=Object(s.a)({},En);te.autocomplete&&$<te.autocomplete.correspondingComponentContent.requiredPermissionLevel&&delete te.autocomplete;var ne,ae=function(){var e=Object(b.a)(u.a.mark((function e(t,a){var o,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(s.a)({},r.lookerUser),"brand"===a?o.user_attributes.brand=t:"permission"===a&&(o.permissions=Mn[t],o.user_attributes.permission_level=t,o.user_attributes.time_horizon=Un[t]),e.next=4,fetch("/updatelookeruser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});case 4:return i=e.sent,e.next=7,i.json();case 7:c=e.sent,n(c.session);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,a,o,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:[],console.log("corsApiCall"),e.next=4,H(r.lookerApiToken.expires_in);case 4:if(a=e.sent,console.log({checkTokenRsp:a}),"expired"!==a.status){e.next=12;break}console.log("inside this ifff"),d.push("/"),_(),e.next=14;break;case 12:return o=t.apply(void 0,Object(N.a)(n)),e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){var e=r.lookerBaseUrl.substring(0,r.lookerBaseUrl.lastIndexOf(":"));A.LookerEmbedSDK.init(e,"/auth"),window.addEventListener("resize",(function(){k(window.innerWidth>768)}))}),[]),Object(o.useEffect)((function(){m.current||(m.current=!0)})),Object(o.useEffect)((function(){w&&S(!w),B&&D(!B),K(l)}),[l]);var re=j.a.find(ee,(function(e){return G===qn(j.a.lowerCase(e.label))}));return re?ne=re.component:d.push(qn(j.a.lowerCase(ee[0].label))),Object(Q.jsx)("div",{className:p.root,children:Object(Q.jsx)(f.a.Provider,{value:{clientSession:r,setClientSession:n,payWallModal:V,setPaywallModal:R,handleSwitchLookerUser:ae,drawerOpen:v,setDrawerOpen:k,selectedMenuItem:G,highlightShow:w,setHighlightShow:S,codeShow:B,setCodeShow:D,sdk:i,corsApiCall:oe,theme:q,isReady:c},children:Object(Q.jsxs)(L.a,{theme:q,children:[Object(Q.jsx)(P.a,{}),Object(Q.jsx)(kn,{content:te,theme:q,classes:p}),Object(Q.jsx)(_t,{content:{permissionLevels:Mn,modalPermissionsMap:Dn},classes:p}),Object(Q.jsx)(X,{DemoComponentsContentArr:ee}),Object(Q.jsxs)("main",{className:Object(M.a)(p.content,Object(I.a)({},p.contentShift,v)),children:[Object(Q.jsx)("div",{className:p.drawerHeader}),ne?Object(Q.jsx)(ne,{staticContent:re}):""]}),Object(Q.jsx)(wn,{classes:p})]})})})}var Kn=n(101);var Jn=function(e){var t=Object(o.useState)({}),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(),c=Object(h.a)(i,2),s=c[0],l=c[1],d=Object(o.useState)(),p=Object(h.a)(d,2),j=p[0],O=p[1],x=Object(o.useState)(!1),v=Object(h.a)(x,2),k=v[0],y=v[1];return Object(o.useEffect)((function(){function e(){return(e=Object(b.a)(u.a.mark((function e(){var t,n,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:(t=e.sent).session&&(n=t.lookerBaseUrl?t.lookerBaseUrl:void 0,a=t.lookerApiToken?t.lookerApiToken.api_user_token:void 0,n&&a&&(o=T({accessToken:a,lookerBaseUrl:n}),l(o)),r(t.session));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(o.useEffect)((function(){if(a&&s)y(!0);else if(a.userProfile){var e=a.lookerBaseUrl?a.lookerBaseUrl:"",t=a.lookerApiToken?a.lookerApiToken.api_user_token:"",n=T({accessToken:t,lookerBaseUrl:e});l(n)}}),[a,s]),console.log({clientSession:a}),console.log(a.lookerApiToken?Date(a.lookerApiToken.expires_in):""),Object(Q.jsx)(m.a,{children:Object(Q.jsx)(f.a.Provider,{value:{clientSession:a,setClientSession:r,sdk:s,setSdk:l,initialHref:j,setInitialHref:O,isReady:k},children:Object(Q.jsxs)(g.d,{children:[Object(Q.jsx)(Qn,{path:"/analytics/:democomponent?",isSignedIn:!!a.userProfile,component:Gn,setInitialHref:O,initialHref:j}),Object(Q.jsx)(Yn,{path:"/",exact:!0,isSignedIn:!!a.userProfile,component:In,initialHref:j,content:Wn,initialUser:Bn}),Object(Q.jsx)(g.b,{render:function(){return Object(Q.jsx)(g.a,{to:"/"})}})]})})})},Qn=function(e){var t=e.component,n=e.isSignedIn,a=e.setInitialHref,o=Object(l.a)(e,["component","isSignedIn","setInitialHref"]);return n?a():a(window.location.href),Object(Q.jsx)(g.b,Object(s.a)(Object(s.a)({exact:!0},o),{},{render:function(e){return n?Object(Q.jsx)(t,Object(s.a)({},e)):Object(Q.jsx)(g.a,{to:"/"})}}))},Yn=function(e){var t=e.component,n=e.isSignedIn,o=e.initialHref,r=e.content,i=e.initialUser,c=Object(l.a)(e,["component","isSignedIn","initialHref","content","initialUser"]),d={};Object.keys(a).map((function(e){d[Object(Kn.validIdHelper)(j.a.lowerCase(a[e].label))]=Object(Kn.validIdHelper)(j.a.startCase(a[e].type))}));var u="/analytics/home";if(o){var b=o.split("/"),h=b.slice(-2),p=b.slice(-1);d.hasOwnProperty(p)&&(u=h.join("/"))}return Object(Q.jsx)(g.b,Object(s.a)(Object(s.a)({exact:!0},c),{},{render:function(e){return n?Object(Q.jsx)(g.a,{to:u}):Object(Q.jsx)(t,Object(s.a)(Object(s.a)({},e),{},{content:r,initialUser:i}))}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(Q.jsx)(Jn,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},19:function(e,t,n){"use strict";n.r(t),n.d(t,"makeid",(function(){return i})),n.d(t,"validIdHelper",(function(){return c})),n.d(t,"prettifyString",(function(){return s})),n.d(t,"getUrlVars",(function(){return l})),n.d(t,"decodeHtml",(function(){return d})),n.d(t,"appContextMap",(function(){return u})),n.d(t,"validateContent",(function(){return b}));var a=n(0),o=n.n(a).a.createContext(null),r=n(75),i=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*a));return t},c=function(e){return e.replace(/[^a-zA-Z0-9-.#]/g,"")},s=function(e){var t,n=e.split("_");for(t=0;t<n.length;t++)n[t]=n[t].charAt(0).toUpperCase()+n[t].slice(1);return n.join(" ")},l=function(e){for(var t,n={},a=e.slice(e.indexOf("?")+1).split("&"),o=0;o<a.length;o++)n[(t=a[o].split("="))[0]]=t[1];return n},d=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},u={atom:o,vision:r.a},b=function(e,t){var n=Object.keys(t).filter((function(n){return!t[n](e[n])})).map((function(e){return new Error(e+" is invalid.")}));n.length>0?n.forEach((function(e){console.log(e.message)})):console.log("info is valid")}},604:function(e,t,n){},620:function(e,t){},622:function(e,t){},638:function(e,t){},640:function(e,t){},649:function(e,t){},651:function(e,t){},677:function(e,t){},678:function(e,t){},683:function(e,t){},685:function(e,t){},692:function(e,t){},711:function(e,t){},75:function(e,t,n){"use strict";var a=n(0),o=n.n(a).a.createContext(null);t.a=o},760:function(e,t){},885:function(e,t,n){}},[[1239,1,2]]]);
//# sourceMappingURL=main.6f9e3324.chunk.js.map