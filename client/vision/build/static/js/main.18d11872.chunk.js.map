{"version":3,"sources":["tools.js","images/logo.svg","images/logo_text.svg","images sync /^/.//background.*/.jpg$","images/background1.jpg","images/background2.jpg","images/background3.jpg","images/background4.jpg","../../shared/utils/pblsession.js","../../shared/utils/auth.js","config/theme.js","components/Home/styles.js","components/Home/LeftDrawer.js","../../shared/components/Accessories/Highlight.js","../../shared/components/Accessories/NumberToColoredPercent.js","../../shared/components/Filters/AutoComplete.js","../../shared/components/Filters/ToggleTile.js","../../shared/components/Filters/ToggleVisColor.js","../../shared/components/Filters/SwitchTheme.js","../../shared/components/Filters/SelectFont.js","../../shared/components/Filters/CheckboxSvgMapRegion.js","../../shared/components/Filters/helpers.js","../../shared/components/Filters/MapFilter.js","../../shared/components/Filters/RangeSlider.js","../../shared/components/Filters/ToggleApi.js","../../shared/components/Filters/ActionButton.js","components/Demo/Dashboard/FilterBarChildren.js","components/Demo/Dashboard/FilterBar.js","../../shared/components/Accessories/Loader.js","../../shared/components/Accessories/CodeFlyout.js","../../shared/components/Accessories/UserPermissionsModal.js","components/Demo/Dashboard/EmbeddedDashboardContainer.js","components/Demo/styles.js","components/Demo/Dashboard/Dashboard.js","config/Demo/HomeContent.js","config/Demo/TrendsContent.js","config/Demo/FlagsContent.js","config/Demo/ApplicationContent.js","config/Demo/HouseholdsContent.js","../../shared/components/NaturalLanguage.js","../../shared/components/PopularAnalysis.js","../../shared/components/styles.js","../../shared/components/PDFViewer.js","../../shared/components/EmbeddedExplore.js","../../shared/components/UserMenu.js","../../shared/components/TopBar.js","../../shared/components/BottomBar.js","../../shared/components/SplashPage.js","../../shared/components/SignIn.js","config/Demo/ExploreContent.js","config/Demo/PDFViewerContent.js","config/UserPermissionsContent.js","config/TopBarContent.js","config/SignInContent.js","components/Home/Home.js","App.js","serviceWorker.js","index.js","../../atom/src/contexts/AppContext.js","../../shared/utils/tools.js","contexts/AppContext.js"],"names":["module","exports","makeid","length","result","characters","charactersLength","i","charAt","Math","floor","random","validIdHelper","str","replace","prettifyString","frags","split","toUpperCase","slice","join","getUrlVars","url","hash","myJson","hashes","indexOf","decodeHtml","html","txt","document","createElement","innerHTML","value","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","PblSessionEmbed","options","accessToken","this","a","isAuthenticated","activeToken","setToken","fetchToken","settings","transport","BrowserTransport","AuthToken","fetch","token","access_token","isActive","json","props","getToken","mode","credentials","headers","Authorization","AuthSession","console","log","checkForExistingSession","method","Accept","sessionResponse","sessionResponseData","session","writeNewSession","newSession","body","JSON","stringify","newSessionResponse","newSessionResponseData","endSession","endSessionResponse","message","createSdkHelper","lookerBaseUrl","pblsession","DefaultSettings","base_url","Looker40SDK","checkToken","expires_in","Date","now","status","packageNameTheme","createMuiTheme","palette","primary","main","grey","secondary","fill","drawerWidth","useStyles","makeStyles","theme","root","display","backgroundColor","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","zIndex","appBarShift","width","marginLeft","easeOut","enteringScreen","menuButton","marginRight","spacing","hide","drawer","flexShrink","borderRight","drawerPaper","drawerHeader","alignItems","padding","mixins","toolbar","justifyContent","content","flexGrow","contentShift","title","tabs","divider","dNone","dBlock","relative","position","absolute","right0","right","top0","top","right24","top24","ml12","mr12","mt12","marginTop","highlightLegend","bottom","left","tree","height","maxWidth","parentHoverVisibility","visibility","childHoverVisibility","fontSize1em","fontSize","padding10","mt5","mb5","marginBottom","paper","background","border","boxShadow","shadows","list","nested","paddingLeft","mlAuto","mrAuto","appBarBottom","hidden","roundedTab","borderRadius","paddingBottom30","paddingBottom","mtAuto","mb10","modalPopover","overflow","modalCard","flexDirection","cursor","transform","index","require","LeftDrawer","DemoComponentsContentArr","classes","useContext","AppContext","drawerOpen","setDrawerOpen","Drawer","className","variant","anchor","open","IconButton","onClick","ChevronLeft","aria-label","MenuList","clientSession","selectedMenuItem","packageName","orderedDemoComponentsForMenu","_","orderBy","orderedDemoComponentsForMenuObj","expandedTreeItemsArr","cumulativePusher","item","hasOwnProperty","menuCategory","push","List","component","aria-labelledby","outerItem","outerIndex","Fragment","ListItem","ListItemText","capitalize","disablePadding","innerIndex","MatchingIconComponent","icon","button","selected","lowerCase","label","Link","to","ListItemIcon","Highlight","children","color","margin","style","appContextMap","highlightShow","ApiHighlight","Chip","size","align","EmbedHighlight","EmbedMethodHighlight","NumberToColoredPercent","val","positive_good","colors","abs_val","up","down","val_formatted","abs","toLocaleString","minimumFractionDigits","AutoComplete","filterItem","apiContent","action","bgColor","setDynamicSearch","Typography","Autocomplete","Array","isArray","renderOption","handleRenderOption","getOptionLabel","option","onChange","event","newValue","newValueToUse","filterName","renderInput","params","TextField","alternateName","loadingText","onInputChange","debounce","apiDrivenSearch","target","inputValue","matches","match","parts","parse","highlightStyle","fontWeight","part","highlight","text","trend","ToggleTile","tileToggleValue","handleTileToggle","ToggleButtonGroup","exclusive","tileLookUp","key","ToggleButton","ToggleVisColor","visColorToggleValue","handleVisColorToggle","dot","SwitchTheme","lightThemeToggleValue","handleThemeChange","Switch","checked","name","inputProps","SelectFont","fontThemeSelectValue","FormControl","formControl","InputLabel","Select","labelId","MenuItem","toLowerCase","CheckboxSVGMap","prototype","toggleLocation","location","setState","prevState","selectedLocations","regionFromStateClicked","find","locations","statesWithinRegionClicked","filter","region","allUniqueRegions","allUniqueRegionsFromSelectedLocations","j","regionsNotCurrentlySelected","differenceBy","allRegionsNotSelected","statesNotWithinRegionsClicked","attributes","componentDidMount","customUsa","Usa","lifetimeRevenueTierMap","lifetimeRevenueTierIconMap","SentimentDissatisfied","SentimentSatisfied","SentimentVerySatisfied","MapFilter","useState","regionValue","setRegionValue","heading","verticalAlignTop","allUniqueRegionsFromSelectedLocationsCommaSep","RangeSlider","sliderValue","setSliderValue","Slider","valueLabelDisplay","onChangeCommitted","min","max","disabled","ToggleApi","lifetimeRevenueTierValue","setLifetimeRevenueTierValue","w100","ageTier","Icon","w33","rand","round","getModalStyle","ActionButton","modalClasses","setOpen","modalStyle","Button","Modal","modal","onClose","Fade","in","FilterBarChildren","customFilterAction","horizontalLayout","lookerContent","type","Grid","container","filters","sm","FilterBar","staticContent","setHorizontalLayout","expanded","setExpanded","useEffect","Accordion","elevation","AccordionSummary","expandIcon","ExpandMore","aria-controls","VerticalSplit","HorizontalSplit","Menu","Box","AccordionDetails","Loader","Card","card","flexCentered","mt","CircularProgress","circularProgress","CodeFlyout","codeShow","setCodeShow","lookerUser","positionFixedTopRight","ClickAwayListener","onClickAway","padding20","codeFlyoutContainer","textAlign","CodeSnippet","language","dracula","showLineNumbers","UserPermissionsModal","payWallModal","setPaywallModal","handleSwitchLookerUser","React","permissionLevels","modalPermissionsMap","show","padding30","user_attributes","permission_level","CardContent","Rating","readOnly","fontStyle","Divider","dense","Check","CardActions","disableSpacing","fullWidth","borderColor","EmbeddedDashboardContainer","dynamicFieldLookUp","redPrimary","red","greenPrimary","green","redLight","greenLight","skeleton","minWidth","minHeight","minHeight680","maxHeight200","maxHeight","mt30","mb30","textCenter","cursorPointer","height800","maxHeight100","maxHeight400","minHeight200","redNeg","greenPos","opacity","overflowY","overflowX","verticalAlign","typography","pxToRem","fontWeightRegular","clip","Dashboard","sdk","corsApiCall","isReady","demoComponentType","iFrameExists","setIFrame","undefined","setApiContent","dashboardObj","setDashboardObj","dashboardOptions","setDashboardOptions","window","innerHeight","setHeight","setTileToggleValue","setVisColorToggleValue","setLightThemeToggleValue","setFontThemeSelectValue","expansionPanelHeight","setExpansionPanelHeight","dynamicVisConfigFilterItem","isThemeableDashboard","darkThemeBackgroundColor","useLocation","history","useHistory","paletteToUse","default","themeToUse","useMemo","dynamicTileFilterItem","filteredLayout","layouts","dashboard_layout_components","row","elements","dashboard_element_id","newDashboardLayout","setOptions","newColorSeries","newDashboardElements","vis_config","series_colors","innerKey","custom_color","map_value_colors","series_cell_visualizations","header_font_color","map_tile_provider","themeName","performLookerApiCalls","addEventListener","$","dynamicTheme","lookerContentItem","dashboardId","LookerEmbedSDK","createDashboardWithId","appendTo","withClassName","withNext","withTheme","withParams","on","dashboard","drillMenuClick","build","connect","then","modifiedBaseUrl","substring","lastIndexOf","init","catch","error","localStorage","debug","apiContentObj","inlineQuery","jsonQuery","desiredFilterName","brand","ok","run_inline_query","result_format","resultFormat","lookerResponseData","queryResultsForDropdown","desiredProperty","useCallback","newFilterValue","updateFilters","run","includes","pathname","search","cancel","queryString","ThemeProvider","padding15","height100Percent","HomeContent","HomeIcon","TrendsContent","TrendingUpIcon","FlagsConent","FlagIcon","ApplicationContent","AssignmentIndIcon","HouseholdsContent","PeopleIcon","lightGrey","topBarBottomBarHeight","validateContent","UserMenu","setClientSession","setIsReady","anchorEl","setAnchorEl","selectedBrand","setSelectedBrand","rowLevelAttribute","handleClose","property","zIndex1500","aria-haspopup","currentTarget","Avatar","alt","userProfile","src","imageUrl","keepMounted","Boolean","autoFocus","menuItemLabel","innerText","autoCompleteLabel","disableautofocus","onKeyDown","stopPropagation","TopBar","dynamicSearch","isSubscribed","retrieveAutocompleteOptions","response","autoComplteInfo","autocomplete","queryToUse","formattedLabel","field","toString","filterNamesUrlsMap","AppBar","clsx","Toolbar","edge","avatar","avatarStyle","encodeURIComponent","Badge","badgeContent","AddAlert","usermenu","BottomBar","setHighlightShow","startIcon","HighlightOutlined","Code","SignIn","initialUser","setSdk","logo","initialHref","setInitialHref","backgroundImage","logoStyle","backgroundImageStyle","responseGoogle","profileObj","lookerApiToken","api_user_token","googleClientId","process","signInCard","signInCardCopy","cardHeader","cardBody","clientId","buttonText","onSuccess","onFailure","cookiePolicy","ExploreContent","ExploreIcon","setExploreObj","lookerHost","schema","exploreId","qid","createExploreWithId","toggle","explore","overflowScroll","noContainerScroll","PDFViewerContent","PictureAsPdfIcon","pdf","pdfToUse","setPdfToUse","pdf_url","data","userTimeHorizonMap","TopBarContent","backgroundImageInt","SignInContent","Home","democomponent","useParams","didMountRef","useRef","innerWidth","setSelectedMenuItem","currentPermissionLevel","demoComponentsContentArr","demoComponent","requiredPermissionLevel","topBarContent","correspondingComponentContent","ActiveDemoComponent","newLookerUser","permissions","time_horizon","lookerUserResponse","lookerUserResponseData","func","args","res","returnValue","current","ActiveDemoComponentContent","Provider","CssBaseline","App","fetchSession","path","isSignedIn","exact","render","PrivateRoute","Component","rest","href","PublicRoute","demoComponentMap","startCase","urlToUse","initialHrefArr","lastTwoHrefArr","lastOneHrefArr","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","createContext","AppContextAtom","AppContextVision","object","errors","forEach"],"mappings":"mFAAAA,EAAOC,QAAU,CACfC,OAAQ,SAACC,GAIP,IAHA,IAAIC,EAAS,GACTC,EAAa,iEACbC,EAAmBD,EAAWF,OACzBI,EAAI,EAAGA,EAAIJ,EAAQI,IAC1BH,GAAUC,EAAWG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAEzD,OAAOF,GAITQ,cAAe,SAACC,GAId,OAAOA,EAAIC,QAAQ,mBAAoB,KAGzCC,eAAgB,SAACF,GACf,IAAIN,EAAGS,EAAQH,EAAII,MAAM,KACzB,IAAKV,EAAI,EAAGA,EAAIS,EAAMb,OAAQI,IAC5BS,EAAMT,GAAKS,EAAMT,GAAGC,OAAO,GAAGU,cAAgBF,EAAMT,GAAGY,MAAM,GAE/D,OAAOH,EAAMI,KAAK,MAGpBC,WAAY,SAACC,GAIX,IAHA,IAAIC,EACAC,EAAS,GACTC,EAASH,EAAIH,MAAMG,EAAII,QAAQ,KAAO,GAAGT,MAAM,KAC1CV,EAAI,EAAGA,EAAIkB,EAAOtB,OAAQI,IAEjCiB,GADAD,EAAOE,EAAOlB,GAAGU,MAAM,MACX,IAAMM,EAAK,GAIzB,OAAOC,GAETG,WAAY,SAACC,GACX,IAAIC,EAAMC,SAASC,cAAc,YAEjC,OADAF,EAAIG,UAAYJ,EACTC,EAAII,S,kCC1Cf,OAAe,cAA0B,kC,kCCAzC,OAAe,cAA0B,uC,qBCAzC,IAAIC,EAAM,CACT,oBAAqB,KACrB,oBAAqB,KACrB,oBAAqB,KACrB,oBAAqB,MAItB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBtC,EAAOC,QAAUkC,EACjBA,EAAeE,GAAK,M,kCCzBpB,OAAe,cAA0B,yC,kCCAzC,OAAe,cAA0B,yC,kCCAzC,OAAe,cAA0B,yC,kCCAzC,OAAe,cAA0B,yC,6jBCoC5BU,EAAb,kDAIE,WAAYC,GAAU,IAAD,8BACnB,cAAMA,IACDC,YAAcD,EAAQC,YAFR,EAJvB,8CASE,WACE,OAAOC,KAAKD,cAVhB,6DAaE,sBAAAE,EAAA,6DACOD,KAAKE,mBACRF,KAAKG,YAAYC,SAASJ,KAAKK,cAFnC,kBAISL,KAAKG,aAJd,gDAbF,2DAlCA,kDAKE,WAAYG,EAAUC,GAAY,IAAD,8BAC/B,cAAMD,EAAUC,GAAa,IAAIC,mBAAiBF,KAFpDH,YAAc,IAAIM,YACe,EALnC,8CACE,WACE,OAAOC,MAAM,MAFjB,6BAQE,WACE,IAAMC,EAAQX,KAAKG,YACnB,SAAMQ,IAASA,EAAMC,eACdD,EAAME,aAXjB,6DAaE,4BAAAZ,EAAA,yDACOD,KAAKE,kBADZ,gCAEwBF,KAAKK,aAF7B,cAEUM,EAFV,YAGIX,KAAKG,YAHT,SAGoCQ,EAAMG,OAH1C,wBAGqBV,SAHrB,gDAKSJ,KAAKG,aALd,iDAbF,uHAoBE,WAAmBY,GAAnB,eAAAd,EAAA,sEACsBD,KAAKgB,WAD3B,cACQL,EADR,SAEeA,EAAMC,eACjBG,EAAME,KAAO,cACNF,EAAMG,YACbH,EAAMI,QAAN,2BACKJ,EAAMI,SADX,IAEEC,cAAc,UAAD,OAAYpB,KAAKG,YAAYS,iBAPhD,kBAUSG,GAVT,gDApBF,4DAAgCM,gBCAhCC,QAAQC,IAAI,CAAE1B,oBAEP,IAAM2B,EAAuB,uCAAG,8BAAAvB,EAAA,sEAETS,MAAM,eAAgB,CAChDe,OAAQ,MACRN,QAAS,CACPO,OAAQ,mBACR,eAAgB,sBANiB,cAEjCC,EAFiC,gBASHA,EAAgBb,OATb,cAS/Bc,EAT+B,yBAU9B,CAAEC,QAASD,EAAoBC,UAVD,2CAAH,qDAavBC,EAAe,uCAAG,WAAOC,GAAP,iBAAA9B,EAAA,sEAEES,MAAM,gBAAiB,CACpDe,OAAQ,OACRN,QAAS,CACPO,OAAQ,mBACR,eAAgB,oBAElBM,KAAMC,KAAKC,UAAL,eAAoBH,MARC,cAEzBI,EAFyB,gBAUQA,EAAmBrB,OAV3B,cAUvBsB,EAVuB,yBAWtB,CAAEP,QAASO,EAAuBP,UAXZ,2CAAH,sDAcfQ,EAAU,uCAAG,4BAAApC,EAAA,sEAEOS,MAAM,cAAe,CAClDe,OAAQ,OACRN,QAAS,CACPO,OAAQ,mBACR,eAAgB,sBANI,cAEpBY,EAFoB,gBASaA,EAAmBxB,OAThC,uCAUjB,CAAEyB,QAASD,IAVM,2CAAH,qDAaVE,EAAkB,SAAC,GAAoC,IAAlCzC,EAAiC,EAAjCA,YAAa0C,EAAoB,EAApBA,cAK7C,GAAI1C,GAAe0C,EAAe,CAChC,IAAMC,EAAa,IAAI7C,EAAJ,2BACd8C,6BADc,IAEjBC,SAAUH,EACV1C,iBAIF,OADU,IAAI8C,cAAYH,KAMjBI,EAAU,uCAAG,WAAOC,GAAP,SAAA9C,EAAA,2DAOnB+C,KAAKC,MAASF,GAPK,yCAqBf,CAAEG,OAAQ,YArBK,gCAyBf,CAAEA,OAAQ,OAzBK,2CAAH,sD,2IC3DVC,EAAmBC,YAAe,CAC7CC,QAAS,CACPC,QAAS,CACPC,KAAMC,IAAK,MAEbC,UAAW,CACTF,KAAMC,IAAK,MAEbE,KAAM,CACJH,KAAM,c,UCTNI,EAAc,IACPC,EAAYC,aAAW,SAAAC,GAAK,MAAK,CAC5CC,KAAM,CACJC,QAAS,OACTC,gBAAiB,sBAEnBC,OAAQ,CACNC,WAAYL,EAAMM,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQR,EAAMM,YAAYE,OAAOC,MACjCC,SAAUV,EAAMM,YAAYI,SAASC,gBAEvCC,OAAQ,KACRT,gBAAiBd,EAAiBE,QAAQK,KAAKH,MAEjDoB,YAAa,CACXC,MAAM,eAAD,OAAiBjB,EAAjB,OACLkB,WAAYlB,EACZQ,WAAYL,EAAMM,YAAYC,OAAO,CAAC,SAAU,SAAU,CACxDC,OAAQR,EAAMM,YAAYE,OAAOQ,QACjCN,SAAUV,EAAMM,YAAYI,SAASO,kBAGzCC,WAAY,CACVC,YAAanB,EAAMoB,QAAQ,IAE7BC,KAAM,CACJnB,QAAS,QAEXoB,OAAQ,CACNR,MAAOjB,EACP0B,WAAY,EACZC,YAAa,OACbrB,gBAAiB,eAEnBsB,YAAa,CACXX,MAAOjB,EACP2B,YAAa,OACbrB,gBAAiB,eAEnBuB,aAAa,yBACXxB,QAAS,OACTyB,WAAY,SACZC,QAAS5B,EAAMoB,QAAQ,EAAG,IAEvBpB,EAAM6B,OAAOC,SALN,IAMVC,eAAgB,aAIlBC,QAAS,CACPC,SAAU,EACVL,QAAS5B,EAAMoB,QAAQ,GACvBf,WAAYL,EAAMM,YAAYC,OAAO,SAAU,CAC7CC,OAAQR,EAAMM,YAAYE,OAAOC,MACjCC,SAAUV,EAAMM,YAAYI,SAASC,gBAEvCI,YAAY,KAEdmB,aAAc,CACZ7B,WAAYL,EAAMM,YAAYC,OAAO,SAAU,CAC7CC,OAAQR,EAAMM,YAAYE,OAAOQ,QACjCN,SAAUV,EAAMM,YAAYI,SAASO,iBAEvCF,WAAY,GAEdoB,MAAO,CACLF,SAAU,GAEZG,KAAM,CACJZ,YAAY,aAAD,OAAexB,EAAMT,QAAQ8C,UAE1CC,MAAO,CACLpC,QAAS,QAEXqC,OAAQ,CACNrC,QAAS,SAEXsC,SAAU,CACRC,SAAU,YAEZC,SAAU,CACRD,SAAU,YAEZE,OAAQ,CACNC,MAAO,GAETC,KAAM,CACJC,IAAK,GAEPC,QAAS,CACPH,MAAO,IAETI,MAAO,CACLF,IAAK,IAEPG,KAAM,CACJlC,WAAY,IAEdmC,KAAM,CACJ/B,YAAa,IAEfgC,KAAM,CACJC,UAAW,IAEbC,gBAAiB,CACfZ,SAAU,QACVa,OAAQtD,EAAMoB,QAAQ,GACtBmC,KAAMvD,EAAMoB,QAAQ,GACpBR,OAAQ,MAEV4C,KAAM,CACJC,OAAQ,IACRxB,SAAU,EACVyB,SAAU,KAEZC,sBAAuB,CACrB,gCAAiC,CAC/BC,WAAY,YAIhBC,qBAAsB,CACpBD,WAAY,UAEdE,YAAa,CACXC,SAAU,OAEZC,UAAW,CACTpC,QAAS,IAEXqC,IAAK,CACHb,UAAW,GAEbc,IAAK,CACHC,aAAc,GAEhBC,MAAO,CACLjE,gBAAiBH,EAAMT,QAAQ8E,WAAWD,MAC1CE,OAAQ,iBACRC,UAAWvE,EAAMwE,QAAQ,GACzB5C,QAAS5B,EAAMoB,QAAQ,EAAG,EAAG,IAE/BqD,KAAM,CACJ3D,MAAO,OACP4C,SAAU,IACVvD,gBAAiB,eAGnBuE,OAAQ,CACNC,YAAa3E,EAAMoB,QAAQ,IAE7BwD,OAAQ,CACN7D,WAAY,QAEd8D,OAAQ,CACN1D,YAAa,QAEf2D,aAAc,CACZhC,IAAK,OACLQ,OAAQ,GAGVyB,OAAQ,CACNnB,WAAY,UAEdoB,WAAY,CACVC,aAAc,mBAEhBC,gBAAiB,CACfC,cAAe,IAEjBC,OAAQ,CACNhC,UAAW,QAEbiC,KAAM,CACJlB,aAAc,IAEhBmB,aAAc,CACZ7C,SAAU,WACV3B,MAAO,IACP2C,OAAQ,IACR8B,SAAU,SACVpF,gBAAiBH,EAAMT,QAAQ8E,WAAWD,MAC1CxC,QAAS5B,EAAMoB,QAAQ,EAAG,EAAG,IAE/BoE,UAAW,CACTtF,QAAS,OACTuF,cAAe,SACf1D,eAAgB,gBAChBwD,SAAU,SACVG,OAAQ,UACR,UAAW,CACTC,UAAW,cACXtF,WAAY,qBAGd,CAAEuF,MAAO,I,OC/LLhM,EAAkBiM,EAAQ,KAA1BjM,cAEO,SAASkM,EAAT,GAAmD,IAA7BC,EAA4B,EAA5BA,yBAG7BC,EAAUlG,IAH+C,EAIxBmG,qBAAWC,KAA1CC,EAJuD,EAIvDA,WAAYC,EAJ2C,EAI3CA,cAEpB,OACE,eAACC,EAAA,EAAD,CACEC,UAAWN,EAAQ1E,OACnBiF,QAAQ,aACRC,OAAO,OACPC,KAAMN,EACNH,QAAS,CACP5B,MAAO4B,EAAQvE,aANnB,UASE,qBAAK6E,UAAWN,EAAQtE,aAAxB,SACE,cAACgF,EAAA,EAAD,CACEC,QAAS,kBAAMP,GAAc,IAD/B,SAEE,cAACQ,EAAA,EAAD,CACEC,aAAW,qBAKjB,cAACC,EAAD,CACEd,QAASA,EACTD,yBAA0BA,OAMlC,SAASe,EAAT,GAA0D,IAAtCd,EAAqC,EAArCA,QAASD,EAA4B,EAA5BA,yBAA4B,EAEXE,qBAAWC,KAA/Ca,EAF+C,EAE/CA,cAAeC,EAFgC,EAEhCA,iBACfC,EAAgBF,EAAhBE,YAEJC,EAA+BD,EAAcE,IAAEC,QAAQrB,EAA0B,CAAC,gBAAiB,CAAC,QAAU,GAC9GsB,EAAkC,GAClCC,EAAuB,GACvBC,EAAmB,EAWvB,OAVAL,EAA6BhM,KAAI,SAACsM,EAAM5B,GAClCyB,EAAgCI,eAAeD,EAAKE,cACtDL,EAAgCG,EAAKE,cAArC,sBAAyDL,EAAgCG,EAAKE,eAA9F,CAA6GF,KAE7GH,EAAgCG,EAAKE,cAAgB,CAACF,GACtDD,GAAoB,EACpBD,EAAqBK,KAAK,IAAM/B,EAAQ2B,QAIpC,cAACK,EAAA,EAAD,CACNC,UAAU,MACVC,kBAAgB,wBAChBxB,UAAWN,EAAQvB,KAHb,SAKLwC,EAAcpL,OAAOD,KAAKyL,GAAiCnM,KAAI,SAAC6M,EAAWC,GAC1E,OACE,eAAE,IAAMC,SAAR,WAEE,cAACC,EAAA,EAAD,UAGE,cAACC,EAAA,EAAD,CAAc3I,QAAuB,SAAduI,EAAuB,GAAKZ,IAAEiB,WAAWL,MAHlE,UACUnO,EAAcmO,EAAY,kBAAoBC,KAIxD,cAAEJ,EAAA,EAAF,CAAOC,UAAU,MAAMQ,gBAAc,EAArC,SAEGhB,EAAgCU,GAAW7M,KAAI,SAACsM,EAAMc,GACrD,IAAMC,EAAwBf,EAAKgB,KACnC,OACE,eAACN,EAAA,EAAD,CACEO,QAAM,EACNnC,UAAS,UAAKN,EAAQtB,OAAb,YAAuBsB,EAAQhB,YAExC0D,SAAU9O,EAAcuN,IAAEwB,UAAUnB,EAAKoB,UAAY5B,EACrDa,UAAWgB,IACXC,GAAIlP,EAAcuN,IAAEwB,UAAUnB,EAAKoB,QANrC,UAQE,cAACG,EAAA,EAAD,UACGR,EAAwB,cAACA,EAAD,IAA4B,+BAEvD,cAACJ,EAAA,EAAD,CAAc3I,QAAS2H,IAAEiB,WAAWZ,EAAKoB,WAX3C,UAGUhP,EAAcmO,EAAY,kBAAoBO,SAR9D,UACU1O,EAAcmO,EAAY,cAAgBC,OARtD,UACUpO,EAAcmO,EAAY,aAAeC,QA6BlD,K,oNCvFT,SAASgB,GAAT,GAA+F,IAA1EC,EAAyE,EAAzEA,SAAUC,EAA+D,EAA/DA,MAAOzF,EAAwD,EAAxDA,OAAQ3C,EAAgD,EAAhDA,MAAOqI,EAAyC,EAAzCA,OAAQ9N,EAAiC,EAAjCA,GAAI8E,EAA6B,EAA7BA,gBAE3DiJ,GAFwF,qFAEhF,IAqBZ,OAnBEA,EAHwBnD,qBAAWoD,iBAAa,QAA1CC,cAGD,2BACAF,GADA,IAEH9E,OAAO,aAAD,OAAe4E,GACrB/I,gBAAgB,GAAD,OAAKA,GACpB8E,aAAa,MACbxC,SAAU,aAGJ,CACN6B,OAAO,wBACPnE,gBAAgB,eAIhBsD,IAAU2F,EAAK,OAAa3F,GAC5B3C,IAASsI,EAAK,MAAYtI,GAC1BqI,IAAUC,EAAK,OAAaD,GAI9B,qBAAK9N,GAAIA,EAAI+N,MAAOA,EAApB,SAGGH,IAKA,SAASM,GAAT,GAAqC,IAAVtM,EAAS,oBACjCqM,EAAkBrD,qBAAWoD,iBAAa,QAA1CC,cACAtD,EAAY/I,EAAZ+I,QACAiD,EAAahM,EAAbgM,SAER,OAAO,eAACD,GAAD,2BAAe/L,GAAf,IAAsBiM,MA5CN,UA4CwB/I,gBA3Cb,0BA2C3B,UAEL,cAACqJ,GAAA,EAAD,CAAMC,KAAK,QACTb,MAAO,MACPtC,UAAWgD,EAAgB,OAAH,UAAetD,EAAQjB,QAC/C7E,QAAQ,SACRwJ,MAAM,QACNN,MAAO,CAAEjJ,gBAAiB,UAAW+I,MAAO,OAAQpG,IAAK,QAASF,MAAO,OAAQH,SAAU,cAE5FwG,MAKE,SAASU,GAAT,GAAuC,IAAV1M,EAAS,oBACnCqM,EAAkBrD,qBAAWoD,iBAAa,QAA1CC,cAEAtD,EAAY/I,EAAZ+I,QACAiD,EAAahM,EAAbgM,SAER,OAAO,eAACD,GAAD,2BAAe/L,GAAf,IAAsBiM,MA9DJ,UA8DwB/I,gBA7Db,0BA6D7B,UAEL,cAACqJ,GAAA,EAAD,CAAMC,KAAK,QACTb,MAAO,QACPtC,UAAWgD,EAAgB,OAAH,UAAetD,EAAQjB,QAC/C7E,QAAQ,SACRwJ,MAAM,QACNN,MAAO,CACLjJ,gBAAiB,UACjB+I,MAAO,OACPpG,IAAK,QACLF,MAAO,OACPH,SAAU,cAGbwG,MAKE,SAASW,GAAT,GAA6C,IAAV3M,EAAS,oBACzCqM,EAAkBrD,qBAAWoD,iBAAa,QAA1CC,cACAtD,EAAY/I,EAAZ+I,QACAiD,EAAahM,EAAbgM,SAER,OAAO,eAACD,GAAD,2BAAe/L,GAAf,IAAsBiM,MArFG,UAqFwB/I,gBApFb,0BAoFpC,UAEL,cAACqJ,GAAA,EAAD,CAAMC,KAAK,QACTb,MAAO,eACPtC,UAAWgD,EAAgB,OAAH,UAAetD,EAAQjB,QAC/C7E,QAAQ,SACRwJ,MAAM,QACNN,MAAO,CACLjJ,gBAAiB,UACjB+I,MAAO,OACPpG,IAAK,QACLF,MAAO,OACPH,SAAU,cAGbwG,MC3GE,SAASY,GAAT,GAAkE,IAAhCC,EAA+B,EAA/BA,IAAKC,EAA0B,EAA1BA,cACtCC,GADgE,EAAXC,QAC5C,CACbC,GAAKH,EAAiB,QAAU,MAChCI,KAAOJ,EAAiB,MAAQ,UAE5Bb,EAASY,EAAM,EAAKE,EAAOG,KAAQL,EAAM,EAAKE,EAAOE,GAAK,QAC1DE,EAAgB3Q,KAAK4Q,IAAIP,GAAKQ,eAAe,KAAM,CAAElB,MAAO,UAAWmB,sBAAuB,IAC9F/B,EAAQsB,EAAM,EAAK,SAAOA,EAAM,EAAK,SAAM,SAEjD,OAAQ,mCACN,sBACEZ,MAAOA,EADT,mBAGMV,EAHN,YAGc4B,O,8CCLVxQ,GAAkBiM,EAAQ,IAA1BjM,cAEK4Q,GAAe,SAAC,GAA4E,IAA1EC,EAAyE,EAAzEA,WAAYC,EAA6D,EAA7DA,WAAY1E,EAAiD,EAAjDA,QAAS2E,EAAwC,EAAxCA,OAAQC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,iBAK/E,OACEJ,EACE,eAAClB,GAAD,CAEEvD,QAASA,EAFX,UAGE,cAAC8E,GAAA,EAAD,UACGL,EAAW7B,MAAQ6B,EAAW7B,MAAQ,KAEzC,cAACmC,GAAA,EAAD,CACE1P,GAAE,8BAAyBoP,EAAW7B,OACtC5M,QAASgP,MAAMC,QAAQP,GACrBA,EACA,GACFQ,aAAcC,GACdC,eAAgB,SAACC,GAAD,OAAYA,EAAOzC,OACnC0C,SAAU,SAACC,EAAOC,GAChB,IAAIC,EAAgB,GAChBD,GAAYA,EAASvQ,MAAOwQ,EAAgBD,EAASvQ,MAChDuQ,GAAYA,EAAS5C,QAAO6C,EAAgBD,EAAS5C,OAC9D+B,EACEF,EAAWiB,WACXD,IAEJE,YAAa,SAACC,GAAD,OAAY,cAACC,GAAA,EAAD,2BAAeD,GAAf,IACvBhD,MAAO6B,EAAWqB,cAAgBrB,EAAWqB,cAAgBrB,EAAWiB,WACxEnF,QAAQ,eAEVwF,YAAY,aACZ3C,MAAO,CACLjJ,gBAAiByK,GAAW,IAE9BoB,cAAe7E,KAAE8E,UAAS,SAACV,GACrBd,EAAWyB,iBAAmBX,EAAMY,OAAOlR,OAAO4P,EAAiBU,EAAMY,OAAOlR,SACnF,SA9BArB,GAAc,aAAD,OAAc6Q,EAAW7B,SAiC3B,IAIlBuC,GAAqB,SAACE,EAAD,GAA6B,IAAlBe,EAAiB,EAAjBA,WAC9BC,EAAUC,KAAMjB,EAAOzC,MAAOwD,GAC9BG,EAAQC,KAAMnB,EAAOzC,MAAOyD,GAE5BI,EAAiB,CACrBC,WAAY,IACZvM,gBAAiB,cACjByB,QAAS,WAGX,OACE,gCACG2K,EAAMrR,KAAI,SAACyR,EAAM/G,GAAP,OACT,sBAAkBwD,MAAOuD,EAAKC,UAAYH,EAAiB,GAA3D,SACGE,EAAKE,MADGjH,MAIZyF,EAAOyB,OACN,cAACjD,GAAD,CACEC,IAAKuB,EAAOyB,MACZ/C,eAAe,EACfE,QAASxQ,KAAK4Q,IAAIgB,EAAOyB,a,sBCzE3BlT,GAAkBiM,EAAQ,IAA1BjM,cAGKmT,GAAa,SAAC,GAAgE,IAA9D/G,EAA6D,EAA7DA,QAASgH,EAAoD,EAApDA,gBAAiBC,EAAmC,EAAnCA,iBAAkBxC,EAAiB,EAAjBA,WACvE,OAEE,eAACb,GAAD,CAAsB5D,QAASA,EAA/B,UACE,cAAC8E,GAAA,EAAD,UAEGL,EAAW7B,QAEd,cAACsE,GAAA,EAAD,CACEjS,MAAO+R,EACPG,WAAS,EACT7B,SAAU2B,EACVpG,aAAW,iBAJb,SAMGhL,OAAOD,KAAK6O,EAAW2C,YAAYlS,KAAI,SAAAmS,GACtC,OACE,cAACC,GAAA,EAAD,CAEErS,MAAOoS,EACPxG,aAAW,eAHb,SAIGwG,GAHIzT,GAAc,yBAAD,OAA0ByT,cCpBlDzT,GAAkBiM,EAAQ,IAA1BjM,cAGK2T,GAAiB,SAAC,GAAwE,IAAtEvH,EAAqE,EAArEA,QAASwH,EAA4D,EAA5DA,oBAAqBC,EAAuC,EAAvCA,qBAAsBhD,EAAiB,EAAjBA,WACnF,OAEE,eAACb,GAAD,CAAsB5D,QAASA,EAA/B,UACE,cAAC8E,GAAA,EAAD,UACEL,EAAW7B,QACb,cAACsE,GAAA,EAAD,CACEjS,MAAOuS,EACPL,WAAS,EACT7B,SAAUmC,EACV5G,aAAW,iBAJb,SAMGhL,OAAOD,KAAK6O,EAAWT,QAAQ9O,KAAI,SAAAmS,GAClC,OACE,cAACC,GAAA,EAAD,CAEErS,MAAOoS,EAAKxG,aAAW,eAFzB,SAGE,sBAAMP,UAAS,UAAKN,EAAQ0H,KAAOtE,MAAO,CACxCjJ,gBAAkBsK,EAAWT,OAAOqD,GAAK5C,EAAWT,OAAOqD,GAAKlU,OAAS,IACpEkU,MAJFzT,GAAc,8BAAD,OAA+ByT,c,WClBlDM,GAAc,SAAC,GAA2D,IAAzD3H,EAAwD,EAAxDA,QAAS4H,EAA+C,EAA/CA,sBAAuBC,EAAwB,EAAxBA,kBAC5D,OACE,eAAClE,GAAD,CAAgB3D,QAASA,EAAzB,UACE,cAAC8E,GAAA,EAAD,UACE8C,EAAwB,aAAe,cAEzC,cAACE,GAAA,EAAD,CACEC,SAAUH,EACVtC,SAAU,kBAAMuC,EAAkB,MAAOD,IACzC1E,MAAM,UACN8E,KAAK,qBACLC,WAAY,CAAE,aAAc,0B,4CCb5BrU,GAAkBiM,EAAQ,IAA1BjM,cAGKsU,GAAa,SAAC,GAAsE,IAApElI,EAAmE,EAAnEA,QAASmI,EAA0D,EAA1DA,qBAAsBN,EAAoC,EAApCA,kBAAmBpD,EAAiB,EAAjBA,WAC7E,OACE,cAACd,GAAD,CAAgB3D,QAASA,EAAzB,SACE,eAACoI,GAAA,EAAD,CAAa9H,UAAWN,EAAQqI,YAAhC,UACE,cAACC,GAAA,EAAD,CAAYjT,GAAG,2BAAf,SACEoP,EAAW7B,QACb,cAAC2F,GAAA,EAAD,CACEC,QAAQ,2BACRnT,GAAG,qBACHJ,MAAOkT,EACP7C,SAAU,SAACC,GACTsC,EAAkB,KAAMtC,EAAMY,OAAOlR,QALzC,SAQGwP,EAAWzO,QAAQd,KAAI,SAAAsM,GACtB,OAAO,eAAEiH,GAAA,EAAF,CAELxT,MAAOuM,EAAKkH,cAFP,cAEyBlH,IADzB5N,GAAc,gBAAD,OAAiB4N,gB,iBCjBjDmH,kBAAeC,UAAUC,eAAiB,SAAwBtD,GAAQ,IAAD,OACjEuD,EAAWvD,EAAMY,OAIvBjQ,KAAK6S,UAAS,SAAAC,GAcZ,IAXA,IAAIC,EAAiB,YAAOD,EAAUC,mBAKlCC,EAAyB/H,KAAEgI,KAAK,EAAKlS,MAAM/B,IAAIkU,UAAW,CAAE/T,GAAIyT,EAASzT,KAEzEgU,EAA4BlI,KAAEmI,OAAO,EAAKrS,MAAM/B,IAAIkU,UAAW,CAAEG,OAAQL,EAAuBK,SAGhGC,EAAmB,GACdjW,EAAI,EAAGA,EAAI,EAAK0D,MAAM/B,IAAIkU,UAAUjW,OAAQI,KACkB,GAAjEiW,EAAiB9U,QAAQ,EAAKuC,MAAM/B,IAAIkU,UAAU7V,GAAGgW,SACvDC,EAAiB7H,KAAK,EAAK1K,MAAM/B,IAAIkU,UAAU7V,GAAGgW,QAKtD,IADA,IAAIE,EAAwC,GACnCC,EAAI,EAAGA,EAAIT,EAAkB9V,OAAQuW,KACuC,GAA/ED,EAAsC/U,QAAQuU,EAAkBS,GAAGH,SACrEE,EAAsC9H,KAAKsH,EAAkBS,GAAGH,QAIpE,IAUO,EAVHI,EAA8BxI,KAAEyI,aAAaJ,EAAkBC,GAC/DI,EAAqB,sBAAOF,GAAP,CAAoCT,EAAuBK,SAEhFO,EAAgC3I,KAAEmI,OAAO,EAAKrS,MAAM/B,IAAIkU,WAAW,SAACN,GACtE,OAA0D,GAAnDe,EAAsBnV,QAAQoU,EAASS,WAGE,SAA9CT,EAASiB,WAAW,gBAAgB9U,MAEtCgU,EAAoBa,GAGpB,EAAAb,GAAkBtH,KAAlB,oBAA0B0H,IAS5B,OALI,EAAKpS,MAAMqO,UACb,EAAKrO,MAAMqO,SAAS2D,GAIf,CAAEA,yBAIbN,kBAAeC,UAAUoB,kBAAoB,WAE3C9T,KAAK6S,SAAS,CAAEE,kBAAmB/S,KAAKe,MAAM/B,IAAIkU,a,+CC3DvCa,GAAS,2BACjBC,MADiB,IAEpBtH,MAAO,mBACPwG,UAAWc,KAAId,UAAUlU,KAAI,SAAA4T,GAE3B,OAAQA,EAASd,MAEf,IAAK,cACL,IAAK,QACL,IAAK,gBACL,IAAK,gBACL,IAAK,eACL,IAAK,UACL,IAAK,aACL,IAAK,WACL,IAAK,eACL,IAAK,WACH,OAAO,2BAAKc,GAAZ,IAAsBS,OAAQ,cAEhC,IAAK,WACL,IAAK,UACL,IAAK,WACL,IAAK,OACL,IAAK,YACL,IAAK,OACL,IAAK,SACL,IAAK,YACL,IAAK,WACL,IAAK,WACL,IAAK,eACL,IAAK,eACH,OAAO,2BAAKT,GAAZ,IAAsBS,OAAQ,YAEhC,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,iBACL,IAAK,iBACL,IAAK,WACL,IAAK,uBACL,IAAK,iBACL,IAAK,gBACL,IAAK,UACL,IAAK,WACL,IAAK,cACL,IAAK,YACL,IAAK,WACL,IAAK,YACL,IAAK,WACL,IAAK,QACH,OAAO,2BAAKT,GAAZ,IAAsBS,OAAQ,UAEhC,IAAK,UACL,IAAK,WACL,IAAK,QACL,IAAK,UACL,IAAK,SACL,IAAK,aACL,IAAK,OACL,IAAK,UACH,OAAO,2BAAKT,GAAZ,IAAsBS,OAAQ,aAEhC,IAAK,SACL,IAAK,aACL,IAAK,SACL,IAAK,SACL,IAAK,aACH,OAAO,2BAAKT,GAAZ,IAAsBS,OAAQ,kBAMzBY,GAAyB,CACpC,UAAW,MACX,aAAc,SACd,eAAgB,QAELC,GAA6B,CACxC,UAAWC,KACX,aAAcC,KACd,eAAgBC,MCjFV3W,GAAkBiM,EAAQ,IAA1BjM,cAGD,SAAS4W,GAAT,GAAqD,IAAhCxK,EAA+B,EAA/BA,QAAS2E,EAAsB,EAAtBA,OAAQF,EAAc,EAAdA,WAAc,EAEnBgG,mBAAS,gDAFU,mBAElDC,EAFkD,KAErCC,EAFqC,KAIzD,OACE,eAAC/G,GAAD,CAAsB5D,QAASA,EAA/B,UAEE,eAAC8E,GAAA,EAAD,CAAYxE,UAAS,UAAKN,EAAQ4K,QAAb,YAAwB5K,EAAQ/C,KAAhC,aAAyC+C,EAAQ6K,kBAAtE,UAEGpG,EAAW7B,MAFd,KAEsB,4BAAI8H,GAA4B,kBAGtD,cAAC,kBAAD,CAAgBxV,IAAK+U,GACnB3E,SAAU,SAAC8D,GAGT,IADA,IAAIK,EAAwC,GACnCC,EAAI,EAAGA,EAAIN,EAAUjW,OAAQuW,KACuC,GAAvED,EAAsC/U,QAAQ0U,EAAUM,GAAGH,SAC7DE,EAAsC9H,KAAKyH,EAAUM,GAAGH,QAG5D,IAAIuB,EAAgDrB,EAAsCrV,KAAK,KAC/FuW,EAAeG,GACfnG,EACEF,EAAWiB,WACVgF,GAA6B,SAnB/B9W,GAAc,aAAD,OAAc6Q,EAAW7B,S,eCXzChP,GAAkBiM,EAAQ,IAA1BjM,cAGKmX,GAAc,SAAC,GAAiD,IAA/CrG,EAA8C,EAA9CA,WAAY1E,EAAkC,EAAlCA,QAAS2E,EAAyB,EAAzBA,OAAQF,EAAiB,EAAjBA,WAAiB,EAEpCgG,mBAAS,IAF2B,mBAEnEO,EAFmE,KAEtDC,EAFsD,KAI1E,OACE,eAACrH,GAAD,CAAsB5D,QAASA,EAA/B,UAEE,eAAC8E,GAAA,EAAD,CAAYxE,UAAS,UAAKN,EAAQ4K,QAAb,YAAwB5K,EAAQ/C,KAAhC,aAAyC+C,EAAQ6K,kBAAtE,UACGpG,EAAW7B,MADd,OAGA,cAACsI,GAAA,EAAD,CACEjW,MAAO+V,EAAY7X,OAAS6X,EAAchG,MAAMC,QAAQP,GAAc,CAACA,EAAW,GAAG9B,MAAO8B,EAAWA,EAAWvR,OAAS,GAAGyP,OAAS,GACvI0C,SAAU,SAACC,EAAOC,GAChByF,EAAezF,IAEjB2F,kBAAkB,OAClBrJ,kBAAgB,eAChBsJ,kBAAmB,SAAC7F,EAAOC,GACzBb,EACEF,EAAWiB,WACVF,EAAD,WAAiBA,EAAjB,KAA+B,OAEnC6F,IAAKrG,MAAMC,QAAQP,IAAeA,EAAWvR,OAASuR,EAAW,GAAG9B,MAAQ,EAC5E0I,IAAKtG,MAAMC,QAAQP,IAAeA,EAAWvR,OAASuR,EAAWA,EAAWvR,OAAS,GAAGyP,MAAQ,EAChG2I,UAAUvG,MAAMC,QAAQP,KAAeA,EAAWvR,WAlB/CS,GAAc,aAAD,OAAc6Q,EAAW7B,UCNzChP,GAAkBiM,EAAQ,IAA1BjM,cAEK4X,GAAY,SAAC,GAAiD,IAA/C9G,EAA8C,EAA9CA,WAAY1E,EAAkC,EAAlCA,QAAS2E,EAAyB,EAAzBA,OAAQF,EAAiB,EAAjBA,WAAiB,EAERgG,mBAAS,QAFD,mBAEjEgB,EAFiE,KAEvCC,EAFuC,KAGxE,OACE,eAAC9H,GAAD,CAAsB5D,QAASA,EAA/B,UAEE,eAAC8E,GAAA,EAAD,CAAYxE,UAAS,UAAKN,EAAQ4K,QAAb,YAAwB5K,EAAQ/C,KAAhC,aAAyC+C,EAAQ6K,kBAAtE,UAEGpG,EAAW7B,MAFd,OAIA,cAACsE,GAAA,EAAD,CACEjS,MAAOwW,EACPtE,WAAS,EACT7B,SAAU,SAACC,EAAOC,GAChBkG,EAA4BlG,GAC5Bb,EACEF,EAAWiB,WACVF,GAAuB,KAE5B3E,aAAW,UACXP,UAAWN,EAAQ2L,KAVrB,SAWG3G,MAAMC,QAAQP,GAAcA,EAAWxP,KAAI,SAAC0W,EAAShM,GACpD,GAAsB,cAAlBgM,EAAQhJ,MAAuB,CACjC,IAAMiJ,EAAOzB,GAA2BwB,EAAQhJ,OAChD,OACE,eAAC0E,GAAA,EAAD,CAEErS,MAAO2W,EAAQhJ,MACf/B,aAAY+K,EAAQhJ,MACpBtC,UAAWN,EAAQ8L,IAJrB,UAKE,cAACD,EAAD,CAAMvL,UAAWN,EAAQ9C,OACxBiE,KAAEiB,WAAW+H,GAAuByB,EAAQhJ,SAAWgJ,EAAQhJ,QAL3DhP,GAAc,2BAAD,OAA4B6Q,EAAW7B,MAAvC,YAAgDhD,SASrE,OA9BFhM,GAAc,aAAD,OAAc6Q,EAAW7B,U,iCCRjD,SAASmJ,KACP,OAAOtY,KAAKuY,MAAsB,GAAhBvY,KAAKE,UAAiB,GAG1C,SAASsY,KACP,IAAMnP,EAAM,GAAKiP,KACXxO,EAAO,GAAKwO,KAElB,MAAO,CACLjP,IAAI,GAAD,OAAKA,EAAL,KACHS,KAAK,GAAD,OAAKA,EAAL,KACJoC,UAAU,cAAD,OAAgB7C,EAAhB,eAA0BS,EAA1B,OAIb,IAAMzD,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCoE,MAAO,CACL3B,SAAU,WACV3B,MAAO,IACPX,gBAAiBH,EAAMT,QAAQ8E,WAAWD,MAC1CE,OAAQ,iBACRC,UAAWvE,EAAMwE,QAAQ,GACzB5C,QAAS5B,EAAMoB,QAAQ,EAAG,EAAG,QAIpB8Q,GAAe,SAAC,GAA6B,IAA3BlM,EAA0B,EAA1BA,QAASyE,EAAiB,EAAjBA,WAGhC0H,EAAerS,KAHkC,EAI/B2Q,oBAAS,GAJsB,mBAIhDhK,EAJgD,KAI1C2L,EAJ0C,OAKlC3B,mBAASwB,IAAvBI,EALgD,oBAQvD,OACE,eAACzI,GAAD,CAAsB5D,QAASA,EAA/B,UACE,cAACsM,GAAA,EAAD,CAAQ3L,QAAS,WACfyL,GAAQ,IADV,SAEI3H,EAAW7B,QAEf,cAAE2J,GAAA,EAAF,CACEjM,UAAS,UAAKN,EAAQwM,MAAb,KACTC,QAAS,kBAAML,GAAQ,IACvB3L,KAAMA,EAHR,SAKE,cAACiM,GAAA,EAAD,CAAMC,IAAI,EAAV,SACE,sBAAKvJ,MAAOiJ,EAAY/L,UAAW6L,EAAa/N,MAAhD,UACE,oBAAI/I,GAAG,qBAAP,6BACA,mBAAGA,GAAG,2BAAN,yFCjDJzB,GAAkBiM,EAAQ,KAA1BjM,cAEO,SAASgZ,GAAT,GAEX,IAFwC5M,EAEzC,EAFyCA,QAAS0E,EAElD,EAFkDA,WAAYmI,EAE9D,EAF8DA,mBAAoB7F,EAElF,EAFkFA,gBAAiBC,EAEnG,EAFmGA,iBAAkBO,EAErH,EAFqHA,oBACtHC,EACC,EADDA,qBAAsBG,EACrB,EADqBA,sBAAuBO,EAC5C,EAD4CA,qBAAsBN,EAClE,EADkEA,kBAAmBiF,EACrF,EADqFA,iBAAkBC,EACvG,EADuGA,cAAeC,EACtH,EADsHA,KAEvH,OACE,cAACC,GAAA,EAAD,CACEC,WAAS,EAAC9R,QAAS,EADrB,SAEG2R,EAAc,GAAGI,QAAQjY,KAAI,SAACuP,EAAY7E,GACzC,MAC2B,iBAAzB6E,EAAW5C,UACT,cAACoL,GAAA,EAAD,CACEzL,MAAI,EAAC4L,GAAIN,EAAmB,EAAI,GADlC,SAGE,cAAC,GAAD,CACEpI,WAAYA,EAAWD,EAAW5C,WAClCjC,MAAOA,EACPI,QAASA,EACT2E,OAAQkI,EACRpI,WAAYA,KANT7Q,GAAc,GAAD,OAAIoZ,EAAJ,YAAYvI,EAAW5C,UAAvB,YAAoCjC,KAU7B,iBAAzB6E,EAAW5C,UAEX,cAACoL,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAIN,EAAmB,EAAI,GAAtC,SAEwB,kBAArBrI,EAAW7B,MACV,cAAC,GAAD,CACE5C,QAASA,EACTgH,gBAAiBA,EACjBC,iBAAkBA,EAClBxC,WAAYA,IAEd,cAAC,GAAD,CACEzE,QAASA,EACTwH,oBAAqBA,EACrBC,qBAAsBA,EACtBhD,WAAYA,KAZX7Q,GAAc,GAAD,OAAIoZ,EAAJ,YAAYvI,EAAW7B,SAgBlB,WAAzB6B,EAAW5C,UAET,cAACoL,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAIN,EAAmB,EAAI,GAAtC,SAEE,cAAC,GAAD,CACE9M,QAASA,EACT4H,sBAAuBA,EACvBC,kBAAmBA,KAJhBjU,GAAc,GAAD,OAAIoZ,EAAJ,uBAQK,WAAzBvI,EAAW5C,UAAyB,cAACoL,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAIN,EAAmB,EAAI,GAAtC,SAElC,cAAC,GAAD,CACE9M,QAASA,EACTmI,qBAAsBA,EACtBN,kBAAmBA,EACnBpD,WAAYA,KALT7Q,GAAc,GAAD,OAAIoZ,EAAJ,uBAQO,cAAzBvI,EAAW5C,UAET,cAACoL,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAIN,EAAmB,EAAI,GAAtC,SAEE,cAACtC,GAAD,CACExK,QAASA,EACT2E,OAAQkI,EACRpI,WAAYA,KAJT7Q,GAAc,GAAD,OAAIoZ,EAAJ,YAAYvI,EAAW5C,UAAvB,YAAoCjC,KAO7B,gBAAzB6E,EAAW5C,UACX,cAACoL,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAIN,EAAmB,EAAI,GAAtC,SAEE,cAAC,GAAD,CACEpI,WAAYA,EAAWD,EAAW5C,WAClC7B,QAASA,EACT2E,OAAQkI,EACRpI,WAAYA,KALT7Q,GAAc,GAAD,OAAIoZ,EAAJ,YAAYvI,EAAW5C,UAAvB,YAAoCjC,KAQ7B,oBAAzB6E,EAAW5C,UACX,cAACoL,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAIN,EAAmB,EAAI,GAAtC,SAEE,cAAC,GAAD,CACEpI,WAAYA,EAAWD,EAAW5C,WAClC7B,QAASA,EACT2E,OAAQkI,EACRpI,WAAYA,KALT7Q,GAAc,GAAD,OAAIoZ,EAAJ,YAAYvI,EAAW5C,UAAvB,YAAoCjC,KAQ7B,iBAAzB6E,EAAW5C,UACX,cAACoL,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAIN,EAAmB,EAAI,GAAtC,SAEE,cAAC,GAAD,CAAc9M,QAASA,EAASyE,WAAYA,KADvC7Q,GAAc,GAAD,OAAIoZ,EAAJ,YAAYvI,EAAW5C,UAAvB,YAAoCjC,KAGxD,Q,IC/FlBhM,GAAkBiM,EAAQ,KAA1BjM,cAEO,SAASyZ,GAAUpW,GAAQ,IACf8V,EAIrB9V,EAJIqW,cAAiBP,cAAkCC,EAIvD/V,EAJsCqW,cAAiBN,KAAQhN,EAI/D/I,EAJ+D+I,QACjE0E,EAGEzN,EAHFyN,WAAYmI,EAGV5V,EAHU4V,mBAAoB7F,EAG9B/P,EAH8B+P,gBAAiBC,EAG/ChQ,EAH+CgQ,iBAAkBO,EAGjEvQ,EAHiEuQ,oBACnEC,EAEExQ,EAFFwQ,qBAAsBG,EAEpB3Q,EAFoB2Q,sBAAuBO,EAE3ClR,EAF2CkR,qBAAsBN,EAEjE5Q,EAFiE4Q,kBACnEiF,EACE7V,EADF6V,iBAAkBS,EAChBtW,EADgBsW,oBAAqBpN,EACrClJ,EADqCkJ,WAAYC,EACjDnJ,EADiDmJ,cAJd,EAQPqK,oBAAS,GARF,mBAQhC+C,EARgC,KAQtBC,EARsB,KAevC,OALAC,qBAAU,WACHF,GAAUC,GAAY,KAC1B,CAACX,IAIF,cAACG,GAAA,EAAD,CAAMzL,MAAI,EACR4L,GAAIN,EAAmB,GAAK3M,EAAa,EAAI,OAD/C,SAGGuE,EACC,eAACiJ,GAAA,EAAD,CACErI,SAAUwH,EAAmB,kBAAMW,GAAaD,IAAY,aAC5DA,SAAUA,EACVlN,UAAS,UAAKN,EAAQ2L,KAAb,2BACTiC,UAAW,EAJb,UAME,cAACC,GAAA,EAAD,CACEC,WAAYhB,EAAmB,cAACiB,GAAA,EAAD,IAAiB,GAChDC,gBAAc,kBACd3Y,GAAG,iBAHL,SAKGyX,EACC,cAACmB,GAAA,EAAD,CACEtN,QAAS,SAAClL,GACR8X,GAAqBT,IAEvBjM,aAAW,kBAGb,mCACGV,EACC,qCACE,cAACS,EAAA,EAAD,CACED,QAAS,kBAAMP,GAAeD,IAC9BU,aAAW,eAEb,cAACqN,GAAA,EAAD,CACEvN,QAAS,SAAClL,GACRgY,GAAY,GACZF,GAAqBT,IAEvBjM,aAAW,uBAEf,cAACsN,GAAA,EAAD,CACExN,QAAS,kBAAMP,GAAeD,IAC9BU,aAAW,kBAKrB,cAACuN,GAAA,EAAD,CAAKlU,QAASiG,EAAa,QAAU,OAArC,SACE,cAACkO,GAAA,EAAD,UACE,cAACzB,GAAD,2BAAuB3V,GAAvB,IACE+I,QAASA,EACT0E,WAAYA,EACZmI,mBAAoBA,EACpB7F,gBAAiBA,EACjBC,iBAAkBA,EAClBO,oBAAqBA,EACrBC,qBAAsBA,EACtBG,sBAAuBA,EACvBO,qBAAsBA,EACtBN,kBAAmBA,EACnBiF,iBAAkBA,EAClBS,oBAAqBA,EACrBR,cAAeA,EACfC,KAAMA,YAOd,IAjEGpZ,GAAc,GAAD,OAAIoZ,EAAJ,sBAAsBD,EAAc,GAAG1X,M,eCtBxD,SAASiZ,GAAT,GAA4C,IAA1BtO,EAAyB,EAAzBA,QAASvC,EAAgB,EAAhBA,OAChC,OADgD,EAARpC,KAE/B,GACL,cAAC4R,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAI,GAAIhK,MAAO,CAAE3F,UAA5B,SAEE,cAAC8Q,GAAA,EAAD,CAAMjO,UAAS,UAAKN,EAAQwO,KAAb,YAAqBxO,EAAQyO,cAC1Cb,UAAW,EACXc,GAAI,EACJtL,MAAO,CAAE3F,OAAO,GAAD,OAAKA,EAAL,OAHjB,SAKE,cAACkR,GAAA,EAAD,CAAkBrO,UAAWN,EAAQ4O,uB,0DCPlCC,GAAa,SAAC5X,GAAU,MAEDgJ,qBAAWoD,iBAAa,QAAlDyL,EAF2B,EAE3BA,SAAUC,EAFiB,EAEjBA,YACV/O,EAAgC/I,EAAhC+I,QAASgP,EAAuB/X,EAAvB+X,WAAYvR,EAAWxG,EAAXwG,OAE7B,OAEEqR,EACE,cAAC7B,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAI,EACb9M,UAAS,UAAKN,EAAQiP,uBADxB,SAEE,cAACC,GAAA,EAAD,CAAmBC,YAAa,kBAAMJ,KAAtC,SACE,cAACrC,GAAA,EAAD,CAAMC,IAAI,EAAV,SAEI9W,OAAOD,KAAKoZ,GAAY7b,OACtB,eAAC8Z,GAAA,EAAD,CAAMC,WAAS,EAAC9R,QAAS,EACvBkF,UAAS,UAAKN,EAAQoP,UAAb,YAA0BpP,EAAQqP,qBAC3CjM,MAAO,CAAE3F,UAFX,UAIE,cAACwP,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAI,GAAf,SACE,cAACtI,GAAA,EAAD,CAAYvE,QAAQ,KAAKD,UAAS,WAAMN,EAAQnB,QAAUuE,MAAO,CAAEF,MAAO,SAA1E,kCAIF,cAAC+J,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAI,EACbhK,MAAO,CAAEkM,UAAW,SADtB,SAGE,cAAC,KAAD,CAAWlM,MAAO,CAAEF,MAAO,QAASxD,OAAQ,WAAaiB,QAAS,kBAAMoO,SAE1E,cAAC9B,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAI,GAAf,SACE,cAACmC,GAAD,CAAa5Z,KAAMqZ,SAEb,SAKlB,IAKR,SAASO,GAAYtY,GAAQ,IACnBtB,EAASsB,EAATtB,KACR,OACE,cAAC,KAAD,CAAmB6Z,SAAS,OAAOpM,MAAOqM,KAASC,iBAAiB,EAApE,SACmB,kBAAT/Z,EAAoBwC,KAAKC,UAAUzC,GAAM,EAAM,GAAKA,I,2DC5ClE,SAASsW,KAIP,MAAO,CACLnP,IAAI,GAAD,OAJO,GAIP,KACHS,KAAK,GAAD,OAJO,GAIP,KACJoC,UAAU,cAAD,OALE,GAKF,eANC,GAMD,OAIN,IAAMgQ,GAAuB,SAAC,GAA0B,IAAxB3T,EAAuB,EAAvBA,QAASgE,EAAc,EAAdA,QAAc,EAGqBC,qBAAWoD,iBAAa,QAAjGtC,EAHoD,EAGpDA,cAAe6O,EAHqC,EAGrCA,aAAcC,EAHuB,EAGvBA,gBAAiBC,EAHM,EAGNA,uBAHM,EAIvCC,IAAMtF,SAASwB,IAA7BI,EAJqD,oBAKpD2D,EAA0ChU,EAA1CgU,iBAAkBC,EAAwBjU,EAAxBiU,oBAE1B,OACE,cAAE1D,GAAA,EAAF,CACEjM,UAAS,UAAKN,EAAQwM,MAAb,KACT/L,KAAMmP,EAAaM,OAAQ,EAC3BzD,QAAS,kBAAMoD,EAAgB,KAHjC,SAKE,cAACnD,GAAA,EAAD,CAAMC,GAAIiD,EAAaM,OAAQ,EAA/B,SACE,qBACE9M,MAAOiJ,EACP/L,UAAS,UAAKN,EAAQV,aAAb,YAA6BU,EAAQmQ,WAFhD,SAIE,cAAClD,GAAA,EAAD,CAAMC,WAAS,EACb9R,QAAS,EADX,SAEGvF,OAAOD,KAAKoa,GAAkB9a,KAAI,SAACmS,EAAKzH,GACvC,OACE,cAACqN,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAI,GAAKvX,OAAOD,KAAKoa,GAAkB7c,OAAlD,SAGE,eAACob,GAAA,EAAD,CAAMjO,UAAS,UAAKN,EAAQR,UAAb,YAA0BQ,EAAQqH,IAC/CuG,UAAW,EACXxK,MAAOiE,IAAQtG,EAAciO,WAAWoB,gBAAgBC,iBAAmB,CACzElW,gBAAiB,UACjB+I,MAAO,UACPzF,OAAQ,KACN,CACAA,OAAQ,KAEZkD,QAAS,WACPmP,EAAuBzI,EAAK,cAC5BwI,EAAgB,KAXpB,UAaE,eAACS,GAAA,EAAD,WACE,cAACxL,GAAA,EAAD,CAAYvE,QAAQ,KAApB,SACGY,KAAEiB,WAAWiF,KAEhB,cAACvC,GAAA,EAAD,UACE,cAACyL,GAAA,EAAD,CACEvI,KAAK,YACL/S,MAAO,EAAIY,OAAOD,KAAKoa,GAAkB7c,OAASyM,EAAQ,EAC1D4Q,UAAQ,MACZ,cAAC1L,GAAA,EAAD,CAAYvE,QAAQ,YAAY6C,MAAO,CAAEqN,UAAW,UAApD,SACGR,EAAoB5I,GAAKlL,QAG5B,cAACuU,GAAA,EAAD,CAASpQ,UAAS,UAAKN,EAAQ3D,QAAb,OAElB,cAACuF,EAAA,EAAD,UAEIqO,EAAoB5I,GAAK5I,KAAKvJ,KAAI,SAACsM,EAAM5B,GAAP,OAChC,eAACsC,EAAA,EAAD,CAAUyO,OAAO,EAAjB,UAGE,cAAC5N,EAAA,EAAD,UAEE,cAAC6N,GAAA,EAAD,CAAO7S,SAAS,YAElB,cAACoE,EAAA,EAAD,CAAc3I,QAASgI,MAPzB,qCACqC6F,EADrC,YAC4CzH,YAYpD,cAACiR,GAAA,EAAD,CAAaC,gBAAgB,EAA7B,SACE,cAACxE,GAAA,EAAD,CACEpJ,MAAM,UACN3C,QAAQ,WACRwQ,WAAS,EACTpQ,QAAS,WACPmP,EAAuBzI,EAAK,cAC5BwI,EAAgB,KAElBzM,MAAOiE,IAAQtG,EAAciO,WAAWoB,gBAAgBC,iBAAmB,CAAEnN,MAAO,UAAW8N,YAAa,WAAc,GAR5H,SASG3J,IAAQtG,EAAciO,WAAWoB,gBAAgBC,iBAAmB,SACnExa,OAAOD,KAAKqa,GAAqBvb,QAAQqM,EAAciO,WAAWoB,gBAAgBC,kBAAoBxa,OAAOD,KAAKqa,GAAqBvb,QAAQ2S,GAC7I,UACA,iBA3DLzT,yBAAc,8BAAD,OAA+ByT,iBCtC3DzT,GAAkBiM,EAAQ,KAA1BjM,cAEO,SAASqd,GAAT,GAA8E,IAAxCjR,EAAuC,EAAvCA,QAAS+M,EAA8B,EAA9BA,cAAeC,EAAe,EAAfA,KAAMlS,EAAS,EAATA,MACjF,OACE,cAACmS,GAAA,EAAD,CAAMzL,MAAI,EACR4L,GAAItS,EADN,SAGE,cAACsT,GAAA,EAAD,CAAK9N,UAAS,UAAKN,EAAQ2L,KAAb,YAAqB3L,EAAQhC,WAAa0Q,GAAI3B,EAAc,GAAGzD,QAAUyD,EAAc,GAAGmE,mBAAqB,EAAI,EAAjI,SACE,cAACvN,GAAD,CAAgB3D,QAASA,EAAzB,SACE,qBACEM,UAAS,yBAAoB1M,GAAcoZ,IAC3C3X,GAAIzB,GAAc,kBAAD,OAAmBoZ,EAAnB,YAA2BD,EAAc,GAAG1X,MACxDzB,GAAc,kBAAD,OAAmBoZ,EAAnB,YAA2BD,EAAc,GAAG1X,Y,wBCbpE8b,GAAaC,KAAI,KACjBC,GAAeC,KAAM,KACrBC,GAAWH,KAAI,KACfI,GAAaF,KAAM,KAKZxX,GAAYC,aAAW,SAACC,GAAD,gBAClCC,KAAM,CACJgC,SAAU,EACVsD,SAAU,SACVN,aAAc,GAEhBwP,aAAc,CACZvU,QAAS,OACT6B,eAAgB,SAChBJ,WAAY,UAEdoD,OAAQ,CACNnB,WAAY,SACZnB,SAAU,WACV7B,QAAS,GAEXwB,KAAM,CACJjC,gBAAiB,QACjB+I,MAAO,WAET5G,MAAO,CACLpC,QAAS,QAEXqC,OAAQ,CACNrC,QAAS,SAEXsD,KAAM,CACJC,OAAQ,IACRxB,SAAU,EACVyB,SAAU,KAEZ8E,KAAM,CACJrH,YAAa,GACb4C,SAAU,OACVwB,SAAU,WAEZpC,KAAM,CACJC,UAAW,IAEbuO,KAAM,CACJ7Q,MAAO,QAET8D,OAAQ,CACN7D,WAAY,QAEd8D,OAAQ,CACN1D,YAAa,QAEfsW,SAAU,CACRC,SAAU,IACVC,UAAW,KAEbnD,KAAM,CACJkD,SAAU,KAEZvB,UAAW,CACTvU,QAAS,IAEXgW,aAAc,CACZD,UAAW,KAEbE,aAAc,CACZC,UAAW,IACXrU,OAAQ,IACR8B,SAAU,UAEZwS,KAAM,CACJ3U,UAAW,IAEb4U,KAAM,CACJ7T,aAAc,IAEhB8T,WAAY,CACV3C,UAAW,UAEb4C,cAAe,CACbxS,OAAQ,WAEVpB,OAAQ,CACNA,OAAQ,mBAEV6T,UAAW,CACT1U,OAAQ,KAEV2U,aAAc,CACZN,UAAW,IACXrU,OAAQ,KAEV4U,aAAc,CACZP,UAAW,IACXrU,OAAQ,KAEV6U,aAAc,CACZX,UAAW,IACXpS,SAAU,UAEZgT,OAAQ,CACNpY,gBAAiBoX,GACjBrO,MAAOiO,GACPzK,WAAY,KAEd8L,SAAU,CACRrY,gBAAiBqX,GACjBtO,MAAOmO,GACP3K,WAAY,MAxGoB,0BA0GvB,CACT9K,QAAS,KA3GuB,qBA6G5B,CACJuC,aAAc,KA9GkB,+BAgHlB,CACdoB,SAAU,WAjHsB,+BAmHlB,CACdA,SAAU,WApHsB,gCAsHjB,CACfA,SAAU,YAvHsB,6BAyHpB,CACZuS,UAAW,IACXrU,OAAQ,MA3HwB,6BA6HpB,CACZkU,UAAW,IACXpS,SAAU,WA/HsB,+BAiIlB,CACdpF,gBAAiB,oCACjBmV,UAAW,oBACXmD,QAAQ,iBACR/L,WAAY,MArIoB,oCAwIb,CACnB3I,SAAU,oBAzIsB,mCA4Id,CAClBA,SAAU,oBA7IsB,iCA+IhB,CAChBtB,SAAU,aAhJsB,0BAkJvB,CACTb,QAAS,KAnJuB,4BAqJrB,CACXkW,UAAW,GACXrU,OAAQ,KAvJwB,gCAyJjB,CACfiV,UAAW,SACXC,UAAW,WA3JqB,yCAAC,aA8JjCzY,QAAS,OACTyB,WAAY,SACZC,QAAS5B,EAAMoB,QAAQ,EAAG,IAEvBpB,EAAM6B,OAAOC,SAlKgB,IAmKhCC,eAAgB,cAnKgB,0BAqKvB,CACTH,QAAS,KAtKuB,sCAwKX,CACrBa,SAAU,QACVK,IAAK,GACLF,MAAO,GACPU,OAAQ,EACR1C,OAAQ,MA7KwB,oCA+Kb,CACnBT,gBAAiB,kBACjBoF,SAAU,SACVN,aAAc,gBAlLkB,iCAoLhB,CAChBxB,OAAQ,SArLwB,kCAuLf,CACjB3C,MAAO,OACPqI,OAAQ,IAzLwB,iCA2LhB,CAChB7E,OAAQ,OACRW,aAAc,MACdV,UAAW,sEA9LqB,4BAgMrB,CACXuT,UAAW,GACXrU,OAAQ,KAlMwB,6BAoMpB,CACZqU,UAAW,IACXrU,OAAQ,MAtMwB,mCAwMd,CAClBqU,UAAW,MACXrU,OAAQ,QA1MwB,qBA4M5B,CACJM,SAAU,UA7MsB,qBA+M5B,CACJ5C,YAAa,KAhNmB,qBAkN5B,CACJJ,WAAY,KAnNoB,oBAqN7B,CACH0C,OAAQ,OACR3C,MAAO,OACPmE,aAAc,MACd/E,QAAS,iBAzNuB,8BA2NnB,CAAE+E,aAAc,IA3NG,oBA4N7B,CACHnE,MAAO,QA7NyB,iCA+NhB,CAChB8X,cAAe,QAhOiB,0BAkOvB,CACThX,QAAS,KAnOuB,wBAqOzB,CACPmC,SAAU/D,EAAM6Y,WAAWC,QAAQ,IACnCpM,WAAY1M,EAAM6Y,WAAWE,oBAvOG,+BAyOlB,CACdzU,OAAQ,EACR0U,KAAM,gBACNvV,OAAQ,EACR0F,QAAS,EACT5D,SAAU,SACV3D,QAAS,EACTa,SAAU,WACVK,IAAK,GACLhC,MAAO,IAlPyB,4BAoPrB,CACXqI,OAAQnJ,EAAMoB,QAAQ,GACtBsW,SAAU,MAtPsB,4BAwPrB,CACXvX,gBAAiB,0BAzPe,8BA2PnB,CACbA,gBAAiB,2BA5Pe,8BA8PnB,CACbA,gBAAiB,0BA/Pe,gCAiQjB,CACfA,gBAAiB,2BAlQe,iCAoQhB,CAChBsC,SAAU,WACVK,KAAM,GACNF,OAAQ,GACRU,OAAQ,EACR1C,OAAQ,MAzQwB,4CAAC,aA4QjCV,QAAS,OACTyB,WAAY,SACZC,QAAS5B,EAAMoB,QAAQ,EAAG,IAEvBpB,EAAM6B,OAAOC,SAhRgB,IAiRhCC,eAAgB,cAjRgB,6BAmRpB,CACZ+V,UAAW,IACXvS,SAAU,WArRsB,oBAuR7B,CACH4D,OAAQ,KAxRwB,mBA0R9B,CACFA,OAAQ,IA3RwB,K,qBCG5BvP,GAAkBiM,EAAQ,KAA1BjM,cAEO,SAASqf,GAAUhc,GAAO,MAEsEgJ,qBAAWC,KAAhHa,EAF+B,EAE/BA,cAAgCiO,EAFD,EAEhBjO,cAAiBiO,WAAckE,EAFf,EAEeA,IAAKC,EAFpB,EAEoBA,YAAanZ,EAFjC,EAEiCA,MAAOoZ,EAFxC,EAEwCA,QAASpS,EAFjD,EAEiDA,iBAC/D+L,EAA6C9V,EAA9DqW,cAAiBP,cACnBsG,EADgEpc,EAA5BqW,cAAiBN,MACzB,cAJK,EAMLvC,mBAAS,GANJ,mBAMhC6I,EANgC,KAMlBC,EANkB,OAOH9I,wBAAS+I,GAPN,mBAOhC9O,EAPgC,KAOpB+O,EAPoB,OAQChJ,mBAAS,IARV,mBAQhCiJ,EARgC,KAQlBC,EARkB,OASSlJ,mBAAS,IATlB,mBAShCmJ,EATgC,KASdC,EATc,OAUXpJ,mBAAUqJ,OAAOC,YDlBV,KCQI,mBAUhCtW,EAVgC,KAUxBuW,EAVwB,OAWOvJ,mBAAS,IAXhB,mBAWhCzD,EAXgC,KAWfiN,EAXe,OAYexJ,mBAAS,WAZxB,mBAYhCjD,EAZgC,KAYX0M,EAZW,QAamBzJ,oBAAS,GAb5B,qBAahC7C,GAbgC,MAaTuM,GAbS,SAciB1J,mBAAS,SAd1B,qBAchCtC,GAdgC,MAcViM,GAdU,SAeiB3J,mBAAS,GAf1B,qBAehC4J,GAfgC,MAeVC,GAfU,SAgBS7J,oBAAS,GAhBlB,qBAgBhCqC,GAhBgC,MAgBdS,GAhBc,SAiBH9C,oBAAS,GAjBN,qBAiBhCtK,GAjBgC,MAiBpBC,GAjBoB,MAmBnCmU,GAA6BpT,IAAEgI,KAAK4D,EAAc,GAAGI,QAAS,CAAEvK,MAAO,uBACrE4R,MAAuBD,KAA8B1e,OAAOD,KAAK2e,IAA4BphB,QAC7FshB,GAA2Bza,EAAMT,QAAQK,KAAKH,KAE9CuG,GAAUlG,KACVgP,GAAW4L,cACbC,GAAUC,cAKVC,IAAgBjN,IAAyB4M,GAC3C,CACEjb,QAAS,CACPyT,KAAM,OACN3O,WAAY,CAAED,MAAOqW,GAA0BK,QAASL,MAI5D,CAAElb,QAAQ,eAAMS,EAAMT,UAElBwb,GAAahF,IAAMiF,SACvB,kBACE1b,YACEub,MAEJ,CAACjN,GAAuBmF,IAGpB9F,GAAmB,SAAC1B,EAAOC,GAC/B,IAAIyP,EAAwB9T,IAAEgI,KAAK4D,EAAc,GAAGI,QAAS,CAAEvK,MAAO,kBAEtE,GAAIqS,EAAuB,CACzBhB,EAAmBzO,GACnB,IAAM0P,EAAiB/T,IAAEmI,OAAOsK,EAAiBuB,QAAQ,GAAGC,6BAA6B,SAACC,GACxF,OAAQJ,EAAsB7N,WAAW5B,GAAU9Q,QAAQkf,EAAiB0B,SAASD,EAAIE,sBAAsBpZ,QAAU,KAGrHqZ,EAAkB,2BACnB5B,EAAiBuB,QAAQ,IADN,IAEtBC,4BAA6BF,IAE/BxB,EAAa+B,WAAW,CAAE,QAAW,CAACD,OAKpC/N,GAAuB,SAAClC,EAAOC,GACnC,IAAI+O,EAA6BpT,IAAEgI,KAAK4D,EAAc,GAAGI,QAAS,CAAEvK,MAAO,uBAC3E,GAAI2R,EAA4B,CAC9B,IAAImB,EAAiBnB,EAA2BvQ,OAAOwB,GACnDmQ,EAAoB,eAAQ/B,EAAiB0B,UAEjDzf,OAAOD,KAAK+f,GAAsBzgB,KAAI,SAAAmS,GAChCsO,EAAqBtO,GAAKuO,WAAWC,eACvChgB,OAAOD,KAAK+f,EAAqBtO,GAAKuO,WAAWC,eAAe3gB,KAAI,SAAC4gB,EAAUlW,GAC7E+V,EAAqBtO,GAAKuO,WAAWC,cAAcC,GAAYJ,EAAe9V,IAAU8V,EAAe,MAGvGC,EAAqBtO,GAAKuO,WAAWG,eACvCJ,EAAqBtO,GAAKuO,WAAWG,aAAeL,EAAeA,EAAeviB,OAAS,IAEzFwiB,EAAqBtO,GAAKuO,WAAWI,kBACvCL,EAAqBtO,GAAKuO,WAAWI,iBAAiB9gB,KAAI,SAACsM,EAAM5B,GAC/D+V,EAAqBtO,GAAKuO,WAAWI,iBAAiBpW,GAAS8V,EAAe9V,IAAU8V,EAAe,MAIvGC,EAAqBtO,GAAKuO,WAAWK,4BACvCpgB,OAAOD,KAAK+f,EAAqBtO,GAAKuO,WAAWK,4BAA4B/gB,KAAI,SAAC4gB,EAAUlW,GACtF+V,EAAqBtO,GAAKuO,WAAWK,2BAA2BH,GAAUrU,eAAe,aAC3FkU,EAAqBtO,GAAKuO,WAAWK,2BAA2BH,GAAhE,uBAA4FvB,EAA2B0B,2BAA2BzQ,QAIpJmQ,EAAqBtO,GAAKuO,WAAWM,oBACvCP,EAAqBtO,GAAKuO,WAAWM,kBAAoBR,EAAeA,EAAeviB,OAAS,IAE9FqhB,IACEmB,EAAqBtO,GAAKuO,WAAWO,oBACvCR,EAAqBtO,GAAKuO,WAAWO,kBAAoBvO,GAAwB,QAAU,WAKjGsM,EAAuB1O,GACvBkO,EAAa+B,WAAW,CAAE,SAAW,eAAME,OAiB/CjI,qBAAU,WAIR,GAHAlW,QAAQC,IAAI,mBACZD,QAAQC,IAAI,CAAEuX,eACdxX,QAAQC,IAAI,CAAE2b,YACVA,EAAS,CACX5b,QAAQC,IAAI,mBACZ,IAAI2e,EAAYxO,GAAwB,QAAU,OAClDwO,GAAS,WAAQjO,IACjBgL,EAAYkD,GAAuB,CAAC,YAAItJ,GAAgBqJ,IACxD3C,OAAcD,GACdjG,IAAoB,GACpBnN,IAAc,MAEf,CAAC4O,EAAYoE,EAASpS,IAEzB0M,qBAAU,WACJ7X,OAAOD,KAAKge,GAAkBzgB,QAAU0C,OAAOD,KAAK8d,GAAcvgB,SAEpE8T,GAAiB,EAAMD,GAAoC,aAC3DS,GAAqB,EAAMD,GAA4C,cAExE,CAACoM,IAEJlG,qBAAU,WACRoG,OAAOwC,iBAAiB,UAAU,kBAAMtC,EAAWF,OAAOC,YD1JzB,QC2JjCO,GAAwBxH,IAAmByJ,KAAE,mCAAmCxC,eAAqB,MAGvGrG,qBAAU,WACRsG,EAAWF,OAAOC,YD/Je,KCgKjCO,GAAwBxH,IAAmByJ,KAAE,mCAAmCxC,eAAqB,KACpG,CAACjH,KAEJY,qBAAU,WACR+F,OAAcD,KACb,IAEH,IAAM6C,GAAwB,SAAUtJ,EAAeyJ,GAErDjD,EAAU,GACVgD,KAAE,mBAAD,OAAoB3iB,GAAcyf,GAAlC,aAAgEze,KAAK,IACtEmY,EAAc7X,IAAd,uCAAkB,WAAMuhB,GAAN,mBAAAtgB,EAAA,sDAEZugB,EAAcD,EAAkBphB,GAChC0f,EAAayB,GAAgBhC,GAC/BgC,EACAC,EAAkBzc,MAChByc,EAAkBzc,MAClB,eAEJ2c,iBAAeC,sBAAsBF,GAClCG,SAASjjB,GAAc,mBAAD,OAAoByf,EAApB,YAAyCqD,KAC/DI,cAAc,UACdC,WACAC,UAAUjC,GACVkC,WAAW,CAAE,eAAkB,SAC/BC,GAAG,oBAAoB,SAAC3R,GACvBsO,EAAoBtO,EAAM4R,UAAUnhB,YAErCkhB,GAAG,kBAAmBE,IACtBC,QACAC,UACAC,MAAK,SAACJ,GACL5D,EAAU,GACVI,EAAgBwD,GAChB,IAAIK,EAAkBzW,EAAcpI,cAAc8e,UAAU,EAAG1W,EAAcpI,cAAc+e,YAAY,MAGvGf,iBAAegB,KAAKH,MACnBI,OAAM,SAAAC,GACPrgB,QAAQC,IAAI,CAAEogB,aAGlBC,aAAaC,MAAQ,kBAGjBtB,EAAkBhV,eAAe,aAK/BuW,EAAgB,GACpBvB,EAAkBtJ,QAAQjY,IAA1B,uCAA8B,WAAOuP,EAAY7E,GAAnB,uBAAAzJ,EAAA,0DACxBsO,EAAWwT,YADa,wBAEtBC,EAAYzT,EAAWwT,aACjB9K,QAAV,2BACK+K,EAAU/K,SADf,kBAEG1I,EAAW0T,kBAAoBnJ,EAAWoB,gBAAgBgI,QALnC,SAOKlF,EAAImF,GAAGnF,EAAIoF,iBAAiB,CAAEC,cAAe9T,EAAW+T,cAAgB,OAAQtgB,KAAMggB,KAP3F,OAW1B,IAJIO,EAPsB,OAQtBC,EAA0B,GAC1BC,EAAkB9iB,OAAOD,KAAK6iB,EAAmB,IAAI,GAEhDllB,EAAI,EAAGA,EAAIklB,EAAmBtlB,OAAQI,IAC7CmlB,EAAwB/W,KAAK,CAC3B,MAAS8W,EAAmBllB,GAAGolB,GAC/B,MAAUF,EAAmBllB,GAAnB,MAAkCklB,EAAmBllB,GAAnB,WAAiCigB,IAGjFwE,EAAcvT,EAAW5C,WAAa6W,EAjBZ,QAmB5BjF,EAAcuE,GAnBc,4CAA9B,0DAzCc,2CAAlB,wDAmEInL,GAAqB+L,uBAAY,SAAClT,EAAYmT,GAC9ChjB,OAAOD,KAAK8d,GAAcvgB,SAC5BugB,EAAaoF,cAAb,eAA8BpT,EAAamT,IAC3CnF,EAAaqF,UAIX3B,GAAiB,SAAC7R,GACtB,GAAIpE,IAAE6X,SAAS7X,IAAEwB,UAAU4C,EAAM3C,OAAQ,QAKvC,OAJA+R,GAAQhT,KAAK,CACXsX,SAAU,YACVC,OAAO,WAAD,OAAc3T,EAAMjR,OAErB,CAAE6kB,QAAQ,IAarB,OATAzL,qBAAU,WACR,IAAI9H,EAASwT,KAAY5S,MAAMsC,GAASoQ,QACXtT,EAAOmH,EAAc,GAAGrH,YAAc,GAEjEmH,GAAmBE,EAAc,GAAGrH,WAAYE,EAAOmH,EAAc,GAAGrH,eAEzE,CAACmH,GAAoB/D,GAASoQ,OAAQnM,IAIvC,qBAAKzM,UAAS,UAAKN,GAAQ/F,KAAb,kBACZmJ,MAAO,CAAE3F,UADX,SAGE,cAAC4b,EAAA,EAAD,CAAerf,MAAO+a,GAAtB,SACE,cAACxG,GAAA,EAAD,CAAMX,UAAW,EAAGtN,UAAS,UAAKN,GAAQsZ,UAAb,YAA0BtZ,GAAQuZ,kBAA/D,SACE,qBACEjZ,UAAS,UAAKN,GAAQ/F,KAAb,YAAqB+F,GAAQuZ,kBADxC,SAGE,eAACtM,GAAA,EAAD,CACEC,WAAS,EACT9R,QAAS,EAFX,UAIE,cAACkT,GAAD,CACEjT,KAAMiY,EACNtT,QAASA,GACTvC,OAAQA,EAAS4W,KAElBtH,EAAc,GAAGtL,eAAe,WAE/B,cAAE4L,GAAF,2BAAgBpW,GAAhB,IACE+I,QAASA,GACT0E,WAAYA,EACZmI,mBAAoBA,GACpB7F,gBAAiBA,EACjBC,iBAAkBA,GAClBO,oBAAqBA,EACrBC,qBAAsBA,GACtBG,sBAAuBA,GACvBO,qBAAsBA,GACtBN,kBAjLU,SAACtC,EAAOC,GAChC,IAAI4Q,EAAY,GACQ,mBAAb5Q,GACT2O,GAAyB3O,GACzB4Q,EAAY5Q,EAAQ,gBAAY2C,IAAZ,eAA6CA,MAEjEiO,EAAYxO,GAAqB,gBAAYpC,GAAZ,eAAiCA,GAClE4O,GAAwB5O,IAG1B2N,EAAYkD,GAAuB,CAACtJ,EAAeqJ,KAwKrCtJ,iBAAkBA,GAClBS,oBAAqBA,GACrBpN,WAAYA,GACZC,cAAeA,MAGjB,GAGF,cAAC6Q,GAAD,CACEjR,QAASA,GACT+M,cAAeA,EACfC,KAAMqG,EACNvY,MAAOiS,EAAc,GAAGtL,eAAe,WAAaqL,GAAmB,GAAK3M,GAAa,EAAI,GAAK,KAGpG,cAAC,GAAD,2BAAgBlJ,GAAhB,IACE+I,QAASA,GACTgP,WAAYA,EACZvR,OAAQA,EAAS4W,GDzTQ,iB,cEN5BmF,GAAc,CACzB,KAAQ,YACR,MAAS,OACT,aAAgB,OAChB,YAAe,mCACf,K,QAAQC,EACR,UAAaxG,GACb,cAAiB,CACf,CACE,KAAQ,YACR,aAAgB,iBAChB,GAAM,KACN,MAAS,SACT,QAAU,EACV,MAAS,iBAEb,wBAA2B,G,UChBhByG,GAAgB,CAC3B,KAAQ,YACR,MAAS,SACT,aAAgB,OAChB,YAAe,mCACf,K,QAAQC,EACR,UAAa1G,GACb,cAAiB,CACf,CACE,KAAQ,YACR,aAAgB,iBAChB,GAAM,KACN,MAAS,SACT,QAAU,EACV,MAAS,iBAEb,wBAA2B,G,UChBhB2G,GAAc,CACzB,KAAQ,YACR,MAAS,QACT,aAAgB,OAChB,YAAe,mCACf,K,QAAQC,EACR,UAAa5G,GACb,cAAiB,CACf,CACE,KAAQ,YACR,aAAgB,iBAChB,GAAM,KACN,MAAS,QACT,QAAU,EACV,MAAS,iBAEb,wBAA2B,G,UCThB6G,GAAqB,CAChC,KAAQ,YACR,MAAS,cACT,aAAgB,OAChB,YAAe,mCACf,K,QAAQC,EACR,UAAa9G,GACb,cAAiB,CACf,CACE,KAAQ,YACR,aAAgB,iBAChB,GAAM,KACN,MAAS,cACT,QAAU,EACV,MAAS,eACT,QAAW,KAEf,wBAA2B,G,UCxBhB+G,GAAoB,CAC/B,KAAQ,YACR,MAAS,aACT,aAAgB,OAChB,YAAe,mCACf,K,QAAQC,EACR,UAAahH,GACb,cAAiB,CACf,CACE,KAAQ,YACR,aAAgB,iBAChB,GAAM,KACN,MAAS,aACT,QAAU,EACV,WAAc,YACd,MAAS,iBAEb,wBAA2B,G,GCjBwBpT,EAAQ,I,GAArDjM,c,GAAee,W,GAAY0O,cCCTxD,EAAQ,IAA1BjM,c,cCFR,IAAMud,GAAaC,KAAI,KACjBC,GAAeC,KAAM,KACrBC,GAAWH,KAAI,KACfI,GAAaF,KAAM,KACnB4I,GAAYxgB,IAAK,KAEVygB,GAAwB,IAGxBrgB,GAAYC,aAAW,SAACC,GAAD,gBAClCC,KAAM,CACJgC,SAAU,EACVsD,SAAU,SACVN,aAAc,GAEhBwP,aAAc,CACZvU,QAAS,OACT6B,eAAgB,SAChBJ,WAAY,UAEdoD,OAAQ,CACNnB,WAAY,SACZnB,SAAU,WACV7B,QAAS,GAEXwB,KAAM,CACJjC,gBAAiB,QACjB+I,MAAO,WAET5G,MAAO,CACLpC,QAAS,QAEXqC,OAAQ,CACNrC,QAAS,SAEXsD,KAAM,CACJC,OAAQ,IACRxB,SAAU,EACVyB,SAAU,KAEZ8E,KAAM,CACJrH,YAAa,GACb4C,SAAU,OACVwB,SAAU,WAEZpC,KAAM,CACJC,UAAW,IAEbuO,KAAM,CACJ7Q,MAAO,QAET8D,OAAQ,CACN7D,WAAY,QAEd8D,OAAQ,CACN1D,YAAa,QAEfsW,SAAU,CACRC,SAAU,IACVC,UAAW,KAEbnD,KAAM,CACJkD,SAAU,KAEZvB,UAAW,CACTvU,QAAS,IAEXgW,aAAc,CACZD,UAAW,KAEbE,aAAc,CACZC,UAAW,IACXrU,OAAQ,IACR8B,SAAU,UAEZwS,KAAM,CACJ3U,UAAW,IAEb4U,KAAM,CACJ7T,aAAc,IAEhB8T,WAAY,CACV3C,UAAW,UAEb4C,cAAe,CACbxS,OAAQ,WAEVpB,OAAQ,CACNA,OAAQ,mBAEV6T,UAAW,CACT1U,OAAQ,KAEV2U,aAAc,CACZN,UAAW,IACXrU,OAAQ,KAEV4U,aAAc,CACZP,UAAW,IACXrU,OAAQ,KAEV6U,aAAc,CACZX,UAAW,IACXpS,SAAU,UAEZgT,OAAQ,CACNpY,gBAAiBoX,GACjBrO,MAAOiO,GACPzK,WAAY,KAEd8L,SAAU,CACRrY,gBAAiBqX,GACjBtO,MAAOmO,GACP3K,WAAY,MAxGoB,0BA0GvB,CACT9K,QAAS,KA3GuB,qBA6G5B,CACJuC,aAAc,KA9GkB,+BAgHlB,CACdoB,SAAU,WAjHsB,+BAmHlB,CACdA,SAAU,WApHsB,gCAsHjB,CACfA,SAAU,YAvHsB,6BAyHpB,CACZuS,UAAW,IACXrU,OAAQ,MA3HwB,6BA6HpB,CACZkU,UAAW,IACXpS,SAAU,WA/HsB,iCAiIhB,CAChB9C,SAAU,aAlIsB,0BAoIvB,CACTb,QAAS,KArIuB,4BAuIrB,CACXkW,UAAW,GACXrU,OAAQ,KAzIwB,gCA2IjB,CACfiV,UAAW,SACXC,UAAW,WA7IqB,yCAAC,aAgJjCzY,QAAS,OACTyB,WAAY,SACZC,QAAS5B,EAAMoB,QAAQ,EAAG,IAEvBpB,EAAM6B,OAAOC,SApJgB,IAqJhCC,eAAgB,cArJgB,0BAuJvB,CACTH,QAAS,KAxJuB,sCA0JX,CACrBa,SAAU,QACVK,IAAK,GACLF,MAAO,GACPU,OAAQ,EACR1C,OAAQ,MA/JwB,oCAiKb,CACnBT,gBAAiB,kBACjBoF,SAAU,SACVN,aAAc,gBApKkB,iCAsKhB,CAChBxB,OAAQ,SAvKwB,kCAyKf,CACjB3C,MAAO,OACPqI,OAAQ,IA3KwB,iCA6KhB,CAChB7E,OAAQ,OACRW,aAAc,MACdV,UAAW,sEAhLqB,4BAkLrB,CACXuT,UAAW,GACXrU,OAAQ,KApLwB,6BAsLpB,CACZqU,UAAW,IACXrU,OAAQ,MAxLwB,mCA0Ld,CAClBqU,UAAW,MACXrU,OAAQ,QA5LwB,qBA8L5B,CACJM,SAAU,UA/LsB,qBAiM5B,CACJ5C,YAAa,KAlMmB,qBAoM5B,CACJJ,WAAY,KArMoB,oBAuM7B,CACH0C,OAAQ,OACR3C,MAAO,OACPmE,aAAc,MACd/E,QAAS,iBA3MuB,8BA6MnB,CAAE+E,aAAc,IA7MG,oBA8M7B,CACHnE,MAAO,QA/MyB,iCAiNhB,CAChB8X,cAAe,QAlNiB,0BAoNvB,CACThX,QAAS,KArNuB,wBAuNzB,CACPmC,SAAU/D,EAAM6Y,WAAWC,QAAQ,IACnCpM,WAAY1M,EAAM6Y,WAAWE,oBAzNG,+BA2NlB,CACdzU,OAAQ,EACR0U,KAAM,gBACNvV,OAAQ,EACR0F,QAAS,EACT5D,SAAU,SACV3D,QAAS,EACTa,SAAU,WACVK,IAAK,GACLhC,MAAO,IApOyB,4BAsOrB,CACXqI,OAAQnJ,EAAMoB,QAAQ,GACtBsW,SAAU,MAxOsB,4BA0OrB,CACXvX,gBAAiB,0BA3Oe,8BA6OnB,CACbA,gBAAiB,2BA9Oe,8BAgPnB,CACbA,gBAAiB,0BAjPe,gCAmPjB,CACfA,gBAAiB,2BApPe,iCAsPhB,CAChBsC,SAAU,WACVK,KAAM,GACNF,OAAQ,GACRU,OAAQ,EACR1C,OAAQ,MA3PwB,4CAAC,aA8PjCV,QAAS,OACTyB,WAAY,SACZC,QAAS5B,EAAMoB,QAAQ,EAAG,IAEvBpB,EAAM6B,OAAOC,SAlQgB,IAmQhCC,eAAgB,cAnQgB,6BAqQpB,CACZ+V,UAAW,IACXvS,SAAU,WAvQsB,oBAyQ7B,CACH4D,OAAQ,KA1QwB,mBA4Q9B,CACFA,OAAQ,IA7QwB,sBA+Q3B,CACLrI,MAAOd,EAAMoB,QAAQ,GACrBqC,OAAQzD,EAAMoB,QAAQ,KAjRU,2BAmRtB,CACVsW,SAAU,IACVC,UAAW,IACXpU,KAAM,MACNT,IAAK,MACL6C,UAAU,wBACVlD,SAAU,WACV6S,UAAW,SACXnV,gBAAiB+f,KA3Re,+BA6RlB,CACdzd,SAAU,WACVK,IAAK,MACLS,KAAM,MACNoC,UAAU,wBACVwD,OAAQ,IACRrI,MAAO,QAnSyB,K,GCHsB+E,EAAQ,IAA1DjM,G,GAAAA,cAAeyP,G,GAAAA,cAAe+W,G,GAAAA,gB,GCDoBva,EAAQ,IAA1DjM,G,GAAAA,cAAeyP,G,GAAAA,c,OAAe+W,gB,yECCzBC,GAAW,SAAC,GAA0B,IAAxBra,EAAuB,EAAvBA,QAAShE,EAAc,EAAdA,QAI9B2Y,EAAUC,cAJkC,EAK+C3U,qBAAWoD,iBAAa,QAAjHwM,EAL0C,EAK1CA,gBAAiB9O,EALyB,EAKzBA,cAAeuZ,EALU,EAKVA,iBAAkBxK,EALR,EAKQA,uBAAwByK,EALhC,EAKgCA,WALhC,EAMhB9P,mBAAS,MANO,mBAMzC+P,EANyC,KAM/BC,EAN+B,OAONhQ,mBAAS1J,EAAciO,WAAWoB,gBAAgBgI,OAAS,IAPrD,mBAOzCsC,EAPyC,KAO1BC,EAP0B,KAQxC3K,EAAwChU,EAAxCgU,iBAAkB4K,EAAsB5e,EAAtB4e,kBAQpBC,EAAc,SAACrV,EAAUsV,GAC7BL,EAAY,MACI,MAAZjV,GACF+U,GAAW,GACXD,EAAiB,IACjB3F,EAAQhT,KAAK,KACbpJ,KACsB,UAAbiN,EACTqK,EAAgB,CACd,MAAQ,EACR,iBAAoB,YAEO,kBAAbrK,GAChBsK,EAAuBtK,EAAUsV,IAOrC,OAJApN,qBAAU,WACRiN,EAAiB5Z,EAAciO,WAAWoB,gBAAgBgI,OAAS,MAClE,CAACrX,EAAciO,aAGhB,sBAAK1O,UAAS,UAAKN,EAAQ+a,YAA3B,UACE,eAACra,EAAA,EAAD,CACEG,aAAW,0BACXmN,gBAAc,cACdgN,gBAAc,OACdra,QA9Bc,SAAC4E,GACnBkV,EAAYlV,EAAM0V,gBA8Bd/X,MAAM,UALR,UAOE,cAACgY,GAAA,EAAD,CAAQC,IAAKpa,EAAcqa,YAAYpT,KAAMqT,IAAKta,EAAcqa,YAAYE,SAAUhb,UAAWN,EAAQ9C,OAEzG,cAAC4H,GAAA,EAAD,UACwE,kBAA9D/D,EAAciO,WAAWoB,gBAAgBC,iBAC/CtP,EAAciO,WAAWoB,gBAAgBC,iBAAiB7c,OAAO,GAAGU,cAAgB6M,EAAciO,WAAWoB,gBAAgBC,iBAAiBoH,UAAU,GAAK,QAGnK,eAAC,KAAD,CACEpiB,GAAG,cACHmlB,SAAUA,EACVe,aAAW,EACX9a,KAAM+a,QAAQhB,GACd/N,QAASoO,EALX,UAOE,cAACpS,GAAA,EAAD,CAAUgT,WAAW,EAArB,+BAEC5lB,OAAOD,KAAKoa,GAAkB9a,KAAI,SAAAmS,GACjC,OAAQ,cAACoB,GAAA,EAAD,CAENgT,WAAW,EACX9a,QAAS,kBAAMka,EAAYxT,EAAK,eAH1B,SAG0ClG,KAAEiB,WAAWiF,IAFxDzT,yBAAc,kCAAD,OAAmCyT,QAKzD,cAACqJ,GAAA,EAAD,CAASpQ,UAAWN,EAAQ3D,UAC5B,cAACoM,GAAA,EAAD,CAAU9H,QAAS,kBAAMka,EAAY,OAArC,sBACA,cAACnK,GAAA,EAAD,CAASpQ,UAAWN,EAAQ3D,UAC5B,cAACoM,GAAA,EAAD,CAAU9H,QAAS,kBAAMka,EAAY,UAArC,qCACChlB,OAAOD,KAAKglB,GAAmBznB,OAAS,gCACvC,cAACud,GAAA,EAAD,CAASpQ,UAAWN,EAAQ3D,UAC5B,eAACoM,GAAA,EAAD,WAAWmS,EAAkBc,cAA7B,KAA8ChB,KAC9C,cAACjS,GAAA,EAAD,UACE,cAAC1D,GAAA,EAAD,CACE1P,GAAG,qBACHW,QAAS4kB,EAAkB5kB,SAAW,GACtCoP,eAAgB,SAACC,GAAD,OAAYA,EAAOzC,OACnCQ,MAAO,CAAEtI,MAAO,KAChBwK,SAAU,SAACC,GAAD,OAAWsV,EAAatV,EAAMY,OAAOwV,WAAa,GAAK,UACjEhW,YAAa,SAACC,GAAD,OAAY,cAACC,GAAA,EAAD,2BAAeD,GAAf,IACvBhD,MAAOgY,EAAkBgB,kBACzBrb,QAAQ,eAEVwF,YAAY,aACZ8V,iBAAiB,OACjBC,UAAW,SAACvW,GAAD,OAAWA,EAAMwW,0BAEZ,UCvFjBC,GAAS,SAAC,GAAiC,IAA/BhgB,EAA8B,EAA9BA,QAAShC,EAAqB,EAArBA,MAAOgG,EAAc,EAAdA,QAKnC2U,EAAUC,cALuC,EASrB3U,qBAAWoD,iBAAa,QAFhDtC,EAP6C,EAO7CA,cACNZ,GARmD,EAO9Bma,iBAP8B,EAQnDna,YAAYC,EARuC,EAQvCA,cACZ8S,EATmD,EASnDA,IAAKC,EAT8C,EAS9CA,YAAaC,EATiC,EASjCA,QACCpE,GAAejO,EAA5Bqa,YAA4Bra,EAAfiO,YAVgC,GAY7BjO,EAAhBE,YAC4BwJ,wBAAS+I,IAbQ,mBAa9C9O,EAb8C,KAalC+O,EAbkC,OAcXhJ,wBAAS+I,GAdE,mBAc9CyI,EAd8C,KAc/BpX,EAd+B,KAgBrD6I,qBAAU,WAGR,GAAI0F,GAAWpX,GAAWA,EAAQyF,eAAe,gBAAiB,CAChE,IAAIya,GAAe,EAMnB,OALA/I,EAAYgJ,EAA6B,CAACF,IAAgB1E,MAAK,SAAA6E,GACzDF,GACFzI,EAAc2I,MAGX,kBAAMF,GAAe,MAE7B,CAAClN,EAAYoE,EAAS6I,IAEzB,IAAME,EAA2B,uCAAG,WAAO/V,GAAP,2BAAAjQ,EAAA,6DAK9BkmB,EAAkBrgB,EAAQsgB,aAC1BC,EAAaF,EAAgBpE,YAC7B7R,IACFmW,EAAWpP,QAAQ,kBAAnB,WAA2C/G,EAA3C,MARgC,SAUH8M,EAAImF,GAAGnF,EAAIoF,iBAAiB,CAAEC,cAAe8D,EAAgB7D,cAAgB,OAAQtgB,KAAMqkB,KAVxF,OAalC,IAHI9D,EAV8B,OAW9BT,EAAgB,GAChBU,EAA0B,GAZI,WAazBnlB,GACP,IAAIipB,EAAiBH,EAAgBG,eAAetnB,KAAI,SAAAunB,GAAK,OAAIhE,EAAmBllB,GAAGkpB,MAAQroB,KAAK,MAChGa,EAAQonB,EAAgBpnB,MAAMC,KAAI,SAAAD,GAAK,OAAIwjB,EAAmBllB,GAAG0B,MAAQynB,WAC7EhE,EAAwB/W,KAAK,CAC3B,MAAS1M,EACT,MAASunB,EACT,MAAU/D,EAAmBllB,GAAnB,MAAkCklB,EAAmBllB,GAAnB,WAAiCigB,KANxEjgB,EAAI,EAAGA,EAAIklB,EAAmBtlB,OAAQI,IAAM,EAA5CA,GAbyB,OAsBlCykB,EAAa,aAAmBU,EAtBE,kBAuB3BV,GAvB2B,4CAAH,sDA0B3B2E,EAAqB,CACzB,YAAa,cAGf,OACE,cAACtD,EAAA,EAAD,CAAerf,MAAOA,EAAtB,SACE,cAAC4iB,GAAA,EAAD,CACEngB,SAAS,QACT6D,UAAWuc,aAAK7c,EAAQ5F,QAF1B,SAIE,eAAC0iB,GAAA,EAAD,WACE,cAACpc,EAAA,EAAD,CACEwC,MAAM,UACNrC,aAAW,cACXF,QAAS,kBAAMP,GAAeD,IAC9B4c,KAAK,QAJP,SAMG5c,EAAa,cAACS,EAAA,EAAD,IAAkB,cAACuN,GAAA,EAAD,MAGjCnS,EAAQghB,OACP,cAAC9B,GAAA,EAAD,CAAQC,IAAI,OACVE,IAAKrf,EAAQghB,OACb5Z,MAAOpH,EAAQihB,YAAcjhB,EAAQihB,YAAc,GACnD1c,QAAQ,WACL,GAENvE,EAAQ4G,MAAQ,cAACkC,GAAA,EAAD,CAAYxE,UAAWN,EAAQ/C,KAAMsD,QAAQ,KAA7C,SAAmDvE,EAAQ4G,QAAsB,GAEjG8B,GAAcA,EAAW4X,aACxB,cAACrP,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAI,EAAG9M,UAAS,UAAKN,EAAQpB,OAAb,YAAuBoB,EAAQ9C,MAA1D,SACE,cAAC,GAAD,CACEuH,WAAYzI,EAAQsgB,aACpB5X,WAAYA,EAAW4X,aACvB3X,OAAQ,SAACe,EAAYF,GACfE,GAAcF,GAChBmP,EAAQhT,KAAK,CACXsX,SAAU0D,EAAmBjX,GAC7BwT,OAAO,GAAD,OAAMgE,mBAAmBxX,GAAzB,YAAwCF,MAIpDxF,QAASA,EACT4E,QAAS,QACTC,iBAAkBA,MACR,GAEhB,cAACsY,GAAA,EAAD,CAAOC,aAAc,EAAGla,MAAM,QAAQ5C,UAAWoE,GAAcA,EAAW4X,aAAzB,UAA2Ctc,EAAQ9C,MAAnD,UAA+D8C,EAAQpB,OAAvE,YAAiFoB,EAAQ9C,MAA1I,SACE,cAACmgB,GAAA,EAAD,MAEF,cAAC,GAAD,CAAUrd,QAASA,EAAShE,QAASA,EAAQshB,mB,sBC/G1CC,GAAY,SAAC,GAAiB,IAAfvd,EAAc,EAAdA,QAAc,EAIZC,qBAAWoD,iBAAa,QAD5CC,EAHgC,EAGhCA,cAAeka,EAHiB,EAGjBA,iBACrB1O,EAJsC,EAItCA,SAAUC,EAJ4B,EAI5BA,YAEZ,OACE,cAAC6N,GAAA,EAAD,CAAQngB,SAAS,QAAQyG,MAAM,cAAc5C,UAAWN,EAAQlB,aAAhE,SACE,eAACge,GAAA,EAAD,CAASvc,QAAQ,QAAjB,UACE,cAAC+L,GAAA,EAAD,CACEhM,UAAS,UAAKN,EAAQpB,OAAb,YAAuBoB,EAAQ9C,MACxChD,QAAQ,SACRujB,UAAW,cAACC,GAAA,EAAD,IACX/c,QAAS,WACHmO,GAAUC,GAAaD,GAC3B0O,GAAkBla,IANtB,oBAUA,cAACgJ,GAAA,EAAD,CACEpS,QAAQ,SACRujB,UAAW,cAACE,GAAA,EAAD,IACXhd,QAAS,WACH2C,GAAeka,GAAkBla,GACrCyL,GAAaD,IALjB,wB,OCnBD,I,aCDmDjP,EAAQ,IAA1DjM,G,GAAAA,cAAeyP,G,GAAAA,cAGVua,I,GAHyBxD,gBAGhB,SAAC,GAA8B,IAA5Bpe,EAA2B,EAA3BA,QAAS6hB,EAAkB,EAAlBA,YAAkB,EAEkC5d,qBAAWoD,GAAa,QAAtGtC,EAF4C,EAE5CA,cAAeuZ,EAF6B,EAE7BA,iBAAuBwD,GAFM,EAEX5K,IAFW,EAEN4K,QAEnBC,GAJyB,EAEEC,YAFF,EAEeC,eACzCld,EAAhBE,YAC2DjF,EAA3DkiB,gBAA2DliB,EAA1C+hB,MAAMI,EAAoCniB,EAApCmiB,UAAWC,EAAyBpiB,EAAzBoiB,qBAEpCC,EAAc,uCAAG,WAAOjC,GAAP,qBAAAjmB,EAAA,0DACjBimB,EAASvE,MADQ,uDAGI7f,EAAgB,2BAAK+I,GAAN,IAAqBqa,YAAagB,EAASkC,WAAYtP,WAAY6O,KAHtF,OAGf5lB,EAHe,OAKbU,EAAgBV,EAAWF,QAAQY,cAAgBV,EAAWF,QAAQY,cAAgB,GACtF1C,EAAcgC,EAAWF,QAAQwmB,eAAiBtmB,EAAWF,QAAQwmB,eAAeC,eAAiB,GACrGtL,EAAMxa,EAAgB,CAAEC,gBAAe1C,gBAE7CqkB,EAAiBriB,EAAWF,SAC5B+lB,EAAO5K,GAVY,4CAAH,sDAaduL,EAAc,UAAMC,gDAAN,+BACd1e,EAAUlG,KAEhB,OACE,qBAAKwG,UAAS,UAAKN,EAAQ/F,KAAb,0BAAmC+F,EAAQuZ,kBAAzD,SACE,cAACtM,GAAA,EAAD,CAAMC,WAAS,EAEb5M,UAAS,UAAKN,EAAQuZ,kBAFxB,SAGE,cAACtM,GAAA,EAAD,CAAMzL,MAAI,EAAC4L,GAAI,GAAI9M,UAAW,yBAC5B8C,MAAOgb,GAA8C,GADvD,SAGE,cAAC7P,GAAA,EAAD,CAAMjO,UAAWN,EAAQ2e,WAAzB,SACE,sBAAKre,UAAWN,EAAQ4e,eAAxB,UACE,qBACEvD,IAAK0C,EACL3a,MAAO+a,GAAwB,KAEjC,eAAC7N,GAAA,EAAD,WACE,cAACxL,GAAA,EAAD,CAAYvE,QAAQ,KAAKsB,UAAU,KAAnC,SACG7F,EAAQ6iB,aAEX,cAAC/Z,GAAA,EAAD,CAAYvE,QAAQ,QAAQsB,UAAU,IAAtC,SACG7F,EAAQ8iB,cAGb,cAACjO,GAAA,EAAD,CAAavQ,UAAS,UAAKN,EAAQyO,cAAnC,SACE,cAAC,eAAD,CACEsQ,SAAUN,EACVO,WAAW,QACXC,UAAWZ,EACXa,UAAWb,EACXc,aAAc,iCAzBnBvrB,GAAc,qB,UC9BdwrB,GAAiB,CAC5B,KAAQ,UACR,MAAS,UACT,aAAgB,OAChB,YAAe,mCACf,K,QAAQC,EACR,UNA6B,SAACpoB,GAAW,IAAD,EACNwT,mBAAS,GADH,mBACjC6I,EADiC,KACnBC,EADmB,OAEJ9I,wBAAS+I,GAFL,mBAErBC,GAFqB,aAGJhJ,mBAAS,IAHL,mBAGrB6U,GAHqB,aAIZ7U,mBAAUqJ,OAAOC,YAAcoG,IAJnB,mBAIjC1c,EAJiC,KAIzBuW,EAJyB,OAK0E/T,qBAAWoD,GAAa,QAAlItC,EALgC,EAKhCA,cALgC,IAKjBA,cAAiBiO,EALA,EAKAA,WAA0BoE,GAL1B,EAKYmM,WALZ,EAK0BnM,SAAcD,GALxC,EAKmCD,IALnC,EAKwCC,aAAanS,EALrD,EAKqDA,iBALrD,EAMmB/J,EAAnDqW,cAAiBP,EANe,EAMfA,cAAeC,EANA,EAMAA,KAClCqG,GAPkC,EAMMmM,OACpBxS,GACpBhN,EAAUlG,KAEhB4T,qBAAU,WACRoG,OAAOwC,iBAAiB,UAAU,kBAAMtC,EAAWF,OAAOC,YAAcoG,SACvE,CAACpN,IAEJW,qBAAU,WACJ0F,IACFD,EAAYkD,EAAuB,CAAC,YAAItJ,KACxC0G,OAAcD,MAEf,CAACxE,EAAYoE,EAASpS,IAGzB0M,qBAAU,WACR,IAAI8J,EAAkBzW,EAAcpI,cAAc8e,UAAU,EAAG1W,EAAcpI,cAAc+e,YAAY,MACvGf,kBAAegB,KAAKH,EAAiB,WACpC,IAEH,IAAMnB,EAAwB,SAAUtJ,GAGtCwJ,KAAE,mBAAD,OAAoB3iB,GAAcoZ,GAAlC,aAAmDpY,KAAK,IAEzDmY,EAAc7X,IAAd,uCAAkB,WAAMuhB,GAAN,eAAAtgB,EAAA,sDACe,YAA3BsgB,EAAkBzJ,OAChByS,EAAYhJ,EAAkBphB,GACxBohB,EAAkBiJ,IAE1B/I,kBAAegJ,oBAAoBF,GAChC5I,SAASjjB,GAAc,mBAAD,OAAoByf,EAApB,YAAyCoD,EAAkBphB,MACjFyhB,cAAc,iBACdG,WAAW,CACVyI,IAAKjJ,EAAkBiJ,IACvBE,OAAQ,iBAET1I,GAAG,yBAAyB,SAAC3R,OAE7B8R,QACAC,UACAC,MAAK,SAACsI,GACLtM,EAAU,GACV+L,EAAcO,GACd,IAAIrI,EAAkBzW,EAAcpI,cAAc8e,UAAU,EAAG1W,EAAcpI,cAAc+e,YAAY,MACvGf,kBAAegB,KAAKH,MAErBI,OAAM,SAACC,GACNrgB,QAAQqgB,MAAM,mBAAoBA,MAGtClB,kBAAegJ,oBAAoBF,GAChC5I,SAASjjB,GAAc,mBAAD,OAAoByf,EAApB,YAAyCoD,EAAkBphB,MACjFyhB,cAAc,iBACdG,WAAW,CACV2I,OAAQ,gBAET1I,GAAG,yBAAyB,SAAC3R,OAE7B8R,QACAC,UACAC,MAAK,SAACsI,GACLtM,EAAU,GACV+L,EAAcO,GACd,IAAIrI,EAAkBzW,EAAcpI,cAAc8e,UAAU,EAAG1W,EAAcpI,cAAc+e,YAAY,MACvGf,kBAAegB,KAAKH,MAErBI,OAAM,SAACC,GACNrgB,QAAQqgB,MAAM,mBAAoBA,OA3C1B,2CAAlB,wDAkDF,OACE,qBAAKvX,UAAS,UAAKN,EAAQ/F,KAAb,kBACZmJ,MAAO,CAAE3F,UADX,SAEE,cAAC8Q,GAAA,EAAD,CAAMX,UAAW,EACftN,UAAS,UAAKN,EAAQsZ,UAAb,YAA0BtZ,EAAQuZ,iBAAlC,YAAsDvZ,EAAQ8f,gBADzE,SAGE,cAAC7S,GAAA,EAAD,CAAMC,WAAS,EAAf,SAEE,sBAAK5M,UAAWN,EAAQ/F,KAAxB,UACE,cAACqU,GAAD,CACEjT,KAAMiY,EACNtT,QAASA,EACTvC,OAAQA,IACV,cAAC2Q,GAAA,EAAD,CAAK9N,UAAWgT,EAAY,aAAWtT,EAAQjB,QAA/C,SACE,eAACkO,GAAA,EAAD,CAAMC,WAAS,EACb9R,QAAS,EAETkF,UAAS,UAAKN,EAAQ+f,mBAHxB,UAKE,cAAC,GAAD,2BAAgB9oB,GAAhB,IACE+I,QAASA,EACTgP,WAAYA,EACZvR,OAAQA,EFxGe,ME0GzB,cAACwP,GAAA,EAAD,CAAMzL,MAAI,EACR4L,GAAI,GADN,SAGE,cAACgB,GAAA,EAAD,CAAK9N,UAAS,UAAKN,EAAQ2L,KAAb,YAAqB3L,EAAQhC,WAAa0Q,GAAI3B,EAAc,GAAGzD,QAAUyD,EAAc,GAAGmE,mBAAqB,EAAI,EAAjI,SACE,cAACvN,GAAD,CAAgB3D,QAASA,EAAzB,SACE,qBACEM,UAAS,yBAAoB1M,GAAcoZ,IAC3C3X,GAAIzB,GAAc,kBAAD,OAAmByf,EAAnB,YAAwCtG,EAAc,GAAG1X,MACrEzB,GAAc,kBAAD,OAAmByf,EAAnB,YAAwCtG,EAAc,GAAG1X,cAlBrF,UAEUzB,GAAcyf,EAAoB,0BAT3Czf,GAAcoZ,SMxF3B,cAAiB,CACf,CACE,KAAQ,UACR,GAAM,sBACN,MAAS,yBAEb,wBAA2B,G,UCJhBgT,GAAmB,CAC9B,KAAQ,eACR,MAAS,aACT,aAAgB,OAChB,YAAe,mCACf,K,QAAQC,EACR,URRuB,SAAChpB,GAAW,IAAD,EACAwT,mBAAS,GADT,mBAC3B6I,EAD2B,aAEN7I,mBAAUqJ,OAAOC,YAAcoG,KAFzB,mBAE3B1c,EAF2B,KAEnBuW,EAFmB,OAGoB/T,qBAAWoD,GAAa,QAAtEtC,cAAiBiO,EAHS,EAGTA,WAHS,KAGGuQ,WACsBtoB,EAAnDqW,eAAiBP,EAJS,EAITA,cAAeC,EAJN,EAIMA,KAAMwS,EAJZ,EAIYA,OACxCnM,EAAoBrG,EACpBhN,EAAUlG,KACZgP,EAAW4L,cAPmB,EAQFjK,mBAASsC,EAAc,GAAGmT,KARxB,mBAQ3BC,EAR2B,KAQjBC,EARiB,KA0BlC,OAhBA1S,qBAAU,WACRoG,OAAOwC,iBAAiB,UAAU,kBAAMtC,EAAWF,OAAOC,YAAcoG,SACvE,CAACpN,IAEJqN,GAAgBrN,EAAc,GAAIyS,GAElC9R,qBAAU,WACR,IAAI9H,EAASwT,KAAY5S,MAAMsC,EAASoQ,UACftT,EAAOya,SAG9BD,EAAYxa,EAAM,WAGnB,CAACkD,EAASoQ,SAGX,qBAAK5Y,UAAS,UAAKN,EAAQ/F,KAAb,kBACZmJ,MAAO,CAAE3F,UADX,SAEE,cAAC8Q,GAAA,EAAD,CAAMX,UAAW,EAAGtN,UAAS,UAAKN,EAAQsZ,UAAb,YAA0BtZ,EAAQuZ,iBAAlC,YAAsDvZ,EAAQ8f,gBAA3F,SAEE,cAAC7S,GAAA,EAAD,CAAMC,WAAS,EAAf,SAEE,sBAAK5M,UAAWN,EAAQ/F,KAAxB,UAEE,cAACqU,GAAD,CACEjT,KAAMiY,EACNtT,QAASA,EACTvC,OAAQA,IAEV,cAAC2Q,GAAA,EAAD,CAAK9N,UAAWgT,EAAY,aAAWtT,EAAQjB,QAA/C,SACE,eAACkO,GAAA,EAAD,CAAMC,WAAS,EACb9R,QAAS,EAETkF,UAAS,UAAKN,EAAQ+f,mBAHxB,UAME,cAAC,GAAD,2BAAgB9oB,GAAhB,IACE+I,QAASA,EACTgP,WAAYA,EACZvR,OAAQA,EDnDe,MCqDxB0iB,EACC,wBAAQG,KAAMH,EAAUnT,KAAK,kBAAkB1M,UAAS,UAAKN,EAAQ4R,aAAb,YAA6B5R,EAAQ2L,MAA7F,SACE,wBAAQ0P,IAAG,6CAAwC8E,EAAxC,kBAAkE/c,MAAO,CAAE3F,OAAQ,OAAQ3C,MAAO,YACnG,KAdhB,UAEUlH,GAAcyf,EAAoB,0BAX3Czf,GAAcoZ,SQvB3B,cAAiB,CACf,CACE,KAAQ,YACR,GAAM,KACN,MAAS,aACT,QAAU,EACV,QAAW,GACX,IAAO,8DAEX,OAzBa,CACbA,KAAM,SAAC/X,GACL,MAAwB,kBAAVA,GAEhB2N,MAAO,SAAC3N,GACN,MAAwB,kBAAVA,IAqBhB,wBAA2B,GC7BhB+a,GAAmB,CAC9B,QAAW,CACT,cACA,YACA,sBACA,wBACA,uBAEF,cAAiB,CACf,cACA,YACA,sBACA,wBACA,sBACA,uBACA,gCACA,gBACA,oBACA,eACA,sBACA,uBACA,eACA,aACA,wBACA,sBACA,yBACA,UACA,YAISuQ,GAAqB,CAChC,QAAW,gBACX,cAAiB,iBAGN1C,GAAc,CACzB,iBAAoB,GACpB,WAAc,GACd,UAAa,GACb,eAAkB,MAClB,oBAAsB,EACtB,kBAAqB,GACrB,UAAa,CACX,GAEF,YACE7N,GAAiBna,OAAOD,KAAKoa,IAAkB,IACjD,OAAU,CACR,UAEF,gBAAmB,CACjB,OAAU,QACV,QAAW,MACX,aAAgB,gBAChB,iBAAoBna,OAAOD,KAAKoa,IAAkB,KAIzCC,GAAsB,CACjC,QAAW,CACT,MAAS,eACT,KAAQ,CACN,iCACA,2BACA,wBAGJ,cAAiB,CACf,MAAS,gBACT,KAAQ,CACN,qCACA,gDACA,qDACA,6CACA,yBCxEA8N,GAAOle,EAAQ,MAAsBiV,QAE9B0L,GAAgB,CAC3B,aAAgB,CACd,WAAc,YACd,aAAgB,iBAChB,YAAe,CACb,MAAS,SACT,KAAQ,cACR,OAAU,CACR,iBACA,oBAEF,QAAW,CACT,mBAAoB,YAEtB,eAAkB,sBAClB,MAAS,IAEX,aAAgB,OAChB,eAAkB,CAChB,kBACF,MAAS,CACP,oBACF,8BAAiCxG,GACjC,cAAiB,SACjB,iBAAmB,GAErB,SAAY,CAAEhK,oBAAkB4K,kBDiDD,IChD/B,MAAS,wBACT,OAAUmD,GACV,YAAe,CACb,OAAU,OACV,KAAQ,UCpCNA,GAAOle,EAAQ,MAA2BiV,QAC1C2L,GAAqBhtB,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,EACrDuqB,GAAkBre,QAAQ,sBAAuB4gB,GAAxB,SAAkD3L,QAEpE4L,GAAgB,CAC3B,WAAc,UACd,SAAY,6CACZ,KAAQ3C,GACR,UAAa,CACX,OAAU,QACV,MAAS,QAEX,gBAAmBG,GACnB,qBAAwB,CACtB,gBAAkB,OAAlB,OAA0BA,GAA1B,KACA,eAAkB,UCGdtqB,GAAkBiM,EAAQ,KAA1BjM,cAEO,SAAS+sB,GAAK1pB,GAAO,MAE0CgJ,qBAAWC,KAAjFoa,EAF4B,EAE5BA,iBAAkBvZ,EAFU,EAEVA,cAAemS,EAFL,EAEKA,IAAaE,GAFlB,EAEU0K,OAFV,EAEkB1K,SAASmH,EAF3B,EAE2BA,WACvDqG,EAAkBC,cAAlBD,cACFjM,EAAUC,cACR5U,EAAUlG,IACVgnB,EAAcC,kBAAO,GANO,EAOEtW,mBAASqJ,OAAOkN,WAAa,KAP/B,mBAO3B7gB,EAP2B,KAOfC,EAPe,OAQQqK,oBAAS,GARjB,mBAQ3BnH,EAR2B,KAQZka,EARY,OASF/S,oBAAS,GATP,mBAS3BqE,EAT2B,KASjBC,EATiB,OAUMtE,mBAAS,IAVf,mBAU3BmF,EAV2B,KAUbC,EAVa,OAWcpF,mBAASmW,GAXvB,mBAW3B5f,EAX2B,KAWTigB,EAXS,OAakElgB,EAA5FiO,WAAiCqB,GAbP,aAa8B,CAAED,gBAAiB,YAbjD,GAaZA,gBAAmBC,iBACnC6Q,GAAyBrrB,OAAOD,KAAKoa,IAAkBtb,QAAQ2b,GAC/D8Q,GAA2BhgB,IAAEmI,OAAOvJ,GAA0B,SAAAqhB,GAAa,OAAIA,EAAcC,yBAA2BH,MAC1HI,GAAa,eAAQd,IACrBc,GAAchF,cAAgB4E,GAAyBI,GAAchF,aAAaiF,8BAA8BF,gCAC3GC,GAAchF,aAGvB,IA0FIkF,GA1FE1R,GAAsB,uCAAG,WAAOtK,EAAUsV,GAAjB,mBAAA3kB,EAAA,6DAEzBsrB,EAFyB,eAEJ1gB,EAAciO,YACtB,UAAb8L,EACF2G,EAAcrR,gBAAgBgI,MAAQ5S,EAChB,eAAbsV,IACT2G,EAAcC,YAAc1R,GAAiBxK,GAC7Cic,EAAcrR,gBAAgBC,iBAAmB7K,EACjDic,EAAcrR,gBAAgBuR,aAAepB,GAAmB/a,IARrC,SAWI5O,MAAM,oBAAqB,CAC1De,OAAQ,OACRN,QAAS,CACPO,OAAQ,mBACR,eAAgB,oBAElBM,KAAMC,KAAKC,UAAUqpB,KAjBM,cAWvBG,EAXuB,gBAoBMA,EAAmB5qB,OApBzB,OAoBzB6qB,EApByB,OAqB7BvH,EAAiBuH,EAAuB9pB,SArBX,2CAAH,wDAyBtBob,GAAW,uCAAG,WAAO2O,GAAP,6BAAA3rB,EAAA,6DAAa4rB,EAAb,+BAAoB,GACtCvqB,QAAQC,IAAI,eADM,SAGQuB,EAAW+H,EAAcwd,eAAetlB,YAHhD,UAaW,YAbX,OAaAG,OAbA,iBAchBmhB,GAAW,GACXD,EAAiB,IACjB3F,EAAQhT,KAAK,KACbpJ,IAjBgB,+BAmBZypB,EAAMF,EAAI,WAAJ,cAAQC,IAnBF,kBAoBTC,GApBS,4CAAH,sDAwBjBtU,qBAAU,WAER,IAAI8J,EAAkBzW,EAAcpI,cAAc8e,UAAU,EAAG1W,EAAcpI,cAAc+e,YAAY,MACvGf,iBAAegB,KAAKH,EAAiB,SAGrC1D,OAAOwC,iBAAiB,UAAU,WAChClW,EAAc0T,OAAOkN,WAAa,QAIpClN,OAAOwC,iBAAiB,gBAAgB,SAAC7gB,GACvC8kB,GAAW,GACXD,EAAiB,IACjB3F,EAAQhT,KAAK,KACbpJ,IAOA,OADC9C,GAAKqe,OAAOvO,OAAO0c,YADM,eAM3B,IAEHvU,qBAAU,WACJoT,EAAYoB,UAETpB,EAAYoB,SAAU,MAI/BxU,qBAAU,WACJpK,GAAeka,GAAkBla,GACjCwL,GAAUC,GAAaD,GAC3BmS,EAAoBL,KACnB,CAACA,IAGJ,IAAMuB,GAA6BhhB,IAAEgI,KAAKgY,IAA0B,SAAC3rB,GACnE,OAAOwL,IAAqBpN,GAAcuN,IAAEwB,UAAUnN,EAAEoN,WAK1D,OAHKuf,GACAX,GAAsBW,GAA2BtgB,UADrB8S,EAAQhT,KAAK/N,GAAcuN,IAAEwB,UAAUwe,GAAyB,GAAGve,SAIlG,qBAAKtC,UAAWN,EAAQ/F,KAAxB,SAEE,cAACiG,EAAA,EAAWkiB,SAAZ,CAAqBntB,MAAO,CAC1B8L,gBAAeuZ,mBACf1K,eAAcC,kBACdC,0BACA3P,aAAYC,gBACZY,mBACAsC,gBAAeka,mBACf1O,WAAUC,cACVmE,MACAC,eACAnZ,MAAOX,EACP+Z,UAASmH,cAXX,SAaE,eAAClB,EAAA,EAAD,CAAerf,MAAOX,EAAtB,UACE,cAACgpB,EAAA,EAAD,IACA,cAAC,GAAD,CACErmB,QAASslB,GACTtnB,MAAOX,EACP2G,QAASA,IAEX,cAAC,GAAD,CAAsBhE,QAAS,CAAEgU,oBAAkBC,wBAAuBjQ,QAASA,IACnF,cAACF,EAAD,CAAYC,yBAA0BohB,KACtC,uBACE7gB,UAAWuc,YAAK7c,EAAQhE,QAAT,eACZgE,EAAQ9D,aAAeiE,IAF5B,UAME,qBAAKG,UAAWN,EAAQtE,eACvB8lB,GAAsB,cAACA,GAAD,CAAqBlU,cAAe6U,KAAiC,MAG9F,cAAC,GAAD,CAAWniB,QAASA,W,cC/EfsiB,OAlFf,SAAarrB,GAAQ,IAAD,EAEwBwT,mBAAS,IAFjC,mBAEX1J,EAFW,KAEIuZ,EAFJ,OAGI7P,qBAHJ,mBAGXyI,EAHW,KAGN4K,EAHM,OAIoBrT,qBAJpB,mBAIXuT,EAJW,KAIEC,EAJF,OAKYxT,oBAAS,GALrB,mBAKX2I,EALW,KAKFmH,EALE,KA0ClB,OAlCA7M,qBAAU,WAAM,4CACd,kCAAAvX,EAAA,sEAEgCuB,IAFhC,QAEQG,EAFR,QAGsBE,UAEZY,EAAgBd,EAAgBc,cAAgBd,EAAgBc,mBAAgB6a,EAChFvd,EAAc4B,EAAgB0mB,eAAiB1mB,EAAgB0mB,eAAeC,oBAAiBhL,EAEjG7a,GAAiB1C,IACbid,EAAMxa,EAAgB,CAAEzC,cAAa0C,kBAC3CmlB,EAAO5K,IAGToH,EAAiBziB,EAAgBE,UAbrC,4CADc,uBAAC,WAAD,wBAiBdwqB,KACC,IAEH7U,qBAAU,WACR,GAAI3M,GAAiBmS,EAAKqH,GAAW,QAChC,GAAIxZ,EAAcqa,YAAa,CAClC,IAAMziB,EAAgBoI,EAAcpI,cAAgBoI,EAAcpI,cAAgB,GAC5E1C,EAAc8K,EAAcwd,eAAiBxd,EAAcwd,eAAeC,eAAiB,GAC3FtL,EAAMxa,EAAgB,CAAEzC,cAAa0C,kBAC3CmlB,EAAO5K,MAER,CAACnS,EAAemS,IAEnB1b,QAAQC,IAAI,CAAEsJ,kBAKZ,cAAE,IAAF,UACE,cAACb,EAAA,EAAWkiB,SAAZ,CAAqBntB,MAAO,CAC1B8L,gBAAeuZ,mBACfpH,MAAK4K,SACLE,cAAaC,iBACb7K,UAASmH,cAJX,SAME,eAAC,IAAD,WACE,cAAC,GAAD,CACEiI,KAAK,6BAELC,aAAY1hB,EAAcqa,YAC1BvZ,UAAW8e,GACX1C,eAAgBA,EAChBD,YAAaA,IAGf,cAAC,GAAD,CACEwE,KAAK,IACLE,OAAK,EACLD,aAAY1hB,EAAcqa,YAC1BvZ,UAAW+b,GACXI,YAAaA,EACbhiB,QAAS0kB,GACT7C,YAAaA,KAIf,cAAC,IAAD,CAAO8E,OAAQ,kBAAM,cAAC,IAAD,CAAU7f,GAAG,iBAatC8f,GAAe,SAAC,GAIL,IAHJC,EAGG,EAHdhhB,UACA4gB,EAEc,EAFdA,WACAxE,EACc,EADdA,eACG6E,EAAW,2DAKd,OAHKL,EACAxE,IADYA,EAAenK,OAAOhL,SAASia,MAK9C,cAAC,IAAD,yBAAOL,OAAK,GACNI,GADN,IACYH,OAAQ,SAAC1rB,GAAD,OACfwrB,EACC,cAACI,EAAD,eAAe5rB,IACb,cAAC,IAAD,CACA6L,GAAG,WAOTkgB,GAAc,SAAC,GAMJ,IANiBH,EAMlB,EANOhhB,UACrB4gB,EAKc,EALdA,WAEAzE,EAGc,EAHdA,YACAhiB,EAEc,EAFdA,QACA6hB,EACc,EADdA,YACGiF,EAAW,gFAERG,EAAmB,GACzBptB,OAAOD,KAAKmK,GAA0B7K,KAAI,SAAAmS,GACxC4b,EAAiBrvB,yBAAcuN,IAAEwB,UAAU5C,EAAyBsH,GAAKzE,SACvEhP,yBAAcuN,IAAE+hB,UAAUnjB,EAAyBsH,GAAK2F,UAG5D,IAAImW,EAAW,kBACf,GAAInF,EAAa,CACf,IAAIoF,EAAiBpF,EAAY/pB,MAAM,KACnCovB,EAAiBD,EAAejvB,OAAO,GACvCmvB,EAAiBF,EAAejvB,OAAO,GAEvC8uB,EAAiBxhB,eAAe6hB,KAAiBH,EAAWE,EAAejvB,KAAK,MAGtF,OAGE,aAFA,CAEC,IAAD,yBAAOsuB,OAAK,GACNI,GADN,IACYH,OAAQ,SAAC1rB,GAAD,OACfwrB,EACC,cAAC,IAAD,CACE3f,GAAIqgB,IAEJ,cAACN,EAAD,2BAAe5rB,GAAf,IACA+E,QAASA,EACT6hB,YAAaA,UC7ILrC,QACW,cAA7B1H,OAAOhL,SAASya,UAEe,UAA7BzP,OAAOhL,SAASya,UAEhBzP,OAAOhL,SAASya,SAASjd,MACvB,2DCZNkd,IAASb,OAAO,cAAC,GAAD,IAAS7tB,SAAS2uB,eAAe,SD6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMrM,MAAK,SAAAsM,GACjCA,EAAaC,iB,0WEjIJ5jB,E,OAFI6P,EAAMgU,cAAc,M,QCE1B7wB,EAAS,SAACC,GAIrB,IAHA,IAAIC,EAAS,GACTC,EAAa,iEACbC,EAAmBD,EAAWF,OACzBI,EAAI,EAAGA,EAAIJ,EAAQI,IAC1BH,GAAUC,EAAWG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWL,IAEzD,OAAOF,GAIIQ,EAAgB,SAACC,GAI5B,OAAOA,EAAIC,QAAQ,mBAAoB,KAG5BC,EAAiB,SAACF,GAC7B,IAAIN,EAAGS,EAAQH,EAAII,MAAM,KACzB,IAAKV,EAAI,EAAGA,EAAIS,EAAMb,OAAQI,IAC5BS,EAAMT,GAAKS,EAAMT,GAAGC,OAAO,GAAGU,cAAgBF,EAAMT,GAAGY,MAAM,GAE/D,OAAOH,EAAMI,KAAK,MAGPC,EAAa,SAACC,GAIzB,IAHA,IAAIC,EACAC,EAAS,GACTC,EAASH,EAAIH,MAAMG,EAAII,QAAQ,KAAO,GAAGT,MAAM,KAC1CV,EAAI,EAAGA,EAAIkB,EAAOtB,OAAQI,IAEjCiB,GADAD,EAAOE,EAAOlB,GAAGU,MAAM,MACX,IAAMM,EAAK,GAIzB,OAAOC,GAEIG,EAAa,SAACC,GACzB,IAAIC,EAAMC,SAASC,cAAc,YAEjC,OADAF,EAAIG,UAAYJ,EACTC,EAAII,OAGAoO,EAAgB,CAC3B,KAAQ2gB,EACR,OAAUC,KAGC7J,EAAkB,SAAC8J,EAAQ1E,GACtC,IAAI2E,EAAStuB,OAAOD,KAAK4pB,GAAQlW,QAAO,SAAUjC,GAChD,OAAQmY,EAAOnY,GAAK6c,EAAO7c,OAC1BnS,KAAI,SAAUmS,GACf,OAAO,IAAI3R,MAAM2R,EAAM,mBAGrB8c,EAAOhxB,OAAS,EAClBgxB,EAAOC,SAAQ,SAAUvM,GACvBrgB,QAAQC,IAAIogB,EAAMpf,YAGpBjB,QAAQC,IAAI,mB,sSCjEhB,WAEMyI,EAFN,OAEmB6P,EAAMgU,cAAc,MAExB7jB,O","file":"static/js/main.18d11872.chunk.js","sourcesContent":["module.exports = {\n  makeid: (length) => {\n    var result = '';\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    var charactersLength = characters.length;\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  },\n\n\n  validIdHelper: (str) => {\n    // console.log('validIdHelper')\n    // console.log('str', str)\n    //need to replace special characters that may be associated with id...\n    return str.replace(/[^a-zA-Z0-9-.#]/g, \"\")\n  },\n\n  prettifyString: (str) => {\n    var i, frags = str.split('_');\n    for (i = 0; i < frags.length; i++) {\n      frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);\n    }\n    return frags.join(' ');\n  },\n\n  getUrlVars: (url) => {\n    var hash;\n    var myJson = {};\n    var hashes = url.slice(url.indexOf('?') + 1).split('&');\n    for (var i = 0; i < hashes.length; i++) {\n      hash = hashes[i].split('=');\n      myJson[hash[0]] = hash[1];\n      // If you want to get in native datatypes\n      // myJson[hash[0]] = JSON.parse(hash[1]); \n    }\n    return myJson;\n  },\n  decodeHtml: (html) => {\n    var txt = document.createElement(\"textarea\");\n    txt.innerHTML = html;\n    return txt.value;\n  }\n}","export default __webpack_public_path__ + \"static/media/logo.9e22027d.svg\";","export default __webpack_public_path__ + \"static/media/logo_text.9a896a2a.svg\";","var map = {\n\t\"./background1.jpg\": 1235,\n\t\"./background2.jpg\": 1236,\n\t\"./background3.jpg\": 1237,\n\t\"./background4.jpg\": 1238\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1234;","export default __webpack_public_path__ + \"static/media/background1.eca6d4e8.jpg\";","export default __webpack_public_path__ + \"static/media/background2.470ffd11.jpg\";","export default __webpack_public_path__ + \"static/media/background3.b1679fbb.jpg\";","export default __webpack_public_path__ + \"static/media/background4.b1679fbb.jpg\";","import { AuthToken, AuthSession, BrowserTransport } from \"@looker/sdk\";\n\nexport class PblSession extends AuthSession {\n  fetchToken() {\n    return fetch(\"\");\n  }\n  activeToken = new AuthToken();\n  constructor(settings, transport) {\n    super(settings, transport || new BrowserTransport(settings));\n  }\n  isAuthenticated() {\n    const token = this.activeToken;\n    if (!(token && token.access_token)) return false;\n    return token.isActive();\n  }\n  async getToken() {\n    if (!this.isAuthenticated()) {\n      const token = await this.fetchToken();\n      this.activeToken.setToken(await token.json());\n    }\n    return this.activeToken;\n  }\n  async authenticate(props) {\n    const token = await this.getToken();\n    if (token && token.access_token) {\n      props.mode = \"cors\";\n      delete props.credentials;\n      props.headers = {\n        ...props.headers,\n        Authorization: `Bearer ${this.activeToken.access_token}`\n      };\n    }\n    return props;\n  }\n}\n\nexport class PblSessionEmbed extends PblSession {\n\n  accessToken;\n\n  constructor(options) {\n    super(options);\n    this.accessToken = options.accessToken;\n  }\n\n  fetchToken() {\n    return this.accessToken;\n  }\n\n  async getToken() {\n    if (!this.isAuthenticated()) {\n      this.activeToken.setToken(this.fetchToken());\n    }\n    return this.activeToken;\n  }\n}","import { Looker40SDK, DefaultSettings } from \"@looker/sdk\";\nimport { PblSessionEmbed } from './pblsession';\nconsole.log({ PblSessionEmbed })\n\nexport const checkForExistingSession = async () => {\n  // console.log('checkForExistingSession')\n  let sessionResponse = await fetch('/readsession', {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n  const sessionResponseData = await sessionResponse.json();\n  return { session: sessionResponseData.session };\n}\n\nexport const writeNewSession = async (newSession) => {\n  // console.log('writeNewSession')\n  let newSessionResponse = await fetch('/writesession', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ ...newSession })\n  })\n  const newSessionResponseData = await newSessionResponse.json();\n  return { session: newSessionResponseData.session };\n}\n\nexport const endSession = async () => {\n  // console.log('endSession')\n  let endSessionResponse = await fetch('/endsession', {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  })\n  const endSessionResponseData = await endSessionResponse.json();\n  return { message: endSessionResponse };\n}\n\nexport const createSdkHelper = ({ accessToken, lookerBaseUrl }) => {\n  // console.log('createSdkHelper')\n  // console.log({ accessToken })\n  // console.log({ lookerBaseUrl })\n\n  if (accessToken && lookerBaseUrl) { //added 11/22\n    const pblsession = new PblSessionEmbed({\n      ...DefaultSettings(),\n      base_url: lookerBaseUrl,\n      accessToken\n    });\n\n    let sdk = new Looker40SDK(pblsession);\n    return sdk;\n  }\n\n}\n\nexport const checkToken = async (expires_in) => {\n  // console.log('checkToken?????');\n  // console.log({ expires_in });\n  // console.log('Date.now()', Date.now());\n  // let dateeee = new Date(expires_in);\n  // console.log({ dateeee })\n\n  if ((Date.now()) > expires_in) {\n    // console.log('inside iff')\n    // let sessionResponse = await fetch('/refreshlookertoken', {\n    //   method: 'GET',\n    //   headers: {\n    //     Accept: 'application/json',\n    //     'Content-Type': 'application/json'\n    //   }\n    // })\n    // const sessionResponseData = await sessionResponse.json();\n    // const lookerBaseUrl = sessionResponseData.session.lookerBaseUrl ? sessionResponseData.session.lookerBaseUrl : '';\n    // const accessToken = sessionResponseData.session.lookerApiToken ? sessionResponseData.session.lookerApiToken.api_user_token : '';\n    // const sdk = createSdkHelper({ accessToken, lookerBaseUrl })\n    // return { status: \"updated\", sdk, clientSession: sessionResponseData.session }\n    return { status: \"expired\" }\n\n  } else {\n    // console.log(\"inside ellse\")\n    return { status: \"ok\" }\n  }\n}\n\n","import { createMuiTheme } from '@material-ui/core/styles'\nimport { grey } from '@material-ui/core/colors';\n\nexport const packageNameTheme = createMuiTheme({\n  palette: {\n    primary: {\n      main: grey[900],\n    },\n    secondary: {\n      main: grey[400],\n    },\n    fill: {\n      main: \"#BC403A\"\n    },\n  },\n})","import { packageNameTheme } from '../../config/theme.js'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = 240;\nexport const useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    backgroundColor: 'rgb(229, 229, 229)'\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    zIndex: 1201,\n    backgroundColor: packageNameTheme.palette.fill.main\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    borderRight: 'none',\n    backgroundColor: 'transparent'\n  },\n  drawerPaper: {\n    width: drawerWidth,\n    borderRight: 'none',\n    backgroundColor: 'transparent'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n    // backgroundColor: '#343D4E',\n    // color: '#ffff'\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n  title: {\n    flexGrow: 1,\n  },\n  tabs: {\n    borderRight: `1px solid ${theme.palette.divider}`,\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  relative: {\n    position: 'relative'\n  },\n  absolute: {\n    position: 'absolute'\n  },\n  right0: {\n    right: 0\n  },\n  top0: {\n    top: 0\n  },\n  right24: {\n    right: 24\n  },\n  top24: {\n    top: 24\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  mr12: {\n    marginRight: 12\n  },\n  mt12: {\n    marginTop: 12\n  },\n  highlightLegend: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    left: theme.spacing(2),\n    zIndex: 1200\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400\n  },\n  parentHoverVisibility: {\n    '&:hover $childHoverVisibility': {\n      visibility: 'visible'\n    }\n\n  },\n  childHoverVisibility: {\n    visibility: 'hidden'\n  },\n  fontSize1em: {\n    fontSize: '1em'\n  },\n  padding10: {\n    padding: 10\n  },\n  mt5: {\n    marginTop: 5\n  },\n  mb5: {\n    marginBottom: 5\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  list: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: 'transparent'\n    // theme.palette.background.paper,\n  },\n  nested: {\n    paddingLeft: theme.spacing(4),\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  appBarBottom: {\n    top: 'auto',\n    bottom: 0,\n    // backgroundColor: 'transparent'\n  },\n  hidden: {\n    visibility: 'hidden'\n  },\n  roundedTab: {\n    borderRadius: '0 100px 100px 0'\n  },\n  paddingBottom30: {\n    paddingBottom: 30\n  },\n  mtAuto: {\n    marginTop: 'auto'\n  },\n  mb10: {\n    marginBottom: 10\n  },\n  modalPopover: {\n    position: 'absolute',\n    width: 1000,\n    height: 604,\n    overflow: 'scroll',\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(2, 4, 3),\n  },\n  modalCard: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    overflow: 'scroll',\n    cursor: 'pointer',\n    '&:hover': {\n      transform: 'scale(1.05)',\n      transition: 'transform .2s'\n    }\n  },\n}), { index: 1 });\n\n\n","import _ from 'lodash'\nimport React, { useContext } from 'react';\nimport { Link } from \"react-router-dom\";\nimport AppContext from '../../contexts/AppContext';\nimport { Drawer, IconButton, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core/';\nimport { ChevronLeft } from '@material-ui/icons';\nimport { useStyles } from './styles.js';\n\nconst { validIdHelper } = require('../../tools');\n\nexport default function LeftDrawer({ DemoComponentsContentArr }) {\n  // console.log('LeftDrawer');\n\n  const classes = useStyles();\n  const { drawerOpen, setDrawerOpen, } = useContext(AppContext);\n\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"persistent\"\n      anchor=\"left\"\n      open={drawerOpen}\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <div className={classes.drawerHeader}>\n        <IconButton\n          onClick={() => setDrawerOpen(false)}>\n          <ChevronLeft\n            aria-label=\"close drawer\"\n          />\n        </IconButton>\n      </div>\n\n      <MenuList\n        classes={classes}\n        DemoComponentsContentArr={DemoComponentsContentArr} />\n\n    </Drawer>\n  )\n}\n\nfunction MenuList({ classes, DemoComponentsContentArr }) {\n  // console.log(\"MenuList\")\n  const { clientSession, selectedMenuItem } = useContext(AppContext);\n  const { packageName } = clientSession;\n\n  let orderedDemoComponentsForMenu = packageName ? _.orderBy(DemoComponentsContentArr, ['menuCategory'], ['asc']) : [];\n  let orderedDemoComponentsForMenuObj = {};\n  let expandedTreeItemsArr = [];\n  let cumulativePusher = 0;\n  orderedDemoComponentsForMenu.map((item, index) => {\n    if (orderedDemoComponentsForMenuObj.hasOwnProperty(item.menuCategory)) {\n      orderedDemoComponentsForMenuObj[item.menuCategory] = [...orderedDemoComponentsForMenuObj[item.menuCategory], item]\n    } else {\n      orderedDemoComponentsForMenuObj[item.menuCategory] = [item];\n      cumulativePusher += 1;\n      expandedTreeItemsArr.push(\"\" + (index + cumulativePusher));\n    }\n  });\n\n  return (<List\n    component=\"nav\"\n    aria-labelledby=\"nested-list-subheader\"\n    className={classes.list}\n  >\n    {packageName ? Object.keys(orderedDemoComponentsForMenuObj).map((outerItem, outerIndex) => {\n      return (\n        < React.Fragment\n          key={`${validIdHelper(outerItem + '-menuList-' + outerIndex)}`}>\n          <ListItem\n            key={`${validIdHelper(outerItem + '-outerListItem-' + outerIndex)}`}\n          >\n            <ListItemText primary={outerItem === 'home' ? '' : _.capitalize(outerItem)} />\n          </ListItem>\n          < List component=\"div\" disablePadding\n            key={`${validIdHelper(outerItem + '-innerList-' + outerIndex)}`}>\n            {orderedDemoComponentsForMenuObj[outerItem].map((item, innerIndex) => {\n              const MatchingIconComponent = item.icon\n              return (\n                <ListItem\n                  button\n                  className={`${classes.nested} ${classes.roundedTab}`}\n                  key={`${validIdHelper(outerItem + '-innerListItem-' + innerIndex)}`}\n                  selected={validIdHelper(_.lowerCase(item.label)) === selectedMenuItem}\n                  component={Link}\n                  to={validIdHelper(_.lowerCase(item.label))}\n                >\n                  <ListItemIcon>\n                    {MatchingIconComponent ? <MatchingIconComponent /> : <></>}\n                  </ListItemIcon>\n                  <ListItemText primary={_.capitalize(item.label)} />\n                </ListItem>\n              )\n            })}\n          </List>\n        </React.Fragment>\n      )\n    }) : ''\n    }\n  </List >\n  )\n}\n","import React, { useContext } from 'react';\nimport { Chip } from '@material-ui/core';\nimport { appContextMap } from '../../utils/tools';\n\n// maybe move this to config?\nexport const API_COLOR = '#A142F4'\nexport const API_BACKGROUND_COLOR = 'rgba(161, 66, 244, 0.1)'\nexport const EMBED_COLOR = '#12B5CB'\nexport const EMBED_BACKGROUND_COLOR = 'rgba(18, 181, 203, 0.1)'\nexport const EMBED_METHOD_COLOR = '#297AF4'\nexport const EMBED_METHOD_BACKGROUND_COLOR = 'rgba(41, 122, 244, 0.1)'\n\nfunction Highlight({ children, color, height, width, margin, id, backgroundColor, ...props }) {\n  const { highlightShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  var style = {};\n  if (highlightShow) {\n    style = {\n      ...style,\n      border: `3px solid ${color}`,\n      backgroundColor: `${backgroundColor}`,\n      borderRadius: `4px`,\n      position: 'relative',\n    }\n  } else {\n    style = {\n      border: `3px solid transparent`,\n      backgroundColor: `transparent`,\n    }\n  }\n\n  if (height) { style['height'] = height }\n  if (width) { style['width'] = width }\n  if (margin) { style['margin'] = margin }\n\n\n  return (\n    <div id={id} style={style}\n    // {...props}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport function ApiHighlight({ ...props }) {\n  const { highlightShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]); //useContext(AppContext)\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={API_COLOR} backgroundColor={API_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"API\"}\n      className={highlightShow ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{ backgroundColor: \"#A142F4\", color: '#fff', top: '-10px', right: '10px', position: 'absolute' }}\n    />\n    {children}\n\n  </Highlight>\n}\n\nexport function EmbedHighlight({ ...props }) {\n  const { highlightShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]); //useContext(AppContext)\n\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={EMBED_COLOR} backgroundColor={EMBED_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"Embed\"}\n      className={highlightShow ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{\n        backgroundColor: \"#12B5CB\",\n        color: '#fff',\n        top: '-10px',\n        right: '10px',\n        position: 'absolute',\n      }}\n    />\n    {children}\n\n  </Highlight>\n}\n\nexport function EmbedMethodHighlight({ ...props }) {\n  const { highlightShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]); //useContext(AppContext)\n  const { classes } = props\n  const { children } = props\n\n  return <Highlight {...props} color={EMBED_METHOD_COLOR} backgroundColor={EMBED_METHOD_BACKGROUND_COLOR}>\n\n    <Chip size=\"small\"\n      label={\"Embed Method\"}\n      className={highlightShow ? 'test' : `${classes.hidden}`}\n      display=\"inline\"\n      align=\"right\"\n      style={{\n        backgroundColor: \"#297AF4\",\n        color: '#fff',\n        top: '-10px',\n        right: '10px',\n        position: 'absolute'\n      }}\n    />\n    {children}\n\n  </Highlight>\n}\n","import React from 'react';\n\nexport function NumberToColoredPercent({ val, positive_good, abs_val }) {\n  const colors = {\n    up: (positive_good) ? 'green' : 'red',\n    down: (positive_good) ? 'red' : 'green'\n  }\n  const color = (val < 0) ? colors.down : (val > 0) ? colors.up : 'black'\n  const val_formatted = Math.abs(val).toLocaleString(\"en\", { style: \"percent\", minimumFractionDigits: 2 })\n  const icon = (val < 0) ? '▼' : (val > 0) ? '▲' : '—'\n\n  return (<>\n    <font\n      color={color}\n    >\n      {`${icon} ${val_formatted}`}\n    </font>\n  </>\n  )\n}","import _ from 'lodash';\nimport React from 'react';\nimport { Typography, Grid, TextField } from '@material-ui/core';\nimport { Autocomplete } from '@material-ui/lab';\nimport { ApiHighlight } from '../Accessories/Highlight';\nimport { NumberToColoredPercent } from '../Accessories/NumberToColoredPercent';\n\nimport parse from \"autosuggest-highlight/parse\";\nimport match from \"autosuggest-highlight/match\";\n\nconst { validIdHelper } = require('../../utils/tools');\n\nexport const AutoComplete = ({ filterItem, apiContent, classes, action, bgColor, setDynamicSearch }) => {\n  // console.log(\"AutoComplete\");\n  // console.log({ filterItem })\n  // console.log({ apiContent })\n\n  return (\n    filterItem ?\n      <ApiHighlight\n        key={validIdHelper(`dashEmbed-${filterItem.label}`)}\n        classes={classes} >\n        <Typography>\n          {filterItem.label ? filterItem.label : \"\"}\n        </Typography>\n        <Autocomplete\n          id={`combo-box-dashboard-${filterItem.label}`}\n          options={Array.isArray(apiContent) ?\n            apiContent :\n            []}\n          renderOption={handleRenderOption} // highlighter\n          getOptionLabel={(option) => option.label}\n          onChange={(event, newValue) => {\n            let newValueToUse = '';\n            if (newValue && newValue.value) newValueToUse = newValue.value\n            else if (newValue && newValue.label) newValueToUse = newValue.label\n            action(\n              filterItem.filterName,\n              newValueToUse)\n          }}\n          renderInput={(params) => <TextField {...params}\n            label={filterItem.alternateName ? filterItem.alternateName : filterItem.filterName}\n            variant=\"outlined\"\n          />}\n          loadingText=\"Loading...\"\n          style={{\n            backgroundColor: bgColor || \"\"\n          }}\n          onInputChange={_.debounce((event) => {\n            if (filterItem.apiDrivenSearch && event.target.value) setDynamicSearch(event.target.value)\n          }, 1000)}\n\n        />\n      </ApiHighlight> : \"\"\n  )\n}\n\nconst handleRenderOption = (option, { inputValue }) => {\n  const matches = match(option.label, inputValue);\n  const parts = parse(option.label, matches);\n\n  const highlightStyle = {\n    fontWeight: 700,\n    backgroundColor: \"lightyellow\",\n    padding: \"5px 2px\"\n  };\n\n  return (\n    <div>\n      {parts.map((part, index) => (\n        <span key={index} style={part.highlight ? highlightStyle : {}}>\n          {part.text}\n        </span>\n      ))}\n      {option.trend &&\n        <NumberToColoredPercent\n          val={option.trend}\n          positive_good={true}\n          abs_val={Math.abs(option.trend)}\n        />\n      }\n    </div>\n  );\n};\n\nexport default handleRenderOption;","import _ from 'lodash';\nimport React from 'react';\nimport { Typography } from '@material-ui/core'\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport const ToggleTile = ({ classes, tileToggleValue, handleTileToggle, filterItem }) => {\n  return (\n\n    <EmbedMethodHighlight classes={classes} >\n      <Typography\n      >\n        {filterItem.label}\n      </Typography>\n      <ToggleButtonGroup\n        value={tileToggleValue}\n        exclusive\n        onChange={handleTileToggle}\n        aria-label=\"text alignment\"\n      >\n        {Object.keys(filterItem.tileLookUp).map(key => {\n          return (\n            <ToggleButton\n              key={validIdHelper(`dynamicDashTileToggle-${key}`)}\n              value={key}\n              aria-label=\"left aligned\">\n              {key}\n            </ToggleButton>\n          )\n        })}\n      </ToggleButtonGroup>\n    </EmbedMethodHighlight>\n\n  )\n}\n","import _ from 'lodash';\nimport React from 'react';\nimport { Typography } from '@material-ui/core'\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport const ToggleVisColor = ({ classes, visColorToggleValue, handleVisColorToggle, filterItem }) => {\n  return (\n\n    <EmbedMethodHighlight classes={classes} >\n      <Typography\n      >{filterItem.label}</Typography>\n      <ToggleButtonGroup\n        value={visColorToggleValue}\n        exclusive\n        onChange={handleVisColorToggle}\n        aria-label=\"text alignment\"\n      >\n        {Object.keys(filterItem.colors).map(key => {\n          return (\n            <ToggleButton\n              key={validIdHelper(`dynamicDashVisConfigToggle-${key}`)}\n              value={key} aria-label=\"left aligned\">\n              <span className={`${classes.dot}`} style={{\n                backgroundColor: (filterItem.colors[key][filterItem.colors[key].length - 2]\n                  || key)\n              }}></span>\n            </ToggleButton>\n          )\n        })}\n      </ToggleButtonGroup>\n\n    </EmbedMethodHighlight>\n  )\n}\n","import React from 'react';\nimport { Typography, Grid, Switch } from '@material-ui/core'\nimport { EmbedHighlight } from '../Accessories/Highlight';\n\n\nexport const SwitchTheme = ({ classes, lightThemeToggleValue, handleThemeChange }) => {\n  return (\n    <EmbedHighlight classes={classes} >\n      <Typography\n      >{lightThemeToggleValue ? \"Light mode\" : \"Dark mode\"}</Typography>\n\n      <Switch\n        checked={!lightThemeToggleValue}\n        onChange={() => handleThemeChange(null, !lightThemeToggleValue)}\n        color=\"primary\"\n        name=\"light theme toggle\"\n        inputProps={{ 'aria-label': 'primary checkbox' }}\n      />\n\n    </EmbedHighlight>\n  )\n}\n","import React from 'react';\nimport { FormControl, Select, MenuItem, InputLabel } from '@material-ui/core'\nimport { EmbedHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport const SelectFont = ({ classes, fontThemeSelectValue, handleThemeChange, filterItem }) => {\n  return (\n    <EmbedHighlight classes={classes} >\n      <FormControl className={classes.formControl}>\n        <InputLabel id=\"demo-simple-select-label\"\n        >{filterItem.label}</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={fontThemeSelectValue}\n          onChange={(event) => {\n            handleThemeChange(null, event.target.value)\n          }}\n        >\n          {filterItem.options.map(item => {\n            return < MenuItem\n              key={validIdHelper(`filter-select${item}`)}\n              value={item.toLowerCase()} > {item}</MenuItem>\n          })}\n        </Select>\n      </FormControl>\n\n    </EmbedHighlight >\n  )\n}\n","import { CheckboxSVGMap } from \"react-svg-map\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport _ from 'lodash'\n\nCheckboxSVGMap.prototype.toggleLocation = function toggleLocation(event) {\n  const location = event.target;\n  // console.log('location', location)\n  // console.log('this.props.map', this.props.map)\n\n  this.setState(prevState => {\n\n    // Copy old state\n    let selectedLocations = [...prevState.selectedLocations];\n    // console.log('selectedLocations', selectedLocations)\n    // console.log('selectedLocations.length', selectedLocations.length)\n\n    //get region associated with states\n    let regionFromStateClicked = _.find(this.props.map.locations, { id: location.id })\n    //all states belonging to region clicked\n    let statesWithinRegionClicked = _.filter(this.props.map.locations, { region: regionFromStateClicked.region })\n\n    //get all unique regions\n    let allUniqueRegions = [];\n    for (let i = 0; i < this.props.map.locations.length; i++) {\n      if (allUniqueRegions.indexOf(this.props.map.locations[i].region) == -1) {\n        allUniqueRegions.push(this.props.map.locations[i].region)\n      }\n    }\n    //get unique regions only from selected locations\n    let allUniqueRegionsFromSelectedLocations = [];\n    for (let j = 0; j < selectedLocations.length; j++) {\n      if (allUniqueRegionsFromSelectedLocations.indexOf(selectedLocations[j].region) == -1) {\n        allUniqueRegionsFromSelectedLocations.push(selectedLocations[j].region)\n      }\n    }\n    //determine which regions are not currently selected\n    let regionsNotCurrentlySelected = _.differenceBy(allUniqueRegions, allUniqueRegionsFromSelectedLocations);\n    let allRegionsNotSelected = [...regionsNotCurrentlySelected, regionFromStateClicked.region];\n    //filter all locations, for all the regions that have not been selected :D\n    let statesNotWithinRegionsClicked = _.filter(this.props.map.locations, (location) => {\n      return allRegionsNotSelected.indexOf(location.region) == -1\n    });\n\n    if (location.attributes['aria-checked'].value === 'true') {\n      // Delete location\n      selectedLocations = statesNotWithinRegionsClicked;\n    } else {\n      // Add location\n      selectedLocations.push(...statesWithinRegionClicked);\n    }\n\n    // Call onChange event handler\n    if (this.props.onChange) {\n      this.props.onChange(selectedLocations);\n    }\n\n    // Return new state\n    return { selectedLocations };\n  });\n}\n\nCheckboxSVGMap.prototype.componentDidMount = function componentDidMount() {\n  //override components for all states to be selected initially\n  this.setState({ selectedLocations: this.props.map.locations });\n}\n\nexport { CheckboxSVGMap as CheckboxSVGMap } \n","import Usa from \"@svg-maps/usa\";\nimport {\n  SentimentDissatisfied, SentimentSatisfied, SentimentVerySatisfied,\n} from '@material-ui/icons';\n\nexport const customUsa = {\n  ...Usa,\n  label: \"Custom map label\",\n  locations: Usa.locations.map(location => {\n    // Modify each location\n    switch (location.name) {\n      //9\n      case \"Connecticut\":\n      case \"Maine\":\n      case \"Massachusetts\":\n      case \"New Hampshire\":\n      case \"Rhode Island\":\n      case \"Vermont\":\n      case \"New Jersey\":\n      case \"New York\":\n      case \"Pennsylvania\":\n      case \"Delaware\":\n        return { ...location, region: \"Northeast\" }\n      //12\n      case \"Illinois\":\n      case \"Indiana\":\n      case \"Michigan\":\n      case \"Ohio\":\n      case \"Wisconsin\":\n      case \"Iowa\":\n      case \"Kansas\":\n      case \"Minnesota\":\n      case \"Missouri\":\n      case \"Nebraska\":\n      case \"North Dakota\":\n      case \"South Dakota\":\n        return { ...location, region: \"Midwest\" }\n      //16\n      case \"Florida\":\n      case \"Georgia\":\n      case \"Maryland\":\n      case \"North Carolina\":\n      case \"South Carolina\":\n      case \"Virginia\":\n      case \"District of Columbia\":\n      case \"Washington, DC\":\n      case \"West Virginia\":\n      case \"Alabama\":\n      case \"Kentucky\":\n      case \"Mississippi\":\n      case \"Tennessee\":\n      case \"Arkansas\":\n      case \"Louisiana\":\n      case \"Oklahoma\":\n      case \"Texas\":\n        return { ...location, region: \"South\" }\n      //8\n      case \"Arizona\":\n      case \"Colorado\":\n      case \"Idaho\":\n      case \"Montana\":\n      case \"Nevada\":\n      case \"New Mexico\":\n      case \"Utah\":\n      case \"Wyoming\":\n        return { ...location, region: \"Mountain\" }\n      //5\n      case \"Alaska\":\n      case \"California\":\n      case \"Hawaii\":\n      case \"Oregon\":\n      case \"Washington\":\n        return { ...location, region: \"Pacific\" }\n      // default:\n      //   return location\n    }\n  })\n}\nexport const lifetimeRevenueTierMap = {\n  \"0 to 99\": \"low\",\n  \"100 to 499\": \"medium\",\n  \"500 or Above\": \"high\",\n}\nexport const lifetimeRevenueTierIconMap = {\n  \"0 to 99\": SentimentDissatisfied,\n  \"100 to 499\": SentimentSatisfied,\n  \"500 or Above\": SentimentVerySatisfied,\n}\n","import React, { useState } from 'react';\nimport { Typography } from '@material-ui/core'\nimport { CheckboxSVGMap } from \"./CheckboxSvgMapRegion\";\nimport { customUsa } from './helpers';\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport function MapFilter({ classes, action, filterItem }) {\n\n  const [regionValue, setRegionValue] = useState('Pacific, South, Mountain, Midwest, Northeast');\n\n  return (\n    <EmbedMethodHighlight classes={classes}\n      key={validIdHelper(`dashEmbed-${filterItem.label}`)} >\n      <Typography className={`${classes.heading} ${classes.ml12}  ${classes.verticalAlignTop}`}\n      >\n        {filterItem.label}: <b>{regionValue ? regionValue : \"Outside US\"}</b>\n      </Typography>\n\n      <CheckboxSVGMap map={customUsa}\n        onChange={(locations) => {\n\n          let allUniqueRegionsFromSelectedLocations = [];\n          for (let j = 0; j < locations.length; j++) {\n            if (allUniqueRegionsFromSelectedLocations.indexOf(locations[j].region) == -1) {\n              allUniqueRegionsFromSelectedLocations.push(locations[j].region)\n            }\n          }\n          let allUniqueRegionsFromSelectedLocationsCommaSep = allUniqueRegionsFromSelectedLocations.join(\",\")\n          setRegionValue(allUniqueRegionsFromSelectedLocationsCommaSep)\n          action(\n            filterItem.filterName,\n            (regionValue) ? regionValue : '')\n        }}\n      />\n    </EmbedMethodHighlight>\n  )\n}\n","import React, { useState } from 'react';\nimport { Typography, Slider } from '@material-ui/core'\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\n\nexport const RangeSlider = ({ apiContent, classes, action, filterItem }) => {\n\n  const [sliderValue, setSliderValue] = useState([]);\n\n  return (\n    <EmbedMethodHighlight classes={classes}\n      key={validIdHelper(`dashEmbed-${filterItem.label}`)} >\n      <Typography className={`${classes.heading} ${classes.ml12}  ${classes.verticalAlignTop}`}>\n        {filterItem.label}:\n        </Typography>\n      <Slider\n        value={sliderValue.length ? sliderValue : Array.isArray(apiContent) ? [apiContent[0].label, apiContent[apiContent.length - 1].label] : []}\n        onChange={(event, newValue) => {\n          setSliderValue(newValue);\n        }}\n        valueLabelDisplay=\"auto\"\n        aria-labelledby=\"range-slider\"\n        onChangeCommitted={(event, newValue) => {\n          action(\n            filterItem.filterName,\n            (newValue) ? `[${newValue}]` : '[]')\n        }}\n        min={Array.isArray(apiContent) && apiContent.length ? apiContent[0].label : 0}\n        max={Array.isArray(apiContent) && apiContent.length ? apiContent[apiContent.length - 1].label : 0}\n        disabled={Array.isArray(apiContent) && apiContent.length ? false : true}\n      />\n    </EmbedMethodHighlight>\n  )\n}\n","import _ from 'lodash';\nimport React, { useState } from 'react';\nimport { Typography } from '@material-ui/core'\nimport { lifetimeRevenueTierMap, lifetimeRevenueTierIconMap } from './helpers';\nimport { ToggleButton, ToggleButtonGroup } from '@material-ui/lab';\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\nconst { validIdHelper } = require('../../utils/tools');\n\nexport const ToggleApi = ({ apiContent, classes, action, filterItem }) => {\n\n  const [lifetimeRevenueTierValue, setLifetimeRevenueTierValue] = useState('0-24');\n  return (\n    <EmbedMethodHighlight classes={classes}\n      key={validIdHelper(`dashEmbed-${filterItem.label}`)} >\n      <Typography className={`${classes.heading} ${classes.ml12}  ${classes.verticalAlignTop}`}\n      >\n        {filterItem.label}:\n        </Typography>\n      <ToggleButtonGroup\n        value={lifetimeRevenueTierValue}\n        exclusive //for now\n        onChange={(event, newValue) => {\n          setLifetimeRevenueTierValue(newValue)\n          action(\n            filterItem.filterName,\n            (newValue) ? newValue : '')\n        }}\n        aria-label=\"ageTier\"\n        className={classes.w100}>\n        {Array.isArray(apiContent) ? apiContent.map((ageTier, index) => {\n          if (ageTier.label !== \"Undefined\") {\n            const Icon = lifetimeRevenueTierIconMap[ageTier.label];\n            return (\n              <ToggleButton\n                key={validIdHelper(`$FilterBar-ToggleButton-${filterItem.label}-${index}`)}\n                value={ageTier.label}\n                aria-label={ageTier.label}\n                className={classes.w33}>\n                <Icon className={classes.mr12} />\n                {_.capitalize(lifetimeRevenueTierMap[ageTier.label]) || ageTier.label}\n              </ToggleButton>\n            )\n          }\n        }) : ''}\n      </ToggleButtonGroup>\n    </EmbedMethodHighlight>\n  )\n}\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button, Modal, Fade } from '@material-ui/core'\nimport { EmbedMethodHighlight } from '../Accessories/Highlight';\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50 + rand();\n  const left = 50 + rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport const ActionButton = ({ classes, filterItem }) => {\n  // console.log(\"ActionButton\")\n\n  const modalClasses = useStyles();\n  const [open, setOpen] = useState(false);\n  const [modalStyle] = useState(getModalStyle);\n\n\n  return (\n    <EmbedMethodHighlight classes={classes} >\n      <Button onClick={() => {\n        setOpen(true)\n      }}>{filterItem.label}</Button>\n\n      < Modal\n        className={`${classes.modal} `}\n        onClose={() => setOpen(false)}\n        open={open}\n      >\n        <Fade in={true}>\n          <div style={modalStyle} className={modalClasses.paper}>\n            <h2 id=\"simple-modal-title\">Text in a modal</h2>\n            <p id=\"simple-modal-description\">\n              Duis mollis, est non commodo luctus, nisi erat porttitor ligula.\n      </p>\n          </div>\n        </Fade></Modal>\n    </EmbedMethodHighlight>\n  )\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core'\nimport { AutoComplete, ToggleTile, ToggleVisColor, SwitchTheme, SelectFont, MapFilter, RangeSlider, ToggleApi, ActionButton } from \"@pbl-demo/components/Filters\";\n\nconst { validIdHelper } = require('../../../tools');\n\nexport default function FilterBarChildren({ classes, apiContent, customFilterAction, tileToggleValue, handleTileToggle, visColorToggleValue,\n  handleVisColorToggle, lightThemeToggleValue, fontThemeSelectValue, handleThemeChange, horizontalLayout, lookerContent, type\n}) {\n  return (\n    <Grid\n      container spacing={3}>\n      {lookerContent[0].filters.map((filterItem, index) => {\n        return (\n          filterItem.component === 'autocomplete' ?\n            <Grid\n              item sm={horizontalLayout ? 3 : 12}\n              key={validIdHelper(`${type}-${filterItem.component}-${index}`)}>\n              <AutoComplete\n                apiContent={apiContent[filterItem.component]} //new\n                index={index}\n                classes={classes}\n                action={customFilterAction}\n                filterItem={filterItem}\n              />\n            </Grid>\n\n            : filterItem.component === 'togglebutton' ?\n\n              <Grid item sm={horizontalLayout ? 3 : 12}\n                key={validIdHelper(`${type}-${filterItem.label}`)}>\n                {filterItem.label === \"Dynamic Tiles\" ?\n                  <ToggleTile\n                    classes={classes}\n                    tileToggleValue={tileToggleValue}\n                    handleTileToggle={handleTileToggle}\n                    filterItem={filterItem}\n                  /> :\n                  <ToggleVisColor\n                    classes={classes}\n                    visColorToggleValue={visColorToggleValue}\n                    handleVisColorToggle={handleVisColorToggle}\n                    filterItem={filterItem}\n                  />}\n              </Grid>\n              :\n              filterItem.component === 'switch' ?\n\n                <Grid item sm={horizontalLayout ? 1 : 12}\n                  key={validIdHelper(`${type}-dynamicThemeMode`)}>\n                  <SwitchTheme\n                    classes={classes}\n                    lightThemeToggleValue={lightThemeToggleValue}\n                    handleThemeChange={handleThemeChange}\n                  />\n                </Grid>\n                :\n                filterItem.component === \"select\" ? <Grid item sm={horizontalLayout ? 2 : 12}\n                  key={validIdHelper(`${type}-dynamicThemeFont`)}>\n                  <SelectFont\n                    classes={classes}\n                    fontThemeSelectValue={fontThemeSelectValue}\n                    handleThemeChange={handleThemeChange}\n                    filterItem={filterItem}\n                  />\n                </Grid> :\n                  filterItem.component === 'mapfilter' ?\n\n                    <Grid item sm={horizontalLayout ? 3 : 12}\n                      key={validIdHelper(`${type}-${filterItem.component}-${index}`)}>\n                      <MapFilter\n                        classes={classes}\n                        action={customFilterAction}\n                        filterItem={filterItem}\n                      />\n                    </Grid>\n                    : filterItem.component === 'rangeslider' ?\n                      <Grid item sm={horizontalLayout ? 3 : 12}\n                        key={validIdHelper(`${type}-${filterItem.component}-${index}`)}>\n                        <RangeSlider\n                          apiContent={apiContent[filterItem.component]}\n                          classes={classes}\n                          action={customFilterAction}\n                          filterItem={filterItem}\n                        />\n                      </Grid>\n                      : filterItem.component === 'togglebuttonapi' ?\n                        <Grid item sm={horizontalLayout ? 3 : 12}\n                          key={validIdHelper(`${type}-${filterItem.component}-${index}`)}>\n                          <ToggleApi\n                            apiContent={apiContent[filterItem.component]}\n                            classes={classes}\n                            action={customFilterAction}\n                            filterItem={filterItem}\n                          />\n                        </Grid>\n                        : filterItem.component === 'actionbutton' ?\n                          <Grid item sm={horizontalLayout ? 3 : 12}\n                            key={validIdHelper(`${type}-${filterItem.component}-${index}`)}>\n                            <ActionButton classes={classes} filterItem={filterItem} />\n                          </Grid> :\n                          '')\n      })}\n    </Grid>\n  )\n}\n","import _ from 'lodash'\nimport React, { useState, useEffect } from 'react';\nimport { Grid, Accordion, AccordionSummary, AccordionDetails, Box } from '@material-ui/core'\nimport { ExpandMore, VerticalSplit, HorizontalSplit, ChevronLeft, Menu } from '@material-ui/icons';\nimport FilterBarChildren from './FilterBarChildren'\n\nconst { validIdHelper } = require('../../../tools');\n\nexport default function FilterBar(props) {\n  const { staticContent: { lookerContent }, staticContent: { type }, classes,\n    apiContent, customFilterAction, tileToggleValue, handleTileToggle, visColorToggleValue,\n    handleVisColorToggle, lightThemeToggleValue, fontThemeSelectValue, handleThemeChange,\n    horizontalLayout, setHorizontalLayout, drawerOpen, setDrawerOpen\n  } = props;\n\n\n  const [expanded, setExpanded] = useState(true);\n\n  useEffect(() => {\n    if (!expanded) setExpanded(true)\n  }, [horizontalLayout])\n\n\n  return (\n    <Grid item\n      sm={horizontalLayout ? 12 : drawerOpen ? 3 : 'auto'}\n      key={validIdHelper(`${type}-FilterBar-${lookerContent[0].id}`)}>\n      {apiContent ?\n        <Accordion\n          onChange={horizontalLayout ? () => setExpanded(!expanded) : () => { }}\n          expanded={expanded}\n          className={`${classes.w100} MuiExpansionPanel-root`}\n          elevation={0}\n        >\n          <AccordionSummary\n            expandIcon={horizontalLayout ? <ExpandMore /> : \"\"}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n          >\n            {horizontalLayout ?\n              <VerticalSplit\n                onClick={(e) => {\n                  setHorizontalLayout(!horizontalLayout)\n                }}\n                aria-label=\"vertical view\"\n              />\n              :\n              <>\n                {drawerOpen ?\n                  <>\n                    <ChevronLeft\n                      onClick={() => setDrawerOpen(!drawerOpen)}\n                      aria-label=\"close menu\"\n                    />\n                    <HorizontalSplit\n                      onClick={(e) => {\n                        setExpanded(true)\n                        setHorizontalLayout(!horizontalLayout)\n                      }}\n                      aria-label=\"horizontal view\" />\n                  </> :\n                  <Menu\n                    onClick={() => setDrawerOpen(!drawerOpen)}\n                    aria-label=\"open menu\"\n                  />}\n              </>}\n\n          </AccordionSummary>\n          <Box display={drawerOpen ? \"block\" : \"none\"}>\n            <AccordionDetails >\n              <FilterBarChildren {...props}\n                classes={classes}\n                apiContent={apiContent}\n                customFilterAction={customFilterAction}\n                tileToggleValue={tileToggleValue}\n                handleTileToggle={handleTileToggle}\n                visColorToggleValue={visColorToggleValue}\n                handleVisColorToggle={handleVisColorToggle}\n                lightThemeToggleValue={lightThemeToggleValue}\n                fontThemeSelectValue={fontThemeSelectValue}\n                handleThemeChange={handleThemeChange}\n                horizontalLayout={horizontalLayout}\n                setHorizontalLayout={setHorizontalLayout}\n                lookerContent={lookerContent}\n                type={type}\n              />\n            </AccordionDetails>\n          </Box>\n\n        </Accordion >\n        :\n        \"\"\n      }\n    </Grid>\n  )\n}\n\n\n","import React from 'react'\nimport { Grid, CircularProgress, Card } from '@material-ui/core'\n\n\nexport function Loader({ classes, height, hide }) {\n  return (\n    hide ? \"\" :\n      <Grid item sm={12} style={{ height }\n      } >\n        <Card className={`${classes.card} ${classes.flexCentered}`}\n          elevation={0}\n          mt={2}\n          style={{ height: `${height}px` }}\n        >\n          <CircularProgress className={classes.circularProgress} />\n        </Card>\n      </Grid >\n  )\n}\n","import React, { useContext } from 'react';\nimport { Typography, Grid, Fade, ClickAwayListener } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/Close';\nimport SyntaxHighlighter from 'react-syntax-highlighter';\nimport { dracula } from 'react-syntax-highlighter/dist/esm/styles/hljs';\nimport { appContextMap } from '../../utils/tools';\n\nexport const CodeFlyout = (props) => {\n  // console.log(\"CodeFlyout\")\n  const { codeShow, setCodeShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { classes, lookerUser, height } = props;\n\n  return (\n\n    codeShow ?\n      <Grid item sm={6}\n        className={`${classes.positionFixedTopRight}`}>\n        <ClickAwayListener onClickAway={() => setCodeShow()}>\n          <Fade in={true}>\n            {\n              Object.keys(lookerUser).length ?\n                <Grid container spacing={3}\n                  className={`${classes.padding20} ${classes.codeFlyoutContainer}`}\n                  style={{ height }}\n                >\n                  <Grid item sm={11}>\n                    <Typography variant=\"h6\" className={` ${classes.mrAuto}`} style={{ color: 'white' }}>\n                      Looker User Object\n              </Typography>\n                  </Grid>\n                  <Grid item sm={1}\n                    style={{ textAlign: 'right' }}\n                  >\n                    <CloseIcon style={{ color: 'white', cursor: 'pointer' }} onClick={() => setCodeShow()} />\n                  </Grid>\n                  <Grid item sm={12}>\n                    <CodeSnippet code={lookerUser} />\n                  </Grid>\n                </Grid> : ''\n            }\n          </Fade >\n        </ClickAwayListener >\n      </Grid>\n      : \"\"\n\n  )\n}\n\nfunction CodeSnippet(props) {\n  const { code } = props\n  return (\n    <SyntaxHighlighter language=\"json\" style={dracula} showLineNumbers={true} >\n      {typeof code === \"object\" ? JSON.stringify(code, true, 4) : code}\n    </SyntaxHighlighter>)\n}","import _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Modal, Fade, Grid, Card, CardContent, CardActions, Button, Typography, Divider, List, ListItem, ListItemText } from '@material-ui/core';\nimport { Rating } from '@material-ui/lab'\nimport { ListItemIcon } from '@material-ui/core'; //already declared\nimport { Check } from '@material-ui/icons';\nimport { appContextMap, validIdHelper } from '../../utils/tools';\n\nfunction getModalStyle() {\n  const top = 10 //+ rand();\n  const left = 50 //+ rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${left}%, -${top}%)`,\n  };\n}\n\nexport const UserPermissionsModal = ({ content, classes }) => {\n  // console.log('MonetizationModal');\n  // console.log({ content })\n  const { clientSession, payWallModal, setPaywallModal, handleSwitchLookerUser } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const [modalStyle] = React.useState(getModalStyle);\n  const { permissionLevels, modalPermissionsMap } = content;\n\n  return (\n    < Modal\n      className={`${classes.modal} `}\n      open={payWallModal.show || false}\n      onClose={() => setPaywallModal({})}\n    >\n      <Fade in={payWallModal.show || false}>\n        <div\n          style={modalStyle}\n          className={`${classes.modalPopover} ${classes.padding30}`}\n        >\n          <Grid container\n            spacing={3}>\n            {Object.keys(permissionLevels).map((key, index) => {\n              return (\n                <Grid item sm={12 / Object.keys(permissionLevels).length}\n                  key={validIdHelper(`monetizationModal-gridItem-${key}`)}\n                >\n                  <Card className={`${classes.modalCard} ${classes[key]}`}\n                    elevation={1}\n                    style={key === clientSession.lookerUser.user_attributes.permission_level ? {\n                      backgroundColor: '#5F6BD8',\n                      color: '#ffffff',\n                      height: 519\n                    } : {\n                        height: 519\n                      }}\n                    onClick={() => {\n                      handleSwitchLookerUser(key, 'permission')\n                      setPaywallModal({})\n                    }}>\n                    <CardContent>\n                      <Typography variant=\"h6\">\n                        {_.capitalize(key)}\n                      </Typography>\n                      <Typography>\n                        <Rating\n                          name=\"read-only\"\n                          value={5 - Object.keys(permissionLevels).length + index + 1}\n                          readOnly /></Typography>\n                      <Typography variant=\"subtitle1\" style={{ fontStyle: 'italic' }}>\n                        {modalPermissionsMap[key].title}\n                      </Typography>\n\n                      <Divider className={`${classes.divider} `} />\n\n                      <List>\n                        {\n                          modalPermissionsMap[key].list.map((item, index) => (\n                            <ListItem dense={true}\n                              key={`monetizationModal-ListItem-${key}-${index}`}\n                            >\n                              <ListItemIcon\n                              >\n                                <Check fontSize=\"small\" />\n                              </ListItemIcon>\n                              <ListItemText primary={item} />\n                            </ListItem>\n                          ))\n                        }\n                      </List>\n                    </CardContent>\n                    <CardActions disableSpacing={false}>\n                      <Button\n                        color=\"primary\"\n                        variant=\"outlined\"\n                        fullWidth\n                        onClick={() => {\n                          handleSwitchLookerUser(key, 'permission')\n                          setPaywallModal({})\n                        }}\n                        style={key === clientSession.lookerUser.user_attributes.permission_level ? { color: '#ffffff', borderColor: \"#ffffff\" } : {}}>\n                        {key === clientSession.lookerUser.user_attributes.permission_level ? \"Active\" :\n                          Object.keys(modalPermissionsMap).indexOf(clientSession.lookerUser.user_attributes.permission_level) < Object.keys(modalPermissionsMap).indexOf(key) ?\n                            'Upgrade' :\n                            'Switch'}\n                      </Button>\n                    </CardActions>\n                  </Card>\n                </Grid>\n              )\n            })}\n          </Grid>\n        </div >\n      </Fade >\n    </Modal >\n  );\n}\n","import React from 'react'\nimport { Grid, Box } from '@material-ui/core';\nimport { EmbedHighlight } from \"@pbl-demo/components/Accessories\";\n\nconst { validIdHelper } = require('../../../tools');\n\nexport default function EmbeddedDashboardContainer({ classes, lookerContent, type, width }) {\n  return (\n    <Grid item\n      sm={width}\n    >\n      <Box className={`${classes.w100} ${classes.padding10}`} mt={lookerContent[0].filter || lookerContent[0].dynamicFieldLookUp ? 2 : 0}>\n        <EmbedHighlight classes={classes}>\n          <div\n            className={`embedContainer ${validIdHelper(type)}`}\n            id={validIdHelper(`embedContainer-${type}-${lookerContent[0].id}`)}\n            key={validIdHelper(`embedContainer-${type}-${lookerContent[0].id}`)}\n          >\n          </div>\n        </EmbedHighlight>\n      </Box>\n    </Grid>\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport { red, green } from '@material-ui/core/colors';\n\nconst redPrimary = red[500];\nconst greenPrimary = green[500];\nconst redLight = red[100];\nconst greenLight = green[100];\n\nexport const topBarBottomBarHeight = 140;\nexport const additionalHeightForFlyout = 15; //hack for now\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    overflow: 'scroll',\n    borderRadius: 8\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  card: {\n    minWidth: 275,\n  },\n  padding30: {\n    padding: 30\n  },\n  minHeight680: {\n    minHeight: 680,\n  },\n  maxHeight200: {\n    maxHeight: 200,\n    height: 200,\n    overflow: 'hidden'\n  },\n  mt30: {\n    marginTop: 30\n  },\n  mb30: {\n    marginBottom: 30\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  cursorPointer: {\n    cursor: 'pointer'\n  },\n  border: {\n    border: '1px solid black'\n  },\n  height800: {\n    height: 800\n  },\n  maxHeight100: {\n    maxHeight: 100,\n    height: 100,\n  },\n  maxHeight400: {\n    maxHeight: 400,\n    height: 400,\n  },\n  minHeight200: {\n    minHeight: 200,\n    overflow: 'scroll'\n  },\n  redNeg: {\n    backgroundColor: redLight,\n    color: redPrimary,\n    fontWeight: 800\n  },\n  greenPos: {\n    backgroundColor: greenLight,\n    color: greenPrimary,\n    fontWeight: 800\n  },\n  padding30: {\n    padding: 30\n  },\n  mb12: {\n    marginBottom: 12\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  overflowHidden: {\n    overflow: 'hidden'\n  },\n  overflowVisible: {\n    overflow: 'visible'\n  },\n  maxHeight150: {\n    maxHeight: 150,\n    height: 150,\n  },\n  minHeight150: {\n    minHeight: 150,\n    overflow: 'scroll'\n  },\n  carouselLegend: {\n    backgroundColor: 'rgb(192,192,192, .5)\t !important',\n    textAlign: 'center !important',\n    opacity: `100 !important`,\n    fontWeight: 800,\n    // width: `${25}% !important`,\n  },\n  carouselLegendTitle: {\n    fontSize: '24px !important',\n\n  },\n  carouselLegendBody: {\n    fontSize: '16px !important',\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  padding15: {\n    padding: 15\n  },\n  maxHeight75: {\n    maxHeight: 75,\n    height: 75,\n  },\n  overflowYScroll: {\n    overflowY: 'scroll',\n    overflowX: 'hidden'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  padding20: {\n    padding: 20\n  },\n  positionFixedTopRight: {\n    position: 'fixed',\n    top: 88,\n    right: 24,\n    bottom: 0,\n    zIndex: 100,\n  },\n  codeFlyoutContainer: {\n    backgroundColor: 'rgb(40, 42, 54)',\n    overflow: 'scroll',\n    borderRadius: '0 8px 8px 0'\n  },\n  height100Percent: {\n    height: '100%'\n  },\n  noContainerScroll: {\n    width: '100%',\n    margin: 0\n  },\n  lookerCardShadow: {\n    border: 'none',\n    borderRadius: '6px',\n    boxShadow: 'rgba(0, 0, 0, 0.11) 0px 2px 12px, rgba(0, 0, 0, 0.04) 0px 1px 4px'\n  },\n  maxHeight60: {\n    maxHeight: 60,\n    height: 60,\n  },\n  maxHeight350: {\n    maxHeight: 350,\n    height: 350,\n  },\n  maxHeight80Percent: {\n    maxHeight: '80%',\n    height: '80%'\n  },\n  faSm: {\n    fontSize: '.75em'\n  },\n  mr12: {\n    marginRight: 12\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  dot: {\n    height: \"25px\",\n    width: \"25px\",\n    borderRadius: \"50%\",\n    display: \"inline-block\"\n  },\n  borderRadius0: { borderRadius: 0 },\n  w33: {\n    width: \"33%\"\n  },\n  verticalAlignTop: {\n    verticalAlign: 'top'\n  },\n  padding10: {\n    padding: 10\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  bluePrimary: {\n    backgroundColor: 'rgba(69, 149, 236, 1)'\n  },\n  blueSecondary: {\n    backgroundColor: 'rgba(69, 149, 236, .5)',\n  },\n  orangePrimary: {\n    backgroundColor: 'rgba(243, 167, 89, 1)'\n  },\n  orangeSecondary: {\n    backgroundColor: 'rgba(243, 167, 89, .5)'\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  bottomBarSpacer: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  maxHeight600: {\n    maxHeight: 600,\n    overflow: 'scroll'\n  },\n  m12: {\n    margin: 12\n  },\n  m6: {\n    margin: 6\n  },\n  // modalPopover: {\n  //   position: 'absolute',\n  //   width: 400,\n  //   height: 400,\n  //   overflow: 'scroll',\n  //   backgroundColor: theme.palette.background.paper,\n  //   padding: theme.spacing(2, 4, 3),\n  // },\n}));","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext, useCallback } from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { Grid, Card } from '@material-ui/core'\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport AppContext from '../../../contexts/AppContext';\nimport FilterBar from './FilterBar';\nimport EmbeddedDashboardContainer from './EmbeddedDashboardContainer';\nimport { Loader, CodeFlyout } from \"@pbl-demo/components/Accessories\";\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from '../styles.js';\nimport queryString from 'query-string';\n\nconst { validIdHelper } = require('../../../tools');\n\nexport default function Dashboard(props) {\n  // console.log('Dashboard');\n  const { clientSession, clientSession: { lookerUser }, sdk, corsApiCall, theme, isReady, selectedMenuItem } = useContext(AppContext)\n  const { staticContent: { lookerContent }, staticContent: { type } } = props;\n  const demoComponentType = type || 'code flyout';\n\n  const [iFrameExists, setIFrame] = useState(0);\n  const [apiContent, setApiContent] = useState(undefined);\n  const [dashboardObj, setDashboardObj] = useState({});\n  const [dashboardOptions, setDashboardOptions] = useState({});\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const [tileToggleValue, setTileToggleValue] = useState('');\n  const [visColorToggleValue, setVisColorToggleValue] = useState('#2d4266');\n  const [lightThemeToggleValue, setLightThemeToggleValue] = useState(true);\n  const [fontThemeSelectValue, setFontThemeSelectValue] = useState(\"arial\");\n  const [expansionPanelHeight, setExpansionPanelHeight] = useState(0);\n  const [horizontalLayout, setHorizontalLayout] = useState(false);\n  const [drawerOpen, setDrawerOpen] = useState(true);\n\n  let dynamicVisConfigFilterItem = _.find(lookerContent[0].filters, { label: \"Dynamic Vis Config\" });\n  const isThemeableDashboard = dynamicVisConfigFilterItem && Object.keys(dynamicVisConfigFilterItem).length ? true : false;\n  const darkThemeBackgroundColor = theme.palette.fill.main;\n\n  const classes = useStyles();\n  const location = useLocation();\n  let history = useHistory();\n\n\n\n  //condtional theming for dark mode :D\n  let paletteToUse = !lightThemeToggleValue && isThemeableDashboard ?\n    {\n      palette: {\n        type: 'dark',\n        background: { paper: darkThemeBackgroundColor, default: darkThemeBackgroundColor },\n      }\n    }\n    :\n    { palette: { ...theme.palette } }\n\n  const themeToUse = React.useMemo(\n    () =>\n      createMuiTheme(\n        paletteToUse\n      ),\n    [lightThemeToggleValue, lookerContent],\n  );\n\n  const handleTileToggle = (event, newValue) => {\n    let dynamicTileFilterItem = _.find(lookerContent[0].filters, { label: \"Dynamic Tiles\" });\n\n    if (dynamicTileFilterItem) {\n      setTileToggleValue(newValue)\n      const filteredLayout = _.filter(dashboardOptions.layouts[0].dashboard_layout_components, (row) => {\n        return (dynamicTileFilterItem.tileLookUp[newValue].indexOf(dashboardOptions.elements[row.dashboard_element_id].title) > -1)\n      })\n\n      const newDashboardLayout = {\n        ...dashboardOptions.layouts[0],\n        dashboard_layout_components: filteredLayout\n      }\n      dashboardObj.setOptions({ \"layouts\": [newDashboardLayout] })\n\n    }\n  };\n\n  const handleVisColorToggle = (event, newValue) => {\n    let dynamicVisConfigFilterItem = _.find(lookerContent[0].filters, { label: \"Dynamic Vis Config\" });\n    if (dynamicVisConfigFilterItem) {\n      let newColorSeries = dynamicVisConfigFilterItem.colors[newValue]\n      let newDashboardElements = { ...dashboardOptions.elements };\n\n      Object.keys(newDashboardElements).map(key => {\n        if (newDashboardElements[key].vis_config.series_colors) {\n          Object.keys(newDashboardElements[key].vis_config.series_colors).map((innerKey, index) => {\n            newDashboardElements[key].vis_config.series_colors[innerKey] = newColorSeries[index] || newColorSeries[0];\n          })\n        }\n        if (newDashboardElements[key].vis_config.custom_color) {\n          newDashboardElements[key].vis_config.custom_color = newColorSeries[newColorSeries.length - 2];\n        }\n        if (newDashboardElements[key].vis_config.map_value_colors) {\n          newDashboardElements[key].vis_config.map_value_colors.map((item, index) => {\n            newDashboardElements[key].vis_config.map_value_colors[index] = newColorSeries[index] || newColorSeries[0];\n          })\n        }\n        // loss some fidelity here\n        if (newDashboardElements[key].vis_config.series_cell_visualizations) {\n          Object.keys(newDashboardElements[key].vis_config.series_cell_visualizations).map((innerKey, index) => {\n            if (newDashboardElements[key].vis_config.series_cell_visualizations[innerKey].hasOwnProperty(\"palette\")) {\n              newDashboardElements[key].vis_config.series_cell_visualizations[innerKey][\"palette\"] = { ...dynamicVisConfigFilterItem.series_cell_visualizations[newValue] }\n            }\n          })\n        }\n        if (newDashboardElements[key].vis_config.header_font_color) {\n          newDashboardElements[key].vis_config.header_font_color = newColorSeries[newColorSeries.length - 2];\n        }\n        if (isThemeableDashboard) {\n          if (newDashboardElements[key].vis_config.map_tile_provider) {\n            newDashboardElements[key].vis_config.map_tile_provider = lightThemeToggleValue ? \"light\" : \"dark\";\n          }\n\n        }\n      })\n      setVisColorToggleValue(newValue)\n      dashboardObj.setOptions({ \"elements\": { ...newDashboardElements } })\n    }\n  };\n\n  const handleThemeChange = (event, newValue) => {\n    let themeName = '';\n    if (typeof newValue === \"boolean\") {//handleModeToggle\n      setLightThemeToggleValue(newValue)\n      themeName = newValue ? `light_${fontThemeSelectValue}` : `dark_${fontThemeSelectValue}`\n    } else { //handleFontToggle\n      themeName = lightThemeToggleValue ? `light_${newValue}` : `dark_${newValue}`\n      setFontThemeSelectValue(newValue)\n    }\n\n    corsApiCall(performLookerApiCalls, [lookerContent, themeName])\n  }\n\n  useEffect(() => {\n    console.log(\"useEffect outer\");\n    console.log({ lookerUser });\n    console.log({ isReady });\n    if (isReady) {\n      console.log(\"useEffect inner\")\n      let themeName = lightThemeToggleValue ? 'light' : 'dark';\n      themeName += `_${fontThemeSelectValue}`;\n      corsApiCall(performLookerApiCalls, [[...lookerContent], themeName])\n      setApiContent(undefined);\n      setHorizontalLayout(false);\n      setDrawerOpen(true);\n    }\n  }, [lookerUser, isReady, selectedMenuItem])\n\n  useEffect(() => {\n    if (Object.keys(dashboardOptions).length && Object.keys(dashboardObj).length\n    ) {\n      handleTileToggle(null, tileToggleValue ? tileToggleValue : \"Inventory\")\n      handleVisColorToggle(null, visColorToggleValue ? visColorToggleValue : '#2d4266');\n    }\n  }, [dashboardOptions]);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n    setExpansionPanelHeight(horizontalLayout ? $('.MuiExpansionPanel-root:visible').innerHeight() || 0 : 0)\n  })\n\n  useEffect(() => {\n    setHeight((window.innerHeight - topBarBottomBarHeight));\n    setExpansionPanelHeight(horizontalLayout ? $('.MuiExpansionPanel-root:visible').innerHeight() || 0 : 0)\n  }, [horizontalLayout])\n\n  useEffect(() => {\n    setApiContent(undefined);\n  }, []);\n\n  const performLookerApiCalls = function (lookerContent, dynamicTheme) {\n\n    setIFrame(0)\n    $(`.embedContainer.${validIdHelper(demoComponentType)}:visible`).html('')\n    lookerContent.map(async lookerContentItem => {\n      //dashboard creation\n      let dashboardId = lookerContentItem.id;\n      let themeToUse = dynamicTheme && isThemeableDashboard ?\n        dynamicTheme :\n        lookerContentItem.theme ?\n          lookerContentItem.theme :\n          'atom_fashion';\n\n      LookerEmbedSDK.createDashboardWithId(dashboardId)\n        .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${dashboardId}`))\n        .withClassName('iframe')\n        .withNext()\n        .withTheme(themeToUse)\n        .withParams({ 'schedule_modal': 'true' })\n        .on('dashboard:loaded', (event) => {\n          setDashboardOptions(event.dashboard.options)\n        })\n        .on('drillmenu:click', drillMenuClick)\n        .build()\n        .connect()\n        .then((dashboard) => {\n          setIFrame(1)\n          setDashboardObj(dashboard)\n          let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n          // more robust regex solution\n          // let modifiedBaseUrl = clientSession.lookerBaseUrl.replace(/:443$/, \"\")\n          LookerEmbedSDK.init(modifiedBaseUrl)\n        }).catch(error => {\n          console.log({ error })\n        });\n\n      localStorage.debug = 'looker:chatty:*'\n\n      //api calls\n      if (lookerContentItem.hasOwnProperty('filters') //&& !apiContent\n      ) {\n        // setApiContent(undefined)\n        // get inline query from usecase file & set user attribute dynamically\n        // iterating over filters\n        let apiContentObj = {}\n        lookerContentItem.filters.map(async (filterItem, index) => {\n          if (filterItem.inlineQuery) {\n            let jsonQuery = filterItem.inlineQuery\n            jsonQuery.filters = {\n              ...jsonQuery.filters,\n              [filterItem.desiredFilterName]: lookerUser.user_attributes.brand\n            };\n            let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: filterItem.resultFormat || 'json', body: jsonQuery }));\n            let queryResultsForDropdown = [];\n            let desiredProperty = Object.keys(lookerResponseData[0])[0];\n\n            for (let i = 0; i < lookerResponseData.length; i++) {\n              queryResultsForDropdown.push({\n                'label': lookerResponseData[i][desiredProperty],\n                'trend': (lookerResponseData[i]['trend']) ? lookerResponseData[i]['trend'] : undefined\n              })\n            }\n            apiContentObj[filterItem.component] = queryResultsForDropdown\n          }\n          setApiContent(apiContentObj)\n        })\n      }\n    })\n  }\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const customFilterAction = useCallback((filterName, newFilterValue) => {\n    if (Object.keys(dashboardObj).length) {\n      dashboardObj.updateFilters({ [filterName]: newFilterValue })\n      dashboardObj.run()\n    }\n  })\n\n  const drillMenuClick = (event) => {\n    if (_.includes(_.lowerCase(event.label), \"view\")) {\n      history.push({\n        pathname: 'pdfviewer',\n        search: (`pdf_url=${event.url}`)\n      })\n      return { cancel: true }\n    }\n  }\n\n  useEffect(() => {\n    let params = queryString.parse(location.search);\n    let paramMatchesFilterName = params[lookerContent[0].filterName] > 0 ? true : false;\n    if (paramMatchesFilterName)\n      customFilterAction(lookerContent[0].filterName, params[lookerContent[0].filterName])\n\n  }, [customFilterAction, location.search, lookerContent])\n\n\n  return (\n    <div className={`${classes.root} demoComponent`}\n      style={{ height }}\n    >\n      <ThemeProvider theme={themeToUse}>\n        <Card elevation={1} className={`${classes.padding15} ${classes.height100Percent}`}>\n          <div\n            className={`${classes.root} ${classes.height100Percent}`}\n          >\n            <Grid\n              container\n              spacing={3}\n            >\n              <Loader\n                hide={iFrameExists}\n                classes={classes}\n                height={height - expansionPanelHeight} />\n\n              {lookerContent[0].hasOwnProperty(\"filters\") ?\n\n                < FilterBar {...props}\n                  classes={classes}\n                  apiContent={apiContent}\n                  customFilterAction={customFilterAction}\n                  tileToggleValue={tileToggleValue}\n                  handleTileToggle={handleTileToggle}\n                  visColorToggleValue={visColorToggleValue}\n                  handleVisColorToggle={handleVisColorToggle}\n                  lightThemeToggleValue={lightThemeToggleValue}\n                  fontThemeSelectValue={fontThemeSelectValue}\n                  handleThemeChange={handleThemeChange}\n                  horizontalLayout={horizontalLayout}\n                  setHorizontalLayout={setHorizontalLayout}\n                  drawerOpen={drawerOpen}\n                  setDrawerOpen={setDrawerOpen}\n                />\n                :\n                ''}\n\n\n              <EmbeddedDashboardContainer\n                classes={classes}\n                lookerContent={lookerContent}\n                type={demoComponentType}\n                width={lookerContent[0].hasOwnProperty(\"filters\") ? horizontalLayout ? 12 : drawerOpen ? 9 : 12 : 12}\n              />\n\n              <CodeFlyout {...props}\n                classes={classes}\n                lookerUser={lookerUser}\n                height={height - expansionPanelHeight - additionalHeightForFlyout}\n              />\n\n            </Grid>\n          </div>\n        </Card>\n      </ThemeProvider >\n    </ div >\n  )\n}","import Dashboard from '../../components/Demo/Dashboard/Dashboard'\nimport HomeIcon from '@material-ui/icons/Home';\n\nexport const HomeContent = {\n  \"type\": \"dashboard\",\n  \"label\": \"Home\",\n  \"menuCategory\": \"Home\",\n  \"description\": \"Overview of all your web traffic\",\n  \"icon\": HomeIcon,\n  \"component\": Dashboard,\n  \"lookerContent\": [\n    {\n      \"type\": \"dashboard\",\n      \"lookerMethod\": \"embedDashboard\",\n      \"id\": \"18\",\n      \"label\": \"Trends\",\n      \"isNext\": false,\n      \"theme\": \"vision_theme\"\n    }],\n  \"requiredPermissionLevel\": 0\n}","import Dashboard from '../../components/Demo/Dashboard/Dashboard'\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp';\n\nexport const TrendsContent = {\n  \"type\": \"dashboard\",\n  \"label\": \"Trends\",\n  \"menuCategory\": \"Home\",\n  \"description\": \"Overview of all your web traffic\",\n  \"icon\": TrendingUpIcon,\n  \"component\": Dashboard,\n  \"lookerContent\": [\n    {\n      \"type\": \"dashboard\",\n      \"lookerMethod\": \"embedDashboard\",\n      \"id\": \"19\",\n      \"label\": \"Trends\",\n      \"isNext\": false,\n      \"theme\": \"vision_theme\"\n    }],\n  \"requiredPermissionLevel\": 0\n}","import Dashboard from '../../components/Demo/Dashboard/Dashboard'\nimport FlagIcon from '@material-ui/icons/Flag';\n\nexport const FlagsConent = {\n  \"type\": \"dashboard\",\n  \"label\": \"Flags\",\n  \"menuCategory\": \"Home\",\n  \"description\": \"Overview of all your web traffic\",\n  \"icon\": FlagIcon,\n  \"component\": Dashboard,\n  \"lookerContent\": [\n    {\n      \"type\": \"dashboard\",\n      \"lookerMethod\": \"embedDashboard\",\n      \"id\": \"20\",\n      \"label\": \"Flags\",\n      \"isNext\": false,\n      \"theme\": \"vision_theme\"\n    }],\n  \"requiredPermissionLevel\": 1\n}","import Dashboard from '../../components/Demo/Dashboard/Dashboard'\nimport AssignmentIndIcon from '@material-ui/icons/AssignmentInd';\n\nconst createCaseButton = {\n  label: \"Create Case\",\n  component: \"actionbutton\",\n  // options\n}\n\n\nexport const ApplicationContent = {\n  \"type\": \"dashboard\",\n  \"label\": \"Application\",\n  \"menuCategory\": \"Home\",\n  \"description\": \"Overview of all your web traffic\",\n  \"icon\": AssignmentIndIcon,\n  \"component\": Dashboard,\n  \"lookerContent\": [\n    {\n      \"type\": \"dashboard\",\n      \"lookerMethod\": \"embedDashboard\",\n      \"id\": \"22\",\n      \"label\": \"Application\",\n      \"isNext\": false,\n      \"theme\": \"vision_theme\",\n      \"filters\": []//[createCaseButton]\n    }],\n  \"requiredPermissionLevel\": 0\n}","import Dashboard from '../../components/Demo/Dashboard/Dashboard'\nimport PeopleIcon from '@material-ui/icons/People';\n\nexport const HouseholdsContent = {\n  \"type\": \"dashboard\",\n  \"label\": \"Households\",\n  \"menuCategory\": \"Home\",\n  \"description\": \"Overview of all your web traffic\",\n  \"icon\": PeopleIcon,\n  \"component\": Dashboard,\n  \"lookerContent\": [\n    {\n      \"type\": \"dashboard\",\n      \"lookerMethod\": \"embedDashboard\",\n      \"id\": \"21\",\n      \"label\": \"Households\",\n      \"isNext\": false,\n      \"filterName\": \"Person ID\",\n      \"theme\": \"vision_theme\"\n    }],\n  \"requiredPermissionLevel\": 1\n}","import React, { useState, useEffect, useContext } from 'react';\nimport { Typography, Grid, Chip } from '@material-ui/core';\nimport { ApiHighlight } from './Accessories/Highlight';\nconst { validIdHelper, decodeHtml, appContextMap } = require('../utils/tools');\n\n\nexport function NaturalLanguage({ lookerContentItem, inlineQuery, index, classes }) {\n\n  const [apiContent, setApiContent] = useState(undefined);\n  const { clientSession, sdk, corsApiCall, isReady } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { userProfile, lookerUser } = clientSession;\n\n  useEffect(() => {\n    if (isReady) {\n      let isSubscribed = true\n      corsApiCall(runInlineQuery).then(response => {\n        if (isSubscribed) {\n          setApiContent(response)\n        }\n      })\n      return () => isSubscribed = false\n    }\n  }, [lookerUser, isReady])\n\n  const runInlineQuery = async () => {\n    let clientLookerResponse = await sdk.ok(sdk.run_inline_query({ result_format: lookerContentItem.resultFormat || 'json', body: inlineQuery }));\n    return clientLookerResponse[0];\n  }\n\n  const upOrDownArrow = apiContent ? apiContent.change > 0 ? `&uarr;` : `&darr;` : '';\n\n  return (\n    <Grid item sm={12}>\n      {apiContent ?\n        <React.Fragment >\n          <ApiHighlight classes={classes} >\n            <Typography variant=\"subtitle1\" display=\"inline\">\n              Your {lookerContentItem.inlineQueriesMap[index]} category, <b>{apiContent['products.category']}</b>, is {apiContent.change > 0 ? 'up ' : 'down '}\n            </Typography>\n            <Chip size=\"small\"\n              label={`${decodeHtml(upOrDownArrow)} ${parseInt(apiContent.change * 100).toFixed(0)}% `}\n              className={apiContent.change > 0 ? classes.greenPos : classes.redNeg}\n              display=\"inline\"\n            />\n            <Typography variant=\"subtitle1\" display=\"inline\">\n              &nbsp;over the past week.\n        </Typography>\n          </ApiHighlight>\n        </React.Fragment>\n        : <div style={{ height: '56px' }}></div>\n      }\n    </Grid >\n  );\n}\n\n","import React, { useState } from 'react';\nimport { Typography, Card, Grid } from '@material-ui/core';\nimport { VectorThumbnail } from './VectorThumbnail';\n\nconst { validIdHelper } = require('../utils/tools');\n\nexport function PopularAnalysis({ lookerContentItem, classes }) {\n  const [apiContent, setApiContent] = useState([]);\n\n  return (\n\n    <Card className={`${classes.padding15} ${classes.overflowHidden} ${classes.lookerCardShadow}`}>\n      <div\n        className={`${classes.overflowYScroll}`}\n        style={{ height: lookerContentItem.height }}\n      >\n        <Grid container\n          spacing={3}>\n          <Grid item sm={12}>\n            <Typography variant=\"h6\" align=\"center\" color=\"secondary\">\n              Helpful Dashboards\n          </Typography></Grid>\n          {lookerContentItem.vectors.map((vectorItem, index) => {\n            return (\n              <VectorThumbnail\n                key={`${validIdHelper('vectorThumbnail-splashPage-' + index)}`}\n                {...{ lookerContentItem, vectorItem, classes, index }}\n              />\n            )\n          }\n          )}\n        </Grid>\n      </div >\n    </Card>\n  );\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport { red, green, grey } from '@material-ui/core/colors';\nconst redPrimary = red[500];\nconst greenPrimary = green[500];\nconst redLight = red[100];\nconst greenLight = green[100];\nconst lightGrey = grey[200];\n\nexport const topBarBottomBarHeight = 140;\nexport const additionalHeightForFlyout = 15; //hack for now\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    overflow: 'scroll',\n    borderRadius: 8\n  },\n  flexCentered: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  hidden: {\n    visibility: 'hidden',\n    position: 'absolute', //hack for obscuring other elements within Box\n    zIndex: -1\n  },\n  tabs: {\n    backgroundColor: 'white',\n    color: '#6c757d'\n  },\n  dNone: {\n    display: 'none'\n  },\n  dBlock: {\n    display: 'block'\n  },\n  tree: {\n    height: 240,\n    flexGrow: 1,\n    maxWidth: 400,\n  },\n  icon: {\n    marginRight: 12,\n    fontSize: '1rem',\n    overflow: 'visible'\n  },\n  mt12: {\n    marginTop: 12\n  },\n  w100: {\n    width: '100%'\n  },\n  mlAuto: {\n    marginLeft: 'auto'\n  },\n  mrAuto: {\n    marginRight: 'auto'\n  },\n  skeleton: {\n    minWidth: 275,\n    minHeight: 600,\n  },\n  card: {\n    minWidth: 275,\n  },\n  padding30: {\n    padding: 30\n  },\n  minHeight680: {\n    minHeight: 680,\n  },\n  maxHeight200: {\n    maxHeight: 200,\n    height: 200,\n    overflow: 'hidden'\n  },\n  mt30: {\n    marginTop: 30\n  },\n  mb30: {\n    marginBottom: 30\n  },\n  textCenter: {\n    textAlign: 'center'\n  },\n  cursorPointer: {\n    cursor: 'pointer'\n  },\n  border: {\n    border: '1px solid black'\n  },\n  height800: {\n    height: 800\n  },\n  maxHeight100: {\n    maxHeight: 100,\n    height: 100,\n  },\n  maxHeight400: {\n    maxHeight: 400,\n    height: 400,\n  },\n  minHeight200: {\n    minHeight: 200,\n    overflow: 'scroll'\n  },\n  redNeg: {\n    backgroundColor: redLight,\n    color: redPrimary,\n    fontWeight: 800\n  },\n  greenPos: {\n    backgroundColor: greenLight,\n    color: greenPrimary,\n    fontWeight: 800\n  },\n  padding30: {\n    padding: 30\n  },\n  mb12: {\n    marginBottom: 12\n  },\n  overflowScroll: {\n    overflow: 'scroll'\n  },\n  overflowHidden: {\n    overflow: 'hidden'\n  },\n  overflowVisible: {\n    overflow: 'visible'\n  },\n  maxHeight150: {\n    maxHeight: 150,\n    height: 150,\n  },\n  minHeight150: {\n    minHeight: 150,\n    overflow: 'scroll'\n  },\n  positionRelative: {\n    position: 'relative'\n  },\n  padding15: {\n    padding: 15\n  },\n  maxHeight75: {\n    maxHeight: 75,\n    height: 75,\n  },\n  overflowYScroll: {\n    overflowY: 'scroll',\n    overflowX: 'hidden'\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  padding20: {\n    padding: 20\n  },\n  positionFixedTopRight: {\n    position: 'fixed',\n    top: 88,\n    right: 24,\n    bottom: 0,\n    zIndex: 100,\n  },\n  codeFlyoutContainer: {\n    backgroundColor: 'rgb(40, 42, 54)',\n    overflow: 'scroll',\n    borderRadius: '0 8px 8px 0'\n  },\n  height100Percent: {\n    height: '100%'\n  },\n  noContainerScroll: {\n    width: '100%',\n    margin: 0\n  },\n  lookerCardShadow: {\n    border: 'none',\n    borderRadius: '6px',\n    boxShadow: 'rgba(0, 0, 0, 0.11) 0px 2px 12px, rgba(0, 0, 0, 0.04) 0px 1px 4px'\n  },\n  maxHeight60: {\n    maxHeight: 60,\n    height: 60,\n  },\n  maxHeight350: {\n    maxHeight: 350,\n    height: 350,\n  },\n  maxHeight80Percent: {\n    maxHeight: '80%',\n    height: '80%'\n  },\n  faSm: {\n    fontSize: '.75em'\n  },\n  mr12: {\n    marginRight: 12\n  },\n  ml12: {\n    marginLeft: 12\n  },\n  dot: {\n    height: \"25px\",\n    width: \"25px\",\n    borderRadius: \"50%\",\n    display: \"inline-block\"\n  },\n  borderRadius0: { borderRadius: 0 },\n  w33: {\n    width: \"33%\"\n  },\n  verticalAlignTop: {\n    verticalAlign: 'top'\n  },\n  padding10: {\n    padding: 10\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  visuallyHidden: {\n    border: 0,\n    clip: 'rect(0 0 0 0)',\n    height: 1,\n    margin: -1,\n    overflow: 'hidden',\n    padding: 0,\n    position: 'absolute',\n    top: 20,\n    width: 1,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  bluePrimary: {\n    backgroundColor: 'rgba(69, 149, 236, 1)'\n  },\n  blueSecondary: {\n    backgroundColor: 'rgba(69, 149, 236, .5)',\n  },\n  orangePrimary: {\n    backgroundColor: 'rgba(243, 167, 89, 1)'\n  },\n  orangeSecondary: {\n    backgroundColor: 'rgba(243, 167, 89, .5)'\n  },\n  positionTopRight: {\n    position: 'absolute',\n    top: -30,\n    right: -50,\n    bottom: 0,\n    zIndex: 100\n  },\n  bottomBarSpacer: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  maxHeight600: {\n    maxHeight: 600,\n    overflow: 'scroll'\n  },\n  m12: {\n    margin: 12\n  },\n  m6: {\n    margin: 6\n  },\n  small: {\n    width: theme.spacing(3),\n    height: theme.spacing(3),\n  },\n  signInCard: {\n    minWidth: 350,\n    minHeight: 500,\n    left: '75%',\n    top: '50%',\n    transform: `translate(-75%, -50%)`,\n    position: 'absolute',\n    textAlign: 'center',\n    backgroundColor: lightGrey\n  },\n  signInCardCopy: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: `translate(-50%, -50%)`,\n    margin: '0',\n    width: '80%',\n  }\n}));","import _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Box, Grid, Card } from '@material-ui/core'\nimport { Loader, CodeFlyout } from '@pbl-demo/components/Accessories'\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from './styles.js';\nimport { useLocation } from \"react-router-dom\";\nimport queryString from 'query-string';\n\nconst { validIdHelper, appContextMap, validateContent } = require('../utils/tools');\n\nexport const PDFViewer = (props) => {\n  const [iFrameExists, setIFrame] = useState(1);\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const { clientSession: { lookerUser, lookerHost } } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { staticContent: { lookerContent, type, schema } } = props;\n  const demoComponentType = type;\n  const classes = useStyles();\n  let location = useLocation();\n  const [pdfToUse, setPdfToUse] = useState(lookerContent[0].pdf);\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n  }, [lookerContent]);\n\n  validateContent(lookerContent[0], schema)\n\n  useEffect(() => {\n    let params = queryString.parse(location.search);\n    let paramMatchesPDFUrl = params.pdf_url ? true : false;\n\n    if (paramMatchesPDFUrl) {\n      setPdfToUse(params[\"pdf_url\"]);\n    }\n\n  }, [location.search])\n\n  return (\n    <div className={`${classes.root} demoComponent`}\n      style={{ height }}>\n      <Card elevation={1} className={`${classes.padding15} ${classes.height100Percent} ${classes.overflowScroll}`}\n      >\n        <Grid container\n          key={validIdHelper(type)}>\n          <div className={classes.root}>\n\n            <Loader\n              hide={iFrameExists}\n              classes={classes}\n              height={height} />\n\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\n              <Grid container\n                spacing={3}\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}\n                className={`${classes.noContainerScroll}`}\n              >\n\n                <CodeFlyout {...props}\n                  classes={classes}\n                  lookerUser={lookerUser}\n                  height={height - additionalHeightForFlyout}\n                />\n                {pdfToUse ?\n                  <object data={pdfToUse} type=\"application/pdf\" className={`${classes.minHeight680} ${classes.w100}`}>\n                    <iframe src={`https://docs.google.com/viewer?url=${pdfToUse}&embedded=true`} style={{ height: \"100%\", width: \"100%\" }}></iframe>\n                  </object> : \"\"}\n\n              </Grid>\n            </Box >\n          </div >\n        </Grid >\n      </Card >\n    </div >\n  )\n}","import $ from 'jquery';\nimport _ from 'lodash'\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Box, Grid, Card } from '@material-ui/core'\nimport { Loader, CodeFlyout, EmbedHighlight } from '@pbl-demo/components/Accessories'\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from './styles.js';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nconst { validIdHelper, appContextMap, validateContent } = require('../utils/tools');\n\nexport const EmbeddedExplore = (props) => {\n  const [iFrameExists, setIFrame] = useState(1);\n  const [apiContent, setApiContent] = useState(undefined);\n  const [exploreObj, setExploreObj] = useState({});\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const { clientSession, clientSession: { lookerUser, lookerHost }, isReady, sdk, corsApiCall, selectedMenuItem } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { staticContent: { lookerContent, type, schema } } = props;\n  const demoComponentType = type;\n  const classes = useStyles();\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n  }, [lookerContent]);\n\n  useEffect(() => {\n    if (isReady) {\n      corsApiCall(performLookerApiCalls, [[...lookerContent]])\n      setApiContent(undefined);\n    }\n  }, [lookerUser, isReady, selectedMenuItem])\n\n  // needed to copy from home to make it work\n  useEffect(() => {\n    let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n    LookerEmbedSDK.init(modifiedBaseUrl, '/auth')\n  }, [])\n\n  const performLookerApiCalls = function (lookerContent) {\n    // console.log(\"performLookerApiCalls\")\n    // console.log({ lookerContent })\n    $(`.embedContainer.${validIdHelper(type)}:visible`).html('')\n\n    lookerContent.map(async lookerContentItem => {\n      if (lookerContentItem.type === \"explore\") {\n        let exploreId = lookerContentItem.id;\n        let qid = lookerContentItem.qid;\n        if (qid) {\n          LookerEmbedSDK.createExploreWithId(exploreId)\n            .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContentItem.id}`))\n            .withClassName('exploreIframe')\n            .withParams({\n              qid: lookerContentItem.qid,\n              toggle: \"&toggle=vis \"\n            })\n            .on('explore:state:changed', (event) => {\n            })\n            .build()\n            .connect()\n            .then((explore) => {\n              setIFrame(1)\n              setExploreObj(explore)\n              let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n              LookerEmbedSDK.init(modifiedBaseUrl)\n            })\n            .catch((error) => {\n              console.error('Connection error', error)\n            })\n        } else {\n          LookerEmbedSDK.createExploreWithId(exploreId)\n            .appendTo(validIdHelper(`#embedContainer-${demoComponentType}-${lookerContentItem.id}`))\n            .withClassName('exploreIframe')\n            .withParams({\n              toggle: \"&toggle=vis\"\n            })\n            .on('explore:state:changed', (event) => {\n            })\n            .build()\n            .connect()\n            .then((explore) => {\n              setIFrame(1)\n              setExploreObj(explore)\n              let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n              LookerEmbedSDK.init(modifiedBaseUrl)\n            })\n            .catch((error) => {\n              console.error('Connection error', error)\n            })\n        }\n      }\n    })\n  }\n\n  return (\n    <div className={`${classes.root} demoComponent`}\n      style={{ height }}>\n      <Card elevation={1}\n        className={`${classes.padding15} ${classes.height100Percent} ${classes.overflowScroll}`}\n      >\n        <Grid container\n          key={validIdHelper(type)}>\n          <div className={classes.root}>\n            <Loader\n              hide={iFrameExists}\n              classes={classes}\n              height={height} />\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\n              <Grid container\n                spacing={3}\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}\n                className={`${classes.noContainerScroll}`}\n              >\n                <CodeFlyout {...props}\n                  classes={classes}\n                  lookerUser={lookerUser}\n                  height={height - additionalHeightForFlyout}\n                />\n                <Grid item\n                  sm={12}\n                >\n                  <Box className={`${classes.w100} ${classes.padding10}`} mt={lookerContent[0].filter || lookerContent[0].dynamicFieldLookUp ? 2 : 0}>\n                    <EmbedHighlight classes={classes}>\n                      <div\n                        className={`embedContainer ${validIdHelper(type)}`}\n                        id={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent[0].id}`)}\n                        key={validIdHelper(`embedContainer-${demoComponentType}-${lookerContent[0].id}`)}\n                      >\n                      </div>\n                    </EmbedHighlight>\n                  </Box>\n                </Grid>\n              </Grid>\n            </Box >\n          </div >\n        </Grid >\n      </Card >\n    </div >\n  )\n}","import _ from 'lodash';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory, } from \"react-router-dom\";\nimport { IconButton, Menu, MenuItem, Typography, Divider, TextField, Avatar } from '@material-ui/core';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { appContextMap, validIdHelper, endSession } from '../utils'\n\n\nexport const UserMenu = ({ classes, content }) => {\n  // console.log(\"UserMenu\");\n  // console.log({ content })\n\n  let history = useHistory();\n  let { setPaywallModal, clientSession, setClientSession, handleSwitchLookerUser, setIsReady } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [selectedBrand, setSelectedBrand] = useState(clientSession.lookerUser.user_attributes.brand || '');\n  const { permissionLevels, rowLevelAttribute } = content\n\n\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = (newValue, property) => {\n    setAnchorEl(null);\n    if (newValue == null) {\n      setIsReady(false);\n      setClientSession({});\n      history.push(\"/\")\n      endSession();\n    } else if (newValue === 'modal') {\n      setPaywallModal({\n        'show': true,\n        'permissionNeeded': 'explore'\n      })\n    } else if (typeof newValue === 'string') {\n      handleSwitchLookerUser(newValue, property)\n    }\n  };\n  useEffect(() => {\n    setSelectedBrand(clientSession.lookerUser.user_attributes.brand || '')\n  }, [clientSession.lookerUser]);\n\n  return (\n    <div className={`${classes.zIndex1500}`}>\n      <IconButton\n        aria-label=\"account of current user\"\n        aria-controls=\"menu-appbar\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        color=\"inherit\"\n      >\n        <Avatar alt={clientSession.userProfile.name} src={clientSession.userProfile.imageUrl} className={classes.mr12} />\n\n        <Typography>\n          {typeof clientSession.lookerUser.user_attributes.permission_level === 'string' ?\n            clientSession.lookerUser.user_attributes.permission_level.charAt(0).toUpperCase() + clientSession.lookerUser.user_attributes.permission_level.substring(1) : ''}\n        </Typography>\n      </IconButton>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <MenuItem autoFocus={false}>Select User Level</MenuItem>\n\n        {Object.keys(permissionLevels).map(key => {\n          return (<MenuItem\n            key={validIdHelper(`$lookerUserPermission-MenuItem-${key}`)}\n            autoFocus={false}\n            onClick={() => handleClose(key, 'permission')}>{_.capitalize(key)}</MenuItem>)\n        })}\n\n        <Divider className={classes.divider} />\n        <MenuItem onClick={() => handleClose(null)}>Sign Out</MenuItem>\n        <Divider className={classes.divider} />\n        <MenuItem onClick={() => handleClose('modal')}>Show Monetization Modal</MenuItem>\n        {Object.keys(rowLevelAttribute).length ? <div>\n          <Divider className={classes.divider} />\n          <MenuItem>{rowLevelAttribute.menuItemLabel}: {selectedBrand}</MenuItem>\n          <MenuItem>\n            <Autocomplete\n              id=\"combo-box-usermenu\"\n              options={rowLevelAttribute.options || []}\n              getOptionLabel={(option) => option.label}\n              style={{ width: 300 }}\n              onChange={(event) => handleClose((event.target.innerText || ''), 'brand')}\n              renderInput={(params) => <TextField {...params}\n                label={rowLevelAttribute.autoCompleteLabel}\n                variant=\"outlined\"\n              />}\n              loadingText=\"Loading...\"\n              disableautofocus=\"true\"\n              onKeyDown={(event) => event.stopPropagation()}\n            />\n          </MenuItem></div> : \"\"}\n      </Menu>\n    </div>\n  );\n}\n","import _ from 'lodash'\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport clsx from 'clsx';\nimport { AppBar, Toolbar, Badge, Avatar, IconButton, Grid, Typography } from '@material-ui/core';\nimport { AddAlert, ChevronLeft, Menu } from '@material-ui/icons';\nimport { UserMenu } from './UserMenu';\nimport { AutoComplete } from './Filters';\nimport { appContextMap } from '../utils/tools';\nimport { ThemeProvider } from '@material-ui/core/styles';\n\nexport const TopBar = ({ content, theme, classes }) => {\n  // console.log(\"TopBar\")\n  // console.log({ theme })\n  // console.log({ content })\n\n  let history = useHistory();\n\n  const { clientSession, setClientSession,\n    drawerOpen, setDrawerOpen,\n    sdk, corsApiCall, isReady } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n  const { userProfile, lookerUser } = clientSession;\n\n  const { packageName } = clientSession\n  const [apiContent, setApiContent] = useState(undefined);\n  const [dynamicSearch, setDynamicSearch] = useState(undefined);\n\n  useEffect(() => {\n    // console.log(\"this use effect???\")\n    // console.log({ dynamicSearch })\n    if (isReady && content && content.hasOwnProperty(\"autocomplete\")) {\n      let isSubscribed = true\n      corsApiCall(retrieveAutocompleteOptions, [dynamicSearch]).then(response => {\n        if (isSubscribed) {\n          setApiContent(response)\n        }\n      })\n      return () => isSubscribed = false\n    }\n  }, [lookerUser, isReady, dynamicSearch]);\n\n  const retrieveAutocompleteOptions = async (inputValue) => {\n    // console.log(\"retrieveAutocompleteOptions\")\n    // console.log({ inputValue })\n\n\n    let autoComplteInfo = content.autocomplete;\n    let queryToUse = autoComplteInfo.inlineQuery;\n    if (inputValue) {\n      queryToUse.filters[\"person._search\"] = `%${inputValue}%`\n    }\n    let lookerResponseData = await sdk.ok(sdk.run_inline_query({ result_format: autoComplteInfo.resultFormat || \"json\", body: queryToUse }))\n    let apiContentObj = {}\n    let queryResultsForDropdown = [];\n    for (let i = 0; i < lookerResponseData.length; i++) {\n      let formattedLabel = autoComplteInfo.formattedLabel.map(field => lookerResponseData[i][field]).join(\", \")\n      let value = autoComplteInfo.value.map(value => lookerResponseData[i][value]).toString();\n      queryResultsForDropdown.push({\n        'value': value,\n        'label': formattedLabel,\n        'trend': (lookerResponseData[i]['trend']) ? lookerResponseData[i]['trend'] : undefined\n      })\n    };\n    apiContentObj[\"autocomplete\"] = queryResultsForDropdown\n    return apiContentObj;\n  }\n\n  const filterNamesUrlsMap = {\n    \"Person ID\": \"households\"\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar)}\n      >\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            edge=\"start\"\n          >\n            {drawerOpen ? <ChevronLeft /> : <Menu />}\n          </IconButton>\n\n          {content.avatar ?\n            <Avatar alt=\"Icon\"\n              src={content.avatar}\n              style={content.avatarStyle ? content.avatarStyle : \"\"}\n              variant=\"square\"\n            /> : \"\"}\n\n          {content.label ? <Typography className={classes.ml12} variant=\"h6\">{content.label}</Typography> : \"\"}\n\n          {apiContent && apiContent.autocomplete ?\n            <Grid item sm={6} className={`${classes.mlAuto} ${classes.mr12}`}>\n              <AutoComplete\n                filterItem={content.autocomplete}\n                apiContent={apiContent.autocomplete}\n                action={(filterName, newValue) => {\n                  if (filterName && newValue) {\n                    history.push({\n                      pathname: filterNamesUrlsMap[filterName],\n                      search: (`${encodeURIComponent(filterName)}=${newValue}`)\n                    })\n                  }\n                }}\n                classes={classes}\n                bgColor={\"white\"}\n                setDynamicSearch={setDynamicSearch}\n              /></Grid> : \"\"}\n\n          <Badge badgeContent={3} color=\"error\" className={apiContent && apiContent.autocomplete ? `${classes.mr12}` : `${classes.mlAuto} ${classes.mr12}`} >\n            <AddAlert />\n          </Badge>\n          <UserMenu classes={classes} content={content.usermenu} />\n        </Toolbar>\n      </AppBar>\n    </ThemeProvider>\n  )\n}\n\n","import React, { useContext } from 'react';\nimport { AppBar, Toolbar, Button } from '@material-ui/core';\nimport { Code, HighlightOutlined } from '@material-ui/icons';\nimport { appContextMap } from '../utils/tools';\n\n\nexport const BottomBar = ({ classes }) => {\n  // console.log('BottomBar')\n\n  const { highlightShow, setHighlightShow,\n    codeShow, setCodeShow } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n\n  return (\n    <AppBar position=\"fixed\" color=\"transparent\" className={classes.appBarBottom} >\n      <Toolbar variant=\"dense\">\n        <Button\n          className={`${classes.mlAuto} ${classes.mr12}`}\n          display=\"inline\"\n          startIcon={<HighlightOutlined />}\n          onClick={() => {\n            if (codeShow) setCodeShow(!codeShow)\n            setHighlightShow(!highlightShow)\n          }\n          }>Source\n    </Button>\n        <Button\n          display=\"inline\"\n          startIcon={<Code />}\n          onClick={() => {\n            if (highlightShow) setHighlightShow(!highlightShow)\n            setCodeShow(!codeShow)\n          }}>Code\n      </Button>\n      </Toolbar>\n    </AppBar >\n  );\n}\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Box, Grid, Card } from '@material-ui/core'\nimport { Loader, CodeFlyout } from './Accessories'\nimport { appContextMap, validIdHelper } from '../utils/tools';\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from './styles.js';\n\nexport const SplashPage = (props) => {\n\n  const [iFrameExists] = useState(1);\n  const [height, setHeight] = useState((window.innerHeight - topBarBottomBarHeight));\n  const { clientSession: { lookerUser, lookerHost } } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME])\n  const { staticContent: { lookerContent }, staticContent: { type } } = props;\n  const classes = useStyles();\n  const demoComponentType = type || 'code flyout';\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", () => setHeight((window.innerHeight - topBarBottomBarHeight)));\n  }, [lookerContent]);\n\n\n  return (\n    <div className={`${classes.root}`}\n      style={{ height }}>\n      <Card elevation={1} className={`${classes.padding15} ${classes.height100Percent} ${classes.overflowScroll}`}>\n        <Grid container\n          key={validIdHelper(type)}>\n          <div className={classes.root}>\n            <Loader hide={iFrameExists} classes={classes} height={height} />\n\n            <Box className={iFrameExists ? `` : `${classes.hidden}`}>\n              <Grid container\n                spacing={3}\n                key={`${validIdHelper(demoComponentType + '-outerFragment')}`}\n                className={`${classes.noContainerScroll}`}\n              >\n                <CodeFlyout {...props}\n                  classes={classes}\n                  lookerUser={lookerUser}\n                  height={height - additionalHeightForFlyout}\n                />\n                {lookerContent.map((lookerContentItem, innerIndex) => {\n                  const ComponentToRender = lookerContentItem.component\n                  return (\n                    <Grid\n                      key={`${validIdHelper(demoComponentType + '-innerFragment-' + innerIndex)}`}\n                      item\n                      sm={parseInt(lookerContentItem.gridWidth)}\n                    >\n                      {ComponentToRender ? <ComponentToRender {...{ lookerContentItem, classes, demoComponentType, lookerHost }} /> : \"\"}\n                    </Grid>\n                  )\n                })}\n              </Grid>\n            </Box >\n          </div >\n        </Grid >\n      </Card >\n    </div >\n  )\n}","import _ from 'lodash'\nimport React, { useContext, useEffect } from 'react';\nimport { GoogleLogin } from 'react-google-login';\nimport { Grid, Card, CardActions, CardContent, Typography } from '@material-ui/core'\nimport { writeNewSession, createSdkHelper } from '../utils'\nconst { validIdHelper, appContextMap, validateContent } = require('../utils/tools');\nimport { useStyles, topBarBottomBarHeight, additionalHeightForFlyout } from './styles.js';\n\nexport const SignIn = ({ content, initialUser }) => {\n\n  let { clientSession, setClientSession, sdk, setSdk, initialHref, setInitialHref } = useContext(appContextMap[process.env.REACT_APP_PACKAGE_NAME]);\n  const { packageName } = clientSession;\n  const { backgroundImage, logo, logoStyle, backgroundImageStyle } = content\n\n  const responseGoogle = async (response) => {\n    if (response.error) {\n    } else {\n      let newSession = await writeNewSession({ ...clientSession, userProfile: response.profileObj, lookerUser: initialUser }) //initialLookerUser\n\n      const lookerBaseUrl = newSession.session.lookerBaseUrl ? newSession.session.lookerBaseUrl : '';\n      const accessToken = newSession.session.lookerApiToken ? newSession.session.lookerApiToken.api_user_token : '';\n      const sdk = createSdkHelper({ lookerBaseUrl, accessToken })\n\n      setClientSession(newSession.session);\n      setSdk(sdk)\n    }\n  }\n  const googleClientId = `${process.env.REACT_APP_GOOGLE_CLIENT_ID}.apps.googleusercontent.com`;\n  const classes = useStyles();\n\n  return (\n    <div className={`${classes.root} demoComponent ${classes.height100Percent}`}>\n      <Grid container\n        key={validIdHelper('sign in page')}\n        className={`${classes.height100Percent}`}>\n        <Grid item sm={12} className={'sign-in-background-img'}\n          style={backgroundImageStyle ? backgroundImageStyle : ''}\n        >\n          <Card className={classes.signInCard}>\n            <div className={classes.signInCardCopy}>\n              <img\n                src={logo}\n                style={logoStyle ? logoStyle : ''}\n              />\n              <CardContent >\n                <Typography variant=\"h5\" component=\"h2\">\n                  {content.cardHeader}\n                </Typography>\n                <Typography variant=\"body2\" component=\"p\">\n                  {content.cardBody}\n                </Typography>\n              </CardContent>\n              <CardActions className={`${classes.flexCentered}`} >\n                <GoogleLogin\n                  clientId={googleClientId}\n                  buttonText=\"Login\"\n                  onSuccess={responseGoogle}\n                  onFailure={responseGoogle}\n                  cookiePolicy={'single_host_origin'}\n                />\n              </CardActions>\n            </div>\n          </Card>\n        </Grid>\n      </Grid>\n    </div >\n  )\n}","import { EmbeddedExplore } from \"@pbl-demo/components\";\nimport ExploreIcon from '@material-ui/icons/Explore';\n\nexport const ExploreContent = {\n  \"type\": \"explore\",\n  \"label\": \"Explore\",\n  \"menuCategory\": \"Home\",\n  \"description\": \"Overview of all your web traffic\",\n  \"icon\": ExploreIcon,\n  \"component\": EmbeddedExplore,\n  \"lookerContent\": [\n    {\n      \"type\": \"explore\",\n      \"id\": \"vision::application\",\n      \"label\": \"Explore Applications\"\n    }],\n  \"requiredPermissionLevel\": 1,\n}","import PictureAsPdfIcon from '@material-ui/icons/PictureAsPdf';\nimport { PDFViewer } from \"@pbl-demo/components\";\n\nconst schema = {\n  type: (value) => {\n    return typeof value === \"string\";\n  },\n  label: (value) => {\n    return typeof value === \"string\";\n  }\n}\n\nexport const PDFViewerContent = {\n  \"type\": \"customfilter\",\n  \"label\": \"PDF Viewer\",\n  \"menuCategory\": \"Home\",\n  \"description\": \"Overview of all your web traffic\",\n  \"icon\": PictureAsPdfIcon,\n  \"component\": PDFViewer,\n  \"lookerContent\": [\n    {\n      \"type\": \"pdfviewer\",\n      \"id\": \"20\",\n      \"label\": \"PDF Viewer\",\n      \"isNext\": false,\n      \"filters\": [],\n      \"pdf\": \"https://storage.googleapis.com/looker-dat-vision/1099.pdf\"\n    }],\n  \"schema\": schema,\n  \"requiredPermissionLevel\": 1\n}\n\n\n","export const permissionLevels = {\n  \"partner\": [\n    \"access_data\",\n    \"see_looks\",\n    \"see_user_dashboards\",\n    \"see_lookml_dashboards\",\n    \"download_with_limit\"\n  ],\n  \"administrator\": [\n    \"access_data\",\n    \"see_looks\",\n    \"see_user_dashboards\",\n    \"see_lookml_dashboards\",\n    \"download_with_limit\",\n    \"schedule_look_emails\",\n    \"schedule_external_look_emails\",\n    \"create_alerts\",\n    \"see_drill_overlay\",\n    \"save_content\",\n    \"embed_browse_spaces\",\n    \"schedule_look_emails\",\n    \"send_to_sftp\",\n    \"send_to_s3\",\n    \"send_outgoing_webhook\",\n    \"send_to_integration\",\n    \"download_without_limit\",\n    \"explore\",\n    \"see_sql\"\n  ]\n}\n\nexport const userTimeHorizonMap = {\n  \"partner\": \"last 182 days\",\n  \"administrator\": \"last 365 days\"\n}\n\nexport const initialUser = {\n  \"external_user_id\": \"\",\n  \"first_name\": \"\",\n  \"last_name\": \"\",\n  \"session_length\": 86400,\n  \"force_logout_login\": true,\n  \"external_group_id\": \"\",\n  \"group_ids\": [\n    4\n  ],\n  \"permissions\":\n    permissionLevels[Object.keys(permissionLevels)[0]],\n  \"models\": [\n    \"vision\"\n  ],\n  \"user_attributes\": {\n    \"locale\": \"en_US\",\n    \"country\": \"USA\",\n    \"time_horizon\": \"last 182 days\",\n    \"permission_level\": Object.keys(permissionLevels)[0]\n  }\n}\n\nexport const modalPermissionsMap = {\n  \"partner\": {\n    \"title\": \"I'm a viewer\",\n    \"list\": [\n      '6 months of order data history',\n      'Atom Merchant Dashboards',\n      'Download PDFs, CSVs'\n    ]\n  },\n  \"administrator\": {\n    \"title\": \"I'm a manager\",\n    \"list\": [\n      '2 Full years of order data history',\n      'Analyze your own data and save custom reports',\n      'View premium level, productivity enhancing reports',\n      'Share your reports with colleagues in Atom',\n      'Text message alerts',\n    ]\n  }\n}\n\nexport const rowLevelAttribute = {\n  // \"autoCompleteLabel\": \"Change zip\",\n  // \"menuItemLabel\": \"Current zip\",\n  // \"options\": [\n  //   {\n  //     \"label\": \"10012\"\n  //   },\n  //   {\n  //     \"label\": \"10013\"\n  //   },\n  //   {\n  //     \"label\": \"10014\"\n  //   },\n  //   {\n  //     \"label\": \"10015\"\n  //   },\n  //   {\n  //     \"label\": \"10016\"\n  //   }\n  // ]\n}","\nimport { permissionLevels, rowLevelAttribute } from \"./UserPermissionsContent\";\nimport { HouseholdsContent } from './Demo/HouseholdsContent'\nconst logo = require('../images/logo.svg').default\n\nexport const TopBarContent = {\n  \"autocomplete\": {\n    \"filterName\": \"Person ID\", //needs to match filter name in corresponding component file\n    \"lookerMethod\": \"runInlineQuery\",\n    \"inlineQuery\": {\n      \"model\": \"vision\",\n      \"view\": \"application\",\n      \"fields\": [\n        \"person._search\",\n        \"person.person_id\",\n      ],\n      \"filters\": {\n        \"person.person_id\": \"not null\"\n      },\n      \"query_timezone\": \"America/Los_Angeles\",\n      \"limit\": 50\n    },\n    \"resultFormat\": \"json\",\n    \"formattedLabel\": [\n      \"person._search\"],\n    \"value\": [\n      \"person.person_id\"],\n    \"correspondingComponentContent\": HouseholdsContent,\n    \"alternateName\": \"Search\",\n    \"apiDrivenSearch\": true\n  },\n  \"usermenu\": { permissionLevels, rowLevelAttribute },\n  \"label\": \"Benefits Investigator\", //<br/>\n  \"avatar\": logo,\n  \"avatarStyle\": {\n    \"height\": \"40px\",\n    \"fill\": \"white\"\n  }\n}","const logo = require('../images/logo_text.svg').default\nconst backgroundImageInt = Math.floor(Math.random() * 4) + 1;\nconst backgroundImage = require(`../images/background${backgroundImageInt}.jpg`).default\n\nexport const SignInContent = {\n  \"cardHeader\": \"Welcome\",\n  \"cardBody\": \"Please sign in to access your fraud portal\",\n  \"logo\": logo,\n  \"logoStyle\": {\n    \"height\": '100px',\n    \"width\": \"auto\"\n  },\n  \"backgroundImage\": backgroundImage,\n  \"backgroundImageStyle\": {\n    \"backgroundImage\": `url(${backgroundImage})`,\n    \"backgroundSize\": 'cover'\n  }\n}","import _ from 'lodash'\nimport React, { useState, useEffect, useContext, useRef } from 'react';\nimport { useParams, useHistory } from \"react-router-dom\";\nimport AppContext from '../../contexts/AppContext';\nimport { LookerEmbedSDK } from '@looker/embed-sdk'\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { CssBaseline } from '@material-ui/core/';\nimport clsx from 'clsx';\nimport LeftDrawer from './LeftDrawer';\nimport '../Home.css';\nimport { useStyles } from './styles.js';\nimport { packageNameTheme } from '../../config/theme.js';\nimport * as DemoComponentsContentArr from '../../config/Demo';\nimport { TopBar, BottomBar } from \"@pbl-demo/components\";\nimport { TopBarContent } from '../../config/TopBarContent';\nimport { checkToken, endSession } from '@pbl-demo/utils/auth';\nimport { permissionLevels, userTimeHorizonMap, modalPermissionsMap } from '../../config';\nimport { UserPermissionsModal } from \"@pbl-demo/components/Accessories\";\nconst { validIdHelper } = require('../../tools');\n\nexport default function Home(props) {\n  // console.log(\"Home\")\n  let { setClientSession, clientSession, sdk, setSdk, isReady, setIsReady } = useContext(AppContext)\n  let { democomponent } = useParams();\n  let history = useHistory();\n  const classes = useStyles();\n  const didMountRef = useRef(false)\n  const [drawerOpen, setDrawerOpen] = useState(window.innerWidth > 768 ? true : false);\n  const [highlightShow, setHighlightShow] = useState(false);\n  const [codeShow, setCodeShow] = useState(false);\n  const [payWallModal, setPaywallModal] = useState({});\n  const [selectedMenuItem, setSelectedMenuItem] = useState(democomponent);\n\n  const { lookerUser: { user_attributes: { permission_level } } = { user_attributes: 'No match' } } = clientSession;\n  const currentPermissionLevel = Object.keys(permissionLevels).indexOf(permission_level);\n  const demoComponentsContentArr = _.filter(DemoComponentsContentArr, demoComponent => demoComponent.requiredPermissionLevel <= currentPermissionLevel);\n  let topBarContent = { ...TopBarContent };\n  if (topBarContent.autocomplete && currentPermissionLevel < topBarContent.autocomplete.correspondingComponentContent.requiredPermissionLevel) {\n    delete topBarContent.autocomplete\n  }\n\n  const handleSwitchLookerUser = async (newValue, property) => {\n\n    let newLookerUser = { ...clientSession.lookerUser }\n    if (property === 'brand') {\n      newLookerUser.user_attributes.brand = newValue\n    } else if (property === 'permission') {\n      newLookerUser.permissions = permissionLevels[newValue]\n      newLookerUser.user_attributes.permission_level = newValue\n      newLookerUser.user_attributes.time_horizon = userTimeHorizonMap[newValue]\n    }\n\n    const lookerUserResponse = await fetch('/updatelookeruser', {\n      method: 'POST',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newLookerUser)\n    })\n\n    let lookerUserResponseData = await lookerUserResponse.json();\n    setClientSession(lookerUserResponseData.session);\n  }\n\n\n  const corsApiCall = async (func, args = []) => {\n    console.log(\"corsApiCall\");\n\n    let checkTokenRsp = await checkToken(clientSession.lookerApiToken.expires_in);\n    //old method of renewing token and client session\n    // if (checkTokenRsp.sdk) {\n    //   setSdk(checkTokenRsp.sdk)\n    // }\n    // if (checkTokenRsp.clientSession) {\n    //   setClientSession(checkTokenRsp.clientSession)\n    // }\n\n    //new method of signing user out\n    if (checkTokenRsp.status === 'expired') {\n      setIsReady(false);\n      setClientSession({})\n      history.push(\"/\")\n      endSession();\n    } else {\n      let res = func(...args)\n      return res\n    }\n  }\n\n  useEffect(() => {\n\n    let modifiedBaseUrl = clientSession.lookerBaseUrl.substring(0, clientSession.lookerBaseUrl.lastIndexOf(\":\"));\n    LookerEmbedSDK.init(modifiedBaseUrl, '/auth')\n\n    //listen to resize event\n    window.addEventListener(\"resize\", () => {\n      setDrawerOpen(window.innerWidth > 768 ? true : false)\n    });\n\n    //listen to refresh or closing tab event\n    window.addEventListener(\"beforeunload\", (e) => {\n      setIsReady(false);\n      setClientSession({})\n      history.push(\"/\")\n      endSession();\n\n      // return undefined; //doesn't work with close tab, only refresh\n\n      //works with both close tab and refresh\n      let confirmationMessage = \"\\o/\";\n      (e || window.event).returnValue = confirmationMessage; //Gecko + IE\n      return confirmationMessage;                            //Webkit, Safari, Chrome\n\n    });\n\n  }, []) //onload\n\n  useEffect(() => {\n    if (didMountRef.current) {\n      // doStuff()\n    } else didMountRef.current = true\n  })\n\n\n  useEffect(() => {\n    if (highlightShow) setHighlightShow(!highlightShow);\n    if (codeShow) setCodeShow(!codeShow);\n    setSelectedMenuItem(democomponent)\n  }, [democomponent])\n\n  let ActiveDemoComponent;\n  const ActiveDemoComponentContent = _.find(demoComponentsContentArr, (o) => {\n    return selectedMenuItem === validIdHelper(_.lowerCase(o.label))\n  });\n  if (!ActiveDemoComponentContent) history.push(validIdHelper(_.lowerCase(demoComponentsContentArr[0].label)))\n  else ActiveDemoComponent = ActiveDemoComponentContent.component;\n\n  return (\n    <div className={classes.root} >\n\n      <AppContext.Provider value={{\n        clientSession, setClientSession,\n        payWallModal, setPaywallModal,\n        handleSwitchLookerUser,\n        drawerOpen, setDrawerOpen,\n        selectedMenuItem,\n        highlightShow, setHighlightShow,\n        codeShow, setCodeShow,\n        sdk,\n        corsApiCall,\n        theme: packageNameTheme,\n        isReady, setIsReady\n      }}>\n        <ThemeProvider theme={packageNameTheme}>\n          <CssBaseline />\n          <TopBar\n            content={topBarContent}\n            theme={packageNameTheme}\n            classes={classes}\n          />\n          <UserPermissionsModal content={{ permissionLevels, modalPermissionsMap }} classes={classes} />\n          <LeftDrawer DemoComponentsContentArr={demoComponentsContentArr} />\n          <main\n            className={clsx(classes.content, {\n              [classes.contentShift]: drawerOpen,\n            })}\n          >\n\n            <div className={classes.drawerHeader} />\n            {ActiveDemoComponent ? <ActiveDemoComponent staticContent={ActiveDemoComponentContent} /> : ''}\n          </main>\n\n          <BottomBar classes={classes} />\n        </ThemeProvider>\n      </AppContext.Provider>\n    </div>\n  )\n}","import _ from 'lodash'\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types'\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\nimport AppContext from './contexts/AppContext';\nimport { checkForExistingSession, createSdkHelper } from '@pbl-demo/utils/auth';\nimport Home from './components/Home/Home';\nimport * as DemoComponentsContentArr from './config/Demo';\nimport { validIdHelper } from './tools';\nimport { SignIn } from '@pbl-demo/components';\nimport { SignInContent, initialUser } from './config';\n\nfunction App(props) {\n\n  const [clientSession, setClientSession] = useState({});\n  const [sdk, setSdk] = useState();\n  const [initialHref, setInitialHref] = useState();\n  const [isReady, setIsReady] = useState(false);\n\n  //onload\n  useEffect(() => {\n    async function fetchSession() {\n\n      const sessionResponse = await checkForExistingSession();\n      if (sessionResponse.session) {\n\n        const lookerBaseUrl = sessionResponse.lookerBaseUrl ? sessionResponse.lookerBaseUrl : undefined;\n        const accessToken = sessionResponse.lookerApiToken ? sessionResponse.lookerApiToken.api_user_token : undefined;\n\n        if (lookerBaseUrl && accessToken) {\n          const sdk = createSdkHelper({ accessToken, lookerBaseUrl })\n          setSdk(sdk)\n        }\n\n        setClientSession(sessionResponse.session)\n      }\n    }\n    fetchSession(); //make async call\n  }, [])\n\n  useEffect(() => {\n    if (clientSession && sdk) setIsReady(true)\n    else if (clientSession.userProfile) {\n      const lookerBaseUrl = clientSession.lookerBaseUrl ? clientSession.lookerBaseUrl : '';\n      const accessToken = clientSession.lookerApiToken ? clientSession.lookerApiToken.api_user_token : '';\n      const sdk = createSdkHelper({ accessToken, lookerBaseUrl })\n      setSdk(sdk)\n    }\n  }, [clientSession, sdk])\n\n  console.log({ clientSession })\n\n  // console.log(clientSession.lookerApiToken ? Date(clientSession.lookerApiToken.expires_in) : \"\")\n\n  return (\n    < Router >\n      <AppContext.Provider value={{\n        clientSession, setClientSession,\n        sdk, setSdk,\n        initialHref, setInitialHref,\n        isReady, setIsReady\n      }}>\n        <Switch>\n          <PrivateRoute\n            path='/analytics/:democomponent?'\n            // exact\n            isSignedIn={clientSession.userProfile ? true : false}\n            component={Home}\n            setInitialHref={setInitialHref}\n            initialHref={initialHref}\n          >\n          </PrivateRoute>\n          <PublicRoute\n            path='/'\n            exact\n            isSignedIn={clientSession.userProfile ? true : false}\n            component={SignIn}\n            initialHref={initialHref}\n            content={SignInContent}\n            initialUser={initialUser}\n          >\n          </PublicRoute>\n          {/* catach all route */}\n          <Route render={() => <Redirect to=\"/\" />} />\n        </Switch>\n      </AppContext.Provider>\n    </Router >\n  )\n}\n\nApp.propTypes = {\n\n}\n\nexport default App\n\nconst PrivateRoute = ({\n  component: Component,\n  isSignedIn,\n  setInitialHref,\n  ...rest }) => {\n\n  if (!isSignedIn) setInitialHref(window.location.href);\n  else setInitialHref()\n\n  return (\n\n    <Route exact\n      {...rest} render={(props) => (\n        (isSignedIn) ?\n          <Component {...props} />\n          : <Redirect\n            to=\"/\"\n          />\n      )} />\n  );\n};\n\n\nconst PublicRoute = ({ component: Component,\n  isSignedIn,\n  // restricted, \n  initialHref,\n  content,\n  initialUser,\n  ...rest }) => {\n\n  const demoComponentMap = {};\n  Object.keys(DemoComponentsContentArr).map(key => {\n    demoComponentMap[validIdHelper(_.lowerCase(DemoComponentsContentArr[key].label))] =\n      validIdHelper(_.startCase(DemoComponentsContentArr[key].type));\n  });\n\n  let urlToUse = '/analytics/home';\n  if (initialHref) {\n    let initialHrefArr = initialHref.split('/');\n    let lastTwoHrefArr = initialHrefArr.slice(-2);\n    let lastOneHrefArr = initialHrefArr.slice(-1);\n\n    if (demoComponentMap.hasOwnProperty(lastOneHrefArr)) urlToUse = lastTwoHrefArr.join('/');\n  }\n\n  return (\n    // restricted = false meaning public route\n    // restricted = true meaning restricted route\n    <Route exact\n      {...rest} render={(props) => (\n        (isSignedIn) ?\n          <Redirect\n            to={urlToUse}\n          />\n          : <Component {...props}\n            content={content}\n            initialUser={initialUser} />\n      )} />\n  );\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\n\nconst AppContext = React.createContext(null);\n\nexport default AppContext;","import AppContextAtom from '../../atom/src/contexts/AppContext';\nimport AppContextVision from '../../vision/src/contexts/AppContext';\n\n\nexport const makeid = (length) => {\n  var result = '';\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\n\nexport const validIdHelper = (str) => {\n  // console.log('validIdHelper')\n  // console.log('str', str)\n  //need to replace special characters that may be associated with id...\n  return str.replace(/[^a-zA-Z0-9-.#]/g, \"\")\n}\n\nexport const prettifyString = (str) => {\n  var i, frags = str.split('_');\n  for (i = 0; i < frags.length; i++) {\n    frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);\n  }\n  return frags.join(' ');\n}\n\nexport const getUrlVars = (url) => {\n  var hash;\n  var myJson = {};\n  var hashes = url.slice(url.indexOf('?') + 1).split('&');\n  for (var i = 0; i < hashes.length; i++) {\n    hash = hashes[i].split('=');\n    myJson[hash[0]] = hash[1];\n    // If you want to get in native datatypes\n    // myJson[hash[0]] = JSON.parse(hash[1]); \n  }\n  return myJson;\n}\nexport const decodeHtml = (html) => {\n  var txt = document.createElement(\"textarea\");\n  txt.innerHTML = html;\n  return txt.value;\n}\n\nexport const appContextMap = {\n  \"atom\": AppContextAtom,\n  \"vision\": AppContextVision,\n}\n\nexport const validateContent = (object, schema) => {\n  var errors = Object.keys(schema).filter(function (key) {\n    return !schema[key](object[key]);\n  }).map(function (key) {\n    return new Error(key + \" is invalid.\");\n  });\n\n  if (errors.length > 0) {\n    errors.forEach(function (error) {\n      console.log(error.message);\n    });\n  } else {\n    console.log(\"info is valid\");\n  }\n}","import React from 'react';\n\nconst AppContext = React.createContext(null);\n\nexport default AppContext;"],"sourceRoot":""}