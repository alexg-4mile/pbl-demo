//Explore.sample.txt
//import the emebed sdk
import { LookerEmbedSDK, LookerEmbedDashboard } from '@looker/embed-sdk'

//initialize the embed sdk, only needs to be done once
LookerEmbedSDK.init('demo.looker.com', '/auth')

//call helper method when page loads to create dashboard and setup events
componentDidMount() {
    this.embedSdkInit()
}

//create dashboard using embed sdk method
embedSdkInit() {
    LookerEmbedSDK.createExploreWithId('thelook_adwords::events')
        .appendTo('#embedContainer')
        .withClassName('iframe')
        .build()
        .connect()
        .then(this.setupExplore)
        .catch((error) => {
            console.error('Connection error', error)
        })
}

//apply dashboard to state so it's accessible for events later
//e.g. this.filtersUpdate()
setupExplore = (explore) => {
    this.setState({
        explore: explore
    })
}

//render embedContainer on the page so the dashboard can be appeneded
render() {
    return (
            <div id="embedContainer" className="col-sm-12 w-100">
    )
}